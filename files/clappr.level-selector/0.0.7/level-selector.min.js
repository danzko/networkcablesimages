!function e(t,n,r){function o(i,a){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!a&&s)return s(i,!0);if(l)return l(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[i].exports}for(var l="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";t.exports=e("./src/main")},{"./src/main":19}],2:[function(e,t,n){"use strict";var r=e("lodash.template");t.exports={level_selector:r('<button data-level-selector-button>  Auto</button><ul>  <li><a href="#" data-level-selector-select="-1">AUTO</a></li>  <% for (var i = 0; i < levels.length; i++) { %>    <li><a href="#" data-level-selector-select="<%= i %>"><%= Math.floor(levels[i].bitrate / 1000) %>kbps</a></li>  <% }; %></ul>'),CSS:{level_selector:'.level_selector[data-level-selector]{float:right;margin-top:5px;position:relative}.level_selector[data-level-selector] button{background-color:transparent;color:#fff;font-family:Roboto,"Open Sans",Arial,sans-serif;-webkit-font-smoothing:antialiased;border:none;font-size:10px}.level_selector[data-level-selector] button:hover{color:#c9c9c9}.level_selector[data-level-selector] button.changing{-webkit-animation:pulse .5s infinite alternate}.level_selector[data-level-selector]>ul{list-style-type:none;position:absolute;bottom:25px;border:1px solid #000;display:none;background-color:#e6e6e6}.level_selector[data-level-selector] li a{color:#444;padding:2px 10px;display:block;text-decoration:none;font-size:10px}.level_selector[data-level-selector] li:hover{background-color:#555;color:#fff}.level_selector[data-level-selector] li:hover a{color:#fff;text-decoration:none}@-webkit-keyframes pulse{0%{color:#fff}50%{color:#ff0101}100%{color:#B80000}}'}}},{"lodash.template":3}],3:[function(e,t,n){function r(e){return"\\"+w[e]}function o(e){return!!e&&"object"==typeof e}function l(e,t,n,r){return void 0!==e&&k.call(r,n)?e:t}function i(e,t,n){var r=y(t);P.apply(r,D(t));for(var o=-1,l=r.length;++o<l;){var i=r[o],a=e[i],s=n(a,t[i],i,e,t);(s===s?s===a:a!==a)&&(void 0!==a||i in e)||(e[i]=s)}return e}function a(e){return u(e)?e:Object(e)}function s(e){return o(e)&&"string"==typeof e.message&&$.call(e)==x}function u(e){var t=typeof e;return"function"==t||!!e&&"object"==t}function c(e,t,n){var o=m.imports._.templateSettings||m;n&&d(e,t,n)&&(t=n=null),e=v(e),t=i(N({},n||t),o,l);var a,u,c=i(N({},t.imports),o.imports,l),p=y(c),f=h(c,p),b=0,_=t.interpolate||A,x="__p += '",w=RegExp((t.escape||A).source+"|"+_.source+"|"+(_===g?j:A).source+"|"+(t.evaluate||A).source+"|$","g"),T="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";e.replace(w,function(t,n,o,l,i,s){return o||(o=l),x+=e.slice(b,s).replace(L,r),n&&(a=!0,x+="' +\n__e("+n+") +\n'"),i&&(u=!0,x+="';\n"+i+";\n__p += '"),o&&(x+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),b=s+t.length,t}),x+="';\n";var S=t.variable;S||(x="with (obj) {\n"+x+"\n}\n"),x=(u?x.replace(C,""):x).replace(E,"$1").replace(O,"$1;"),x="function("+(S||"obj")+") {\n"+(S?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+x+"return __p\n}";var k=M(function(){return Function(p,T+"return "+x).apply(void 0,f)});if(k.source=x,s(k))throw k;return k}function p(e){return function(){return e}}var f=e("lodash._basecopy"),v=e("lodash._basetostring"),h=e("lodash._basevalues"),d=e("lodash._isiterateecall"),g=e("lodash._reinterpolate"),b=(e("lodash.escape"),e("lodash.isnative")),y=e("lodash.keys"),_=e("lodash.restparam"),m=e("lodash.templatesettings"),x="[object Error]",C=/\b__p \+= '';/g,E=/\b(__p \+=) '' \+/g,O=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,A=/($^)/,L=/['\n\r\u2028\u2029\\]/g,w={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},T=Array.prototype,S=Object.prototype,k=S.hasOwnProperty,$=S.toString,R=b(R=Object.getOwnPropertySymbols)&&R,P=T.push,N=function(e,t){return null==t?e:f(t,D(t),f(t,y(t),e))},D=R?function(e){return R(a(e))}:p([]),M=_(function(e,t){try{return e.apply(void 0,t)}catch(n){return s(n)?n:new Error(n)}});t.exports=c},{"lodash._basecopy":4,"lodash._basetostring":5,"lodash._basevalues":6,"lodash._isiterateecall":7,"lodash._reinterpolate":8,"lodash.escape":9,"lodash.isnative":10,"lodash.keys":12,"lodash.restparam":16,"lodash.templatesettings":17}],4:[function(e,t,n){function r(e,t,n){n||(n={});for(var r=-1,o=t.length;++r<o;){var l=t[r];n[l]=e[l]}return n}t.exports=r},{}],5:[function(e,t,n){function r(e){return null==e?"":e+""}t.exports=r},{}],6:[function(e,t,n){function r(e,t){for(var n=-1,r=t.length,o=Array(r);++n<r;)o[n]=e[t[n]];return o}t.exports=r},{}],7:[function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&a(p(e))}function l(e,t){return e="number"==typeof e||u.test(e)?+e:-1,t=null==t?c:t,e>-1&&e%1==0&&t>e}function i(e,t,n){if(!s(n))return!1;var r=typeof t;if("number"==r?o(n)&&l(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&c>=e}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var u=/^\d+$/,c=9007199254740991,p=r("length");t.exports=i},{}],8:[function(e,t,n){var r=/<%=([\s\S]+?)%>/g;t.exports=r},{}],9:[function(e,t,n){function r(e){return s[e]}function o(e){return e=l(e),e&&a.test(e)?e.replace(i,r):e}var l=e("lodash._basetostring"),i=/[&<>"'`]/g,a=RegExp(i.source),s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};t.exports=o},{"lodash._basetostring":5}],10:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}function o(e){return null==e?!1:l(e)?c.test(s.call(e)):r(e)&&i.test(e)}var l=e("lodash.isfunction"),i=/^\[object .+?Constructor\]$/,a=Object.prototype,s=Function.prototype.toString,u=a.hasOwnProperty,c=RegExp("^"+s.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=o},{"lodash.isfunction":11}],11:[function(e,t,n){function r(e){return o(e)&&a.call(e)==l}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var l="[object Function]",i=Object.prototype,a=i.toString;t.exports=r},{}],12:[function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&i(y(e))}function l(e,t){return e="number"==typeof e||v.test(e)?+e:-1,t=null==t?b:t,e>-1&&e%1==0&&t>e}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&b>=e}function a(e){for(var t=u(e),n=t.length,r=n&&e.length,o=!!r&&i(r)&&(f(e)||p(e)),a=-1,s=[];++a<n;){var c=t[a];(o&&l(c,r)||d.call(e,c))&&s.push(c)}return s}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function u(e){if(null==e)return[];s(e)||(e=Object(e));var t=e.length;t=t&&i(t)&&(f(e)||p(e))&&t||0;for(var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,a=Array(t),u=t>0;++r<t;)a[r]=r+"";for(var c in e)u&&l(c,t)||"constructor"==c&&(o||!d.call(e,c))||a.push(c);return a}var c=e("lodash._getnative"),p=e("lodash.isarguments"),f=e("lodash.isarray"),v=/^\d+$/,h=Object.prototype,d=h.hasOwnProperty,g=c(Object,"keys"),b=9007199254740991,y=r("length"),_=g?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&o(e)?a(e):s(e)?g(e):[]}:a;t.exports=_},{"lodash._getnative":13,"lodash.isarguments":14,"lodash.isarray":15}],13:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}function o(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function l(e){return i(e)&&v.call(e)==s}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null==e?!1:l(e)?h.test(p.call(e)):r(e)&&u.test(e)}var s="[object Function]",u=/^\[object .+?Constructor\]$/,c=Object.prototype,p=Function.prototype.toString,f=c.hasOwnProperty,v=c.toString,h=RegExp("^"+p.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=o},{}],14:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}function o(e){return function(t){return null==t?void 0:t[e]}}function l(e){return null!=e&&i(f(e))}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&p>=e}function a(e){return r(e)&&l(e)&&u.call(e,"callee")&&!c.call(e,"callee")}var s=Object.prototype,u=s.hasOwnProperty,c=s.propertyIsEnumerable,p=9007199254740991,f=o("length");t.exports=a},{}],15:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}function o(e,t){var n=null==e?void 0:e[t];return s(n)?n:void 0}function l(e){return"number"==typeof e&&e>-1&&e%1==0&&y>=e}function i(e){return a(e)&&d.call(e)==c}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return null==e?!1:i(e)?g.test(v.call(e)):r(e)&&p.test(e)}var u="[object Array]",c="[object Function]",p=/^\[object .+?Constructor\]$/,f=Object.prototype,v=Function.prototype.toString,h=f.hasOwnProperty,d=f.toString,g=RegExp("^"+v.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=o(Array,"isArray"),y=9007199254740991,_=b||function(e){return r(e)&&l(e.length)&&d.call(e)==u};t.exports=_},{}],16:[function(e,t,n){function r(e,t){if("function"!=typeof e)throw new TypeError(o);return t=l(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,o=l(n.length-t,0),i=Array(o);++r<o;)i[r]=n[t+r];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,n[0],i);case 2:return e.call(this,n[0],n[1],i)}var a=Array(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=i,e.apply(this,a)}}var o="Expected a function",l=Math.max;t.exports=r},{}],17:[function(e,t,n){var r=e("lodash._reinterpolate"),o=e("lodash.escape"),l=/<%-([\s\S]+?)%>/g,i=/<%([\s\S]+?)%>/g,a={escape:l,evaluate:i,interpolate:r,variable:"",imports:{_:{escape:o}}};t.exports=a},{"lodash._reinterpolate":8,"lodash.escape":9}],18:[function(e,t,n){t.exports={name:"level-selector",description:"A simple plugin for Clappr that adds support to manually select level on multi-bitrate streams.",version:"0.0.7",license:"MIT",repository:"clappr/clappr-level-selector-plugin",author:{name:"Lucas Mundim",email:"lucas.mundim@gmail.com",url:"https://github.com/lucasmundim"},contributors:[{name:"Flávio Ribeiro",email:"email@flavioribeiro.com"}],keywords:["clappr","plugin"],dependencies:{clappr:"latest"},devDependencies:{browserify:"^6.2.0",babelify:"5.0.3",gulp:"^3.8.6","gulp-minify-css":"^0.3.6","lodash.template":"3.5.1","gulp-rename":"^1.2.0","gulp-sass":"^0.7.2","vinyl-source-stream":"^1.0.0",yargs:"latest",glob:"^4.0.4",mkdirp:"^0.5.0",express:"^4.6.1","gulp-util":"latest","gulp-uglify":"^1.0.1","gulp-livereload":"^2.1.0","gulp-streamify":"0.0.5"}}},{}],19:[function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function v(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:v(o,t,n)}if("value"in r&&r.writable)return r.value;var l=r.get;return void 0===l?void 0:l.call(n)},l=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=e("ui_core_plugin"),s=e(".././jst"),u=e("./styler"),c=e("../package.json").version,p=Clappr.Events,f=function(e){function t(e){i(this,t),this.core=e,this.isEnabled()&&this.init(),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return l(t,e),r(t,{name:{get:function(){return"level_selector"}},template:{get:function(){return s.level_selector}},attributes:{get:function(){return{"class":this.name,"data-level-selector":""}}},events:{get:function(){return{"click [data-level-selector-select]":"onLevelSelect","click [data-level-selector-button]":"onShowLevelSelectMenu"}}},init:{value:function(){this.levels={},this.auto_level=!0,this.selected_level=-1}},reload:{value:function(){this.unBindEvents(),this.init(),this.bindEvents()}},bindEvents:{value:function(){var e=this;this.listenTo(this.core.mediaControl,p.MEDIACONTROL_CONTAINERCHANGED,this.reload),this.isEnabled()&&(this.listenTo(this.core.mediaControl,p.MEDIACONTROL_RENDERED,this.render),this.listenTo(this.getPlayback(),p.PLAYBACK_FRAGMENT_LOADED,this.onFragmentLoaded),this.listenTo(this.getContainer(),p.CONTAINER_BITRATE,function(t){return e.onLevelChanged(t.level)}))}},unBindEvents:{value:function(){this.stopListening(this.core.mediaControl,p.MEDIACONTROL_CONTAINERCHANGED),this.stopListening(this.core.mediaControl,p.MEDIACONTROL_RENDERED),this.stopListening(this.getPlayback(),p.PLAYBACK_FRAGMENT_LOADED),this.stopListening(this.getContainer(),p.CONTAINER_BITRATE)}},render:{value:function(){if(this.isEnabled()){this.$el.html(this.template({levels:this.levels,current_level:0}));var e=u.getStyleFor(this.name);return this.$el.append(e),this.core.mediaControl.$el.find(".media-control-right-panel").append(this.el),this.updateText(this.currentLevel),this}}},isEnabled:{value:function(){return"hls"===this.core.mediaControl.container.playback.name}},onFragmentLoaded:{value:function(){this.levels=this.getContainer().playback.getLevels(),Clappr.Mediator.off(this.getContainer().playback.cid+":fragmentloaded"),this.render()}},onLevelChanged:{value:function(e){void 0!==e&&(this.currentLevel=e,this.updateText(e),this.selectedIsCurrent(e)&&this.stopAnimation())}},onLevelSelect:{value:function(e){return this.selected_level=parseInt(e.target.dataset.levelSelectorSelect,10),this.auto_level=-1===this.selected_level,this.setLevel(this.selected_level),this.toggleContextMenu(),this.auto_level||this.selectedIsCurrent()?this.updateText(this.selected_level):(this.startAnimation(),this.updateText(this.selected_level)),e.stopPropagation(),!1}},onShowLevelSelectMenu:{value:function(e){this.toggleContextMenu()}},toggleContextMenu:{value:function(){this.$el.find(".level_selector ul").toggle()}},getContainer:{value:function(){return this.core.getCurrentContainer()}},getPlayback:{value:function(){return this.getContainer()?this.getContainer().playback:null}},getCurrentLevel:{value:function(){return this.currentLevel=this.currentLevel||this.getPlayback().getCurrentLevelIndex()}},setLevel:{value:function(e){this.getPlayback().setCurrentLevel(e)}},buttonElement:{value:function(){return this.$el.find(".level_selector button")}},startAnimation:{value:function(){this.buttonElement().addClass("changing")}},stopAnimation:{value:function(){this.buttonElement().removeClass("changing")}},selectedIsCurrent:{value:function(){var e=void 0===arguments[0]?this.getCurrentLevel():arguments[0];return this.selected_level===e}},updateText:{value:function(e){if((void 0===e||-1===e)&&(e=this.getCurrentLevel()),this.levels[e]){var t=Math.floor(this.levels[e].bitrate/1e3);t+="kbps",this.auto_level&&(t="AUTO ("+t+")"),this.buttonElement().text(t)}}}},{version:{get:function(){return c}}}),t}(a);t.exports=window.LevelSelector=f},{".././jst":2,"../package.json":18,"./styler":20,ui_core_plugin:"ui_core_plugin"}],20:[function(e,t,n){"use strict";var r=e(".././jst"),o=e("zepto"),l={getStyleFor:function(e){return o("<style>").html(r.CSS[e])}};t.exports=l},{".././jst":2,zepto:"zepto"}]},{},[1]);