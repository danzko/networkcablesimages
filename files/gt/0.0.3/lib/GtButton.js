Gt.controller("GtButton",[],"GtWidget",function(a){this.buttons=[],this.panel="",this.text=a||"","fa-"==this.text.substr(0,3)&&(this.text='<span class="fa '+this.text+'"></span>'),this.panelFrom="right",this.view(1),this.connectToJSEvent(Gt.touchEvents?"touchstart":"click","click",!0)}),GtButton.prototype.setText=function(a){"fa-"==a.substr(0,3)&&(a='<span class="fa '+a+'"></span>'),this.buttons.length?this.find(".gt-main-button").html(a+' <span class="caret"></span>'):this.find(".gt-button-text").html(a)},GtButton.prototype.getText=function(){return this.getElement().html()},GtButton.prototype.addButton=function(a){var b=new GtButton(a);return b.view(3),this.buttons.length||this.view(2),b.render(this.findElement(".gt-buttonList"),this),this.buttons.push(b),b},GtButton.prototype.showPanelFrom=function(a){var b=["left","right"];b.indexOf(a)>=0&&(this.panelFrom=a)},GtButton.prototype.setPanel=function(a){this.getElement().parent().hasClass(".dropdownPanel")||(a.parent=this,this.getElement().wrap('<div class="dropdownPanel"></div>'),this.setElement(this.getElement().closest(".dropdownPanel")),this.getElement().append('<div class="panelBox"></div>'),a.render(this.findElement(".panelBox"),this),this.connect("click",$.proxy(function(a){if(this.findElement(".panelBox").is(":hidden")){this.emit("panelShow",a),this.parent&&"GtBar"==this.parent.widgetName&&this.parent.children.forEach(function(a){"GtButton"==a.widgetName&&a.closePanel()});var b=this.findElement(".panelBox");b.removeClass("panelLeft panelRight"),b.addClass("panel"+this.panelFrom),b.stop().show()}else this.emit("panelHide"),this.findElement(".panelBox").stop().hide()},this)),this.connect("hidePanel",$.proxy(function(){this.closePanel()},this)))},GtButton.prototype.openPanel=function(){this.getElement().hasClass("dropdownPanel")&&this.find(".panelBox").show()},GtButton.prototype.closePanel=function(){this.getElement().hasClass("dropdownPanel")&&this.getElement().parent().find(".panelBox").stop().hide()};