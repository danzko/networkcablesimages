Gt.controller("GtForm",[],"GtWidget",function(a){this.title=a||"",this.method="POST",this.view(1),this.connectToJSEvent("submit",this.private_submitted,!0)}),GtForm.prototype.add=function(a,b,c){b&&a.getElement().attr("name",b);var d=new GtWidget;d.view(c?this.theme.label:this.theme.element),c&&(d.findElement("label").html(c),d.findElement("label").attr("for",a.uniqid),a.getElement().attr("id",a.uniqid)),a.render(d.findElement(".gt-label-input"),this),d.render(this.findElement(".gt-form-container"))},GtForm.prototype.addHidden=function(a,b){this.getElement().append('<input type="hidden" value="'+b+'" name="'+a+'"')},GtForm.prototype.submit=function(a,b){b&&(this.method=b),a&&(this.target=a),this.getElement().submit()},GtForm.prototype.private_submitted=function(){var a={};this.findElement("input").each(function(){a[$(this).attr("name")]=$(this).val()}),this.findElement("textarea").each(function(){a[$(this).attr("name")]=$(this).html()}),this.findElement("select").each(function(){a[$(this).attr("name")]=$(this).val()});var b=this;$.ajax({type:this.method,url:this.target,data:a,success:function(a){b.emit("response",a)},error:function(){GtWindow&&GtWindow.message("Impossible de valider le formulaire actuellement.","Erreur")}})};