Gt.controller("GtWindow",["GtButton"],"GtWidget",function(a,b){this.title=a||"",this.body=b||"",this.created=!1,this.closeButton=new GtButton("Fermer");var c=this;this.closeButton.connect("click",function(){c.remove()}),this.view(1);var d=this.getElement();this.getElement().on("hidden.bs.modal",function(){$(this).data("bs.modal",null),d.remove(),$(".modal-backdrop").remove()})}),GtWindow.message=function(a,b){b=b||"Message";var c=new GtWindow(b,a);return c.show(),c},GtWindow.confirm=function(a,b,c,d){a=a||"Question";var e=new GtWindow(a,b);e.setClosable(!1);var f=new GtButton("Annuler");d&&f.connect("click",d),f.connect("click",function(){e.remove()}),e.addButton(f);var g=new GtButton("Confirmer");return g.connect("click",c),g.connect("click",function(){e.remove()}),e.addButton(g),e.show(),e},GtWindow.loadingWindows=[],GtWindow.loading=function(a,b){b=b||"Chargement";for(var c in GtWindow.loadingWindows)if(GtWindow.loadingWindows[c].title==b&&GtWindow.loadingWindows[c].body==a)return!1;var d=new GtWindow(b,a);return d.setClosable(!1),d.show(),GtWindow.loadingWindows.push(d),d},GtWindow.loaded=function(a,b){for(var c in GtWindow.loadingWindows)GtWindow.loadingWindows[c].remove()},GtWindow.prototype.addButton=function(a){this.findElement(".my_other_buttons").append(a.htmlElement),this.findElement(".my_other_buttons").css("float","left")},GtWindow.prototype.setBodyWidget=function(a){this.bodyWidget=a,a.parent=this,a.render(this.findElement(".modal-body"))},GtWindow.prototype.getBodyWidget=function(){return this.bodyWidget||this.findElement(".modal-body")},GtWindow.prototype.setBody=function(a){this.findElement(".modal-body").html(a)},GtWindow.prototype.setTitleWidget=function(a){this.titleWidget=a,a.parent=this,a.render(this.findElement(".modal-title"))},GtWindow.prototype.getTitleWidget=function(){return this.titleWidget},GtWindow.prototype.setClosable=function(a){a||(this.closeButton.htmlElement.hide(),this.findElement(".modal-header .close").hide(),this.getElement().modal())},GtWindow.prototype.setTitle=function(a){this.findElement(".modal-title").html(a)},GtWindow.prototype.show=function(){this.created||(this.created=!0,this.render(),!GtMobile&&$.fn.draggable&&this.getElement().draggable({handle:".modal-header"})),GtMobile?$.mobile.changePage('[data-GtID="'+this.uniqid+'"]',{role:"dialog"}):this.getElement().modal({backdrop:"static"})},GtWindow.prototype.hide=function(){this.getElement().modal("hide")},GtWindow.prototype.remove=function(){this.getElement().modal("hide").data("bs.modal",null)};