/**
 * DOM.js is a lightweight & fast cross browser library for
 * dom traversal and manipulation.
 *
 * @author Dawid Kraczowski <Mighty Mosquito>
 * @license MIT
 */
(function(e,t,n){function r(e,t){if(Array.prototype.indexOf){return Array.prototype.indexOf.call(e,t)}for(var n=0,r=e.length;n<r;n++){if(e[n]===t){return n}}return-1}function i(e){return Object.prototype.toString.call(e)==="[object Array]"}function s(e){return typeof e==="string"}function o(e){return typeof e==="object"}function u(e){if(e["length"]!==n&&e.length>0){return true}return false}var a=t.addEventListener?"addEventListener":"attachEvent",f=t.removeEventListener?"removeEventListener":"detachEvent",l=t.addEventListener?"":"on",c=t.createEvent?"createEvent":"createEventObject",h=t.dispatchEvent?"dispatchEvent":"fireEvent",p={},d=function(e){return e};var v=navigator.userAgent;var m=new RegExp("Trident/([0-9]{1,}[.0-9]{0,})");if(m.exec(v)!=null){rv=parseFloat(RegExp.$1);if(rv==4){d=function(e){for(var t=/-([a-z0-9])/;t.test(e);e=e.replace(t,RegExp.$1.toUpperCase()));return e}}}p.Event=function(e){var t=e;p.Event.prototype.stopPropagation=function(){if(t.stopPropagation){t.stopPropagation()}else{t.cancelBubble=true}};p.Event.prototype.preventDefault=function(){if(t.preventDefault){t.preventDefault()}else{t.returnValue=false}};p.Event.prototype.event=function(){return t};this.target=t.target||t.srcElement;this.ctrlKey=t.ctrlKey;this.shiftKey=t.shiftKey;this.altKey=t.altKey;this.relativeY=t.layerY||t.offsetY;this.relativeX=t.layerX||t.offsetX;this.x=t.x||t.clientX;this.y=t.y||t.clientY};p.Event.ON_CLICK="click";p.Event.ON_DBLCLICK="dblclick";p.Event.ON_CONTEXTMENU="contextmenu";p.Event.ON_MOUSEDOWN="mousedown";p.Event.ON_MOUSEENTER="mouseenter";p.Event.ON_MOUSELEAVE="mouseleave";p.Event.OM_MOUSEMOVE="mousemove";p.Event.ON_MOUSEOVER="mouseover";p.Event.ON_MOUSEOUT="mouseout";p.Event.ON_MOUSEUP="mouseup";p.Event.ON_MOUSEMOVE="mousemove";p.Event.ON_KEYDOWN="keydown";p.Event.ON_KEYUP="keyup";p.Event.ON_KEYPRESS="keypress";p.Event.ON_SELECT="select";p.Event.ON_RESET="reset";p.Event.ON_FOCUS="focus";p.Event.ON_BLUR="blur";p.Event.ON_SUBMIT="submit";p.Event.ON_CHANGE="change";p.Event.ON_LOAD="load";p.Event.ON_UNLOAD="unload";p.Event.ON_RESIZE="resize";p.Event.ON_UNLOAD="unload";p.Event.ON_ERROR="error";p.Event.ON_SCROLL="scroll";p.Event.ON_DRAG="drag";p.Event.ON_DRAGSTART="dragstart";p.Event.ON_DRAGEND="dragend";p.Event.ON_DRAGENTER="dragenter";p.Event.ON_DRAGLEAVE="dragleave";p.Event.ON_DRAGOVER="dragover";p.Event.ON_DROP="drop";p.addListener=function(e,t,i){if(e===n){return false}if(u(e)){for(var s=0,o=e.length;s<o;s++){p.addListener(e[s],t,i)}return e}e._event=e._event||{};e._event[t]=e._event[t]||{keys:[],values:[]};if(r(e._event[t].keys,i)!=-1){return e}e._event[t].keys.push(i);var f=function(t){var n=new p.Event(t);if(i.call(e,n)===false){t.stop()}};e._event[t].values.push(f);e[a](l+t,f);return e};p.dispatch=function(e,r,i){if(e===n){return false}if(u(e)){for(var s=0,o=e.length;s<o;s++){p.dispatch(e[s],r,i)}return e}if(!i){i={}}var a={type:r,view:i.view||e.ownerDocument.defaultView,detail:i.detail||1,screenX:i.screenX||0,screenY:i.screenY||0,clientX:i.clientX||0,clientY:i.clientY||0,button:i.button||0,ctrlKey:i.ctrlKey||false,altKey:i.altKey||false,shiftKey:i.shiftKey||false,metaKey:i.metaKey||false,bubbles:i.bubbles||true,cancelable:i.cancelable||true},f={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/},c="Event",h;for(var d in f){if(f[d].test(r)){c=d;break}}if(t.createEvent){h=e.ownerDocument.createEvent(c);if(c="MouseEvents"){h.initMouseEvent(a.type,a.bubbles,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null)}else{h.initEvent(r,a.bubbles,a.cancelable)}e.dispatchEvent(h);return h}else if(t.createEventObject){a.clientX=a.pointerX;a.clientY=a.pointerY;h=t.createEventObject();for(var v in a){h[v]=a[v]}e.fireEvent(l+r,h);return h}};p.removeListener=function(e,t,i){if(e===n){return false}if(u(e)){for(var s=0,o=e.length;s<o;s++){p.removeListener(e[s],t,i)}return e}if(!e._event||!e._event[t]){return false}var a=r(e._event[t].keys,i);if(a===-1){return false}var c=e._event[t].values[a];e[f](l+t,c);delete e._event[t].values[a];delete e._event[t].keys[a];return e};p.hasListener=function(e,t,n){if(!e._event||!e._event[t]){return false}return r(e._event[t].keys,n)!==-1};p.onClick=function(e,t){return p.addListener(e,p.Event.ON_CLICK,t)};p.onDblClick=function(e,t){return p.addListener(e,p.Event.ON_DBLCLICK,t)};p.onMouseOver=function(e,t){return p.addListener(e,p.Event.ON_MOUSEOVER,t)};p.onMouseOut=function(e,t){return p.addListener(e,p.Event.ON_MOUSEOUT,t)};p.onMouseDown=function(e,t){return p.addListener(e,p.Event.ON_MOUSEDOWN,t)};p.onMouseUp=function(e,t){return p.addListener(e,p.Event.ON_MOUSEUP,t)};p.onMouseEnter=function(e,t){return p.addListener(e,p.Event.ON_MOUSEENTER,t)};p.onMouseLeave=function(e,t){return p.addListener(e,p.Event.ON_MOUSELEAVE,t)};p.onMouseMove=function(e,t){return p.addListener(e,p.Event.ON_MOUSEMOVE,t)};p.onDrag=function(e,t){return p.addListener(e,p.Event.ON_DRAG,t)};p.onDragStart=function(e,t){return p.addListener(e,p.Event.ON_DRAGSTART,t)};p.onDragEnd=function(e,t){return p.addListener(e,p.Event.ON_DRAGEND,t)};p.onFocus=function(e,t){return p.addListener(e,p.Event.ON_FOCUS,t)};p.onBlur=function(e,t){return p.addListener(e,p.Event.ON_BLUR,t)};p.onSelect=function(e,t){return p.addListener(e,p.Event.ON_SELECT,t)};p.onChange=function(e,t){return p.addListener(e,p.Event.ON_CHANGE,t)};p.onSubmit=function(e,t){return p.addListener(e,p.Event.ON_SUBMIT,t)};p.onReset=function(e,t){return p.addListener(e,p.Event.ON_RESET,t)};p.onLoad=function(e,t){return p.addListener(e,p.Event.ON_LOAD,t)};p.onScroll=function(e,t){return p.addListener(e,p.Event.ON_SCROLL,t)};p.onUnload=function(e,t){return p.addListener(e,p.Event.ON_UNLOAD,t)};p.onResize=function(e,t){return p.addListener(e,p.Event.ON_RESIZE,t)};p.onKeyDown=function(e,t){return p.addListener(e,p.Event.ON_KEYDOWN,t)};p.onKeyUp=function(e,t){return p.addListener(e,p.Event.ON_KEYUP,t)};p.onKeyPress=function(e,t){return p.addListener(e,p.Event.ON_KEYPRESS,t)};p.find=function(e){return t.querySelectorAll(e)};p.id=function(e){return t.getElementById(e)};p.findByTagName=function(e){return t.getElementsByTagName(e)};p.findByClass=function(e){if(e.substring(0,1)=="."){e=e.substring(1)}if(t.getElementsByClassName){return t.getElementsByClassName(e)}if(t.querySelector&&t.querySelectorAll){return t.querySelectorAll("."+e)}};p.parent=function(e){return e.parentNode};p.children=function(e,t){if(typeof t==="boolean"&&t){return e.childNodes}var n=[];if(s(t)){for(var r=0,i=e.childNodes.length;r<i;r++){if(e.childNodes[r].nodeName.toLowerCase()===t.toLowerCase()){n.push(e.childNodes[r])}}return n}for(var r in e.childNodes){if(e.childNodes[r].nodeType===1){n.push(e.childNodes[r])}}return n};p.next=function(e){var t=e.nextSibling;if(t.nodeType!=1){return p.next(t)}return t};p.previous=function(e){var t=e.previousSibling;if(t.nodeType!=1){return p.previous(t)}return t};p.attribute=function(e,t){if(typeof t==="string"){var r;if(t==="class"&&e["className"]!==n){r=e.className}else if(t==="for"&&e["htmlFor"]!==n){r=e.htmlFor}else if(t==="value"&&e["value"]!==n){r=e.value}else{r=e.getAttribute(t)}if(r===""){r=null}return r}if(i(t)){var r={};for(var s in t){r[t[s]]=p.attribute(e,t[s])}return r}if(o(t)){for(var s in t){if(t[s]===null){e.removeAttribute(s)}else{e.setAttribute(s,t[s])}}return t}return false};p.css=function(e,t){if(typeof t==="string"){return e.style[d(t)]}if(i(t)){var n={};for(var r in t){n[t[r]]=e.style[d(t[r])]}return n}if(o(t)){for(var r in t){e.style[d(r)]=t[r]}return t}return false};p.getClass=function(e){if(e===n){return false}var t=p.attribute(e,"class");if(!t){return[]}t=t.split(" ");var r=[];for(var i in t){if(t[i]===""){continue}r.push(t[i])}return r};p.hasClass=function(e,t){if(e===n){return false}if(s(t)){return r(p.getClass(e),t)>-1?true:false}else if(i(t)){var o=p.getClass(e);for(var u in t){if(r(t[u],o)===-1){return false}}return true}else{return false}return false};p.addClass=function(e,t){if(e===n){return false}if(u(e)){for(var s=0,o=e.length;s<o;s++){p.addClass(e[s],t)}return}if(i(t)){for(var s in t){p.addClass(e,t[s])}return}var a=p.getClass(e);if(r(a,t)===-1){a.push(t)}a=a.join(" ");p.attribute(e,{"class":a})};p.removeClass=function(e,t){if(e===n){return}if(u(e)){for(var i=0,s=e.length;i<s;i++){p.removeClass(e[i],t)}return}var o=p.getClass(e);var i=r(o,t);if(i===-1){return}o.splice(i,1);p.attribute(e,{"class":o.join(" ")})};p.create=function(e){var n=t.createElement("div");var r=t.createDocumentFragment();p.html(n,e);var i=p.children(n);for(var s=0,o=i.length;s<o;s++){p.append(r,i[s])}return r};p.copy=function(e){return e.cloneNode(true)};p.html=function(e,t){if(s(t)){e.innerHTML=t;return t}return e.innerHTML};p.text=function(e,t){if(s(t)){if(e.innerText){e.innerText=t}else{e.textContent=t}return t}if(e.innerText){return e.innerText}return e.textContent};p.append=function(e,t){if(s(t)){t=p.create(t)}e.appendChild(t);return t};p.prepend=function(e,t){if(s(t)){t=p.create(t)}e.insertBefore(t,e.firstChild);return t};p.after=function(e,t){if(s(t)){t=p.create(t)}e.parentNode.insertBefore(t,e.nextSibling);return t};p.before=function(e,t){if(s(t)){t=p.create(t)}e.insertBefore(t,e);return t};p.replace=function(e,t){if(s(t)){t=p.create(t)}e.parentNode.replaceChild(t,e);return t};p.remove=function(e){var t=e.parentNode;return t.removeChild(e)};e.Dom=p})(this,document)