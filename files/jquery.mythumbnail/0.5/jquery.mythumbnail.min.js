!function(t){var i=new Array;jQuery.fn.MyThumbnail=function(h){function e(h,e,r,n){var o=t(h).attr("src"),u=i[n],a=u.thumbWidth/e,s=null,d=null;if(s=u.thumbWidth,d=r*a,d<u.thumbHeight){var l=u.thumbHeight/d;d=u.thumbHeight,s=l*s}var b=null;u.bShowPointerCursor?(b="<DIV class='myThumbDivAutoAdd "+u.imageDivClass+"' style='cursor:pointer;display:none;float:left;width:"+u.thumbWidth+"px;height:"+u.thumbHeight+"px;overflow:hidden;background:url("+o+") no-repeat "+u.backgroundColor+";",b+="background-position:center;background-size:"+s+"px "+d+"px;'></DIV>"):(b="<DIV class='myThumbDivAutoAdd "+u.imageDivClass+"' style='display:none;float:left;width:"+u.thumbWidth+"px;height:"+u.thumbHeight+"px;overflow:hidden;background:url("+o+") no-repeat "+u.backgroundColor+";",b+="background-position:center;background-size:"+s+"px "+d+"px;'></DIV>"),t(h).after(b),t(".myThumbDivAutoAdd").fadeIn()}return i[i.length]=t.extend({},t.fn.MyThumbnail.defaults,h),this.each(function(){t(this).removeAttr("width").removeAttr("height");var h=this,r=(t(this).attr("src"),t(this).width()),n=t(this).height();if(t(this).hide(),0==r||0==n){var o=i.length-1;t("<img/>").attr("src",t(this).attr("src")).load(function(){r=this.width,n=this.height,e(h,r,n,o)})}else{var o=i.length-1;e(h,r,n,o)}})},jQuery.fn.MyThumbnail.defaults={thumbWidth:130,thumbHeight:100,backgroundColor:"#ccc",imageDivClass:"myPic",bShowPointerCursor:!1}}(jQuery);