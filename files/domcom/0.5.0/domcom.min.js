!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/assets/",e(0)}([function(t,e,n){var r,i;t.exports=r=n(1),"undefined"!=typeof window&&(window.dc=r),r.DomNode=n(3),r.extend=i=n(2),r.EventMixin=n(8),i(r,r.flow=n(6)),n(9),r.bindings=r.flow.bindings,n(10),i(r,n(4),n(5),n(12),n(13),n(43)),i(r,r.builtinDirectives=n(44)),i(r,n(22),n(23),n(25),n(49),n(24),n(50))},function(t,e,n){var r,i,o,s,a,h,u,c,l,d;a=n(2),r=n(3),d=n(5),l=d.requestAnimationFrame,c=d.raf,u=d.isElement,i=d.addEventListener,h=n(7),t.exports=o=function(t,e){if("string"==typeof t)return o(e?document.querySelectorAll(t):document.querySelector(t));if(t instanceof Node)return t.component?t.component:new r(t);if(t instanceof NodeList||t instanceof Array)return new r(t);throw new Error("error type for dc")},o.toString=function(){return"domcom"},o.directiveRegistry=s={},o.clearDirectives=function(){return o.directiveRegistry=s={}},o.directives=function(t,e){var n,r,i;if(1===arguments.length){i=[];for(r in t)n=t[r],"$"!==r[0]&&(r="$"+r),i.push(s[r]=n);return i}return"$"!==t[0]&&(t="$"+t),s[t]=e},"undefined"!=typeof window&&(window.$document=o.$document=new r(document)),o.ready=function(){o.listeners.ready&&o.emit("ready")},"undefined"!=typeof window&&(document.addEventListener("DOMContentLoaded",o.ready,!1),i(document,"DOMContentLoaded",function(){return window.$body=o.$body=new r(document.body)})),a(o,n(8))},function(t,e){var n,r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},s=function(t){"use strict";if(!t||"[object Object]"!==i.call(t))return!1;var e=r.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!o)return!1;var s;for(s in t);return s===n||r.call(t,s)};t.exports=function a(){"use strict";var t,e,r,i,h,u,c=arguments[0],l=1,d=arguments.length,f=!1;for("boolean"==typeof c?(f=c,c=arguments[1]||{},l=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});d>l;++l)if(t=arguments[l],null!=t)for(e in t)r=c[e],i=t[e],c!==i&&(f&&i&&(s(i)||(h=o(i)))?(h?(h=!1,u=r&&o(r)?r:[]):u=r&&s(r)?r:{},c[e]=a(f,u,i)):i!==n&&(c[e]=i));return c}},function(t,e,n){var r,i,o,s,a,h;o=n(4).newLine,h=n(5),i=h.addEventListener,a=h.removeEventListener,s=function(t,e,n,r){var i,o,s;if(null==n)return t;if(null==r){if("string"==typeof n)return t[n];for(r=o=0,s=n.length;s>o;r=++o)i=n[r],(null==cacheProps[i]||r!==cacheProps[i])&&(cacheProps[i]=t[i]=r)}else if(null==cacheProps[n]||r!==cacheProps[n])return cacheProps[n]=this.node[n]=r},t.exports=r=function(){function t(t){var e;this.node=t,t instanceof Node?(this.cacheProps={},this.cacheStyle={}):(this.cacheProps=function(){var t,n,r,i;for(r=this.node,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push({});return i}.call(this),this.cacheStyle=function(){var t,n,r,i;for(r=this.node,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push({});return i}.call(this))}return t.prototype.prop=function(t,e){var n,r,i,o,a;if(i=this.node,i instanceof Node)s(i,this.cacheProps,t,e);else for(n=o=0,a=i.length;a>o;n=++o)r=i[n],s(r,this.cacheProps[n],t,e);return this},t.prototype.css=function(t,e){var n,r,i,o,a;if(i=this.node,i instanceof Node)s(i.style,this.cacheStyle,t,e);else for(n=o=0,a=i.length;a>o;n=++o)r=i[n],s(r.style,this.cacheStyle[n],t,e);return this},t.prototype.bind=function(t,e){var n,r,o,s,a,h,u,c;for(o=this.node,c=t.split(/\s+/),s=0,h=c.length;h>s;s++)if(r=c[s],"on"===r.slice(0,2)&&(r=r.slice(2)),o instanceof Node)i(o,r,e);else for(a=0,u=o.length;u>a;a++)n=o[a],i(n,r,e)},t.prototype.unbind=function(t,e){var n,r,i,o,s,h,u,c;for(i=this.node,c=t.split(/\s+/),o=0,h=c.length;h>o;o++)if(r=c[o],"on"===r.slice(0,2)&&(r=r.slice(2)),i instanceof Node)a(i,r,e);else for(s=0,u=i.length;u>s;s++)n=i[s],a(n,r,e)},t.prototype.toString=function(t,e){return null==t&&(t=0),o("",t,e)+"<DomNode>"+o(this.node.toString(),t+2,!0)+o("</DomNode>",t,!0)},t}()},function(t,e){var n,r,i,o,s=[].slice;e.isArray=o=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.cloneObject=function(t){var e,n;n={};for(e in t)n[e]=t[e];return n},e.pairListDict=function(){var t,e,n,r;for(e=1<=arguments.length?s.call(arguments,0):[],1===e.length&&(e=e[0]),n=e.length,t=0,r={};n>t;)r[e[t]]=e[t+1],t+=2;return r},n=function(t,e){var n,r;for(r="",n=0;n++<e;)r+=t;return r},e.newLine=function(t,e,r){return r?"\n"+n(" ",e)+t:t},e.funcString=function(t){var e,n;if("function"!=typeof t){if(null==t)return"null";if(t.getBaseComponent)return t.toString();try{return JSON.stringify(t)}catch(r){return e=r,t.toString()}}return n=t.toString(),t.invalidate?n:(n="function (){"===n.slice(0,12)?n.slice(12,n.length-1):"function () {"===n.slice(0,13)?n.slice(13,n.length-1):n.slice(9),n=n.trim(),"return "===n.slice(0,7)&&(n=n.slice(7)),";"===n[n.length-1]&&(n=n.slice(0,n.length-1)),"fn:"+n)},r=1,e.newDcid=function(){return r++},e.isEven=function(t){for(0>t&&(t=-t);t>0;)t-=2;return 0===t},e.matchCurvedString=function(t,e){var n,r;if("("===t[e])for(r=0;n=t[++e];)if("\\"===n){if(!(n=t[++e]))return}else if("("===n)r++;else if(")"===n){if(0===r)return++e;r--}},e.intersect=function(t){var e,n,r,i,o,s,a,h;o={},r=t[0];for(n in r){for(e=!0,h=t.slice(1),s=0,a=h.length;a>s;s++)if(i=h[s],!i[n]){e=!1;break}e&&(o[n]=r[n])}return o},e.substractSet=function(t,e){var n;for(n in e)delete t[n];return t},e.binarySearch=function(t,e){var n,r,i,o;if(i=e.length,!i)return 0;if(1===i)return e[0]>=t?0:1;for(o=0,n=i-1;;){if(r=o+Math.floor((n-o)/2),o===n)return e[r]>=t?r:r+1;if(t===e[r])return r;if(t===e[r+1])return r+1;if(t<e[r])n=r;else{if(!(t>e[r+1]))return r+1;o=r+1}}},e.binaryInsert=function(t,e){var n,r,i,o;if(i=e.length,!i)return e[0]=t,0;if(1===i)return e[0]===t?0:e[0]>t?(e[1]=e[0],e[0]=t,0):(e[1]=t,1);for(o=0,n=i-1;;){if(r=o+Math.floor((n-o)/2),o===n)return e[r]===t?r:e[r]>t?(e.splice(r,0,t),r):(e.splice(r+1,0,t),r+1);if(t===e[r])return r;if(t===e[r+1])return r+1;if(t<e[r])n=r;else{if(!(t>e[r+1]))return e.splice(r+1,0,t),r+1;o=r+1}}},e.foreach=function(t,e){var n,r,i,s,a,h;if(t){if(o(t))for(s=[],n=a=0,h=t.length;h>a;n=++a)r=t[n],s.push(e(r,n));else{s={};for(i in t)r=t[i],s[i]=e(r,i)}return s}},i=Object.hasOwnProperty,e.mixin=function(t,e){var n,r;for(n in e)r=e[n],i.call(t,n)||(t[n]=r);return t},e.makeReactMap=function(t){var e,n,r,i,o,s,a,h,u,c,l;for(s={},r=t.split(/\s*,\s*/),a=0,u=r.length;u>a;a++)if(n=r[a],i=n.trim().split(/\s*:\s*/),1===i.length)s[i[0]]="";else for(o=i[1],l=i[0].split(/\s+/),h=0,c=l.length;c>h;h++)e=l[h],s[e]=o;return s}},function(t,e,n){var r;"undefined"!=typeof window&&(e.normalizeDomElement=function(t){return"string"==typeof t&&(t=document.querySelector(t)),t}),e.getBindProp=function(t){var e;if(e=t.tagName)return"textarea"===e||"select"===e?"value":"checkbox"===t.props.type?"checked":"value";throw new Error("trying to bind a Component which is not a Tag")},"undefined"!=typeof window&&(document.addEventListener?(e.addEventListener=function(t,e,n){t.addEventListener(e,n,!1)},e.removeEventListener=function(t,e,n){t.removeEventListener(e,n)}):(e.addEventListener=function(t,e,n){t.attachEvent(e,n)},e.removeEventListener=function(t,e,n){t.detachEvent(e,n)}),e.isElement=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}),r=n(6).renew,e.domField=function(t,e){var n;return null==t?"":"function"!=typeof t?t.then&&t["catch"]?(n=react(function(){return n.promiseResult}),t.then(function(t){return n.promiseResult=t,n.invalidate()})["catch"](function(t){return n.promiseResult=t,n.invalidate()}),n):t:t.bindComponent?t.bindComponent(e):t.invalidate?t:r(t)},e.domValue=function(t,e){return null==t?"":"function"!=typeof t?t:(t=t.call(e),null==t?"":t)},e.extendChildFamily=function(t,e){var n;for(n in e.family){if(t[n])throw new Error("do not allow to have the same component to be referenced in different location of one List");t[n]=!0}}},function(t,e,n){var r,i,o,s,a,h,u,c,l=[].slice;c=n(4),s=c.newLine,i=c.funcString,a=function(t){return t.invalidate?t:(t.valid=!1,t.invalidateCallbacks=[],t.onInvalidate=function(e){var n;if("function"!=typeof e)throw new Error("call back should be a function");return n=t.invalidateCallbacks||(t.invalidateCallbacks=[]),n.push(e)},t.offInvalidate=function(e){var n,r;return r=t.invalidateCallbacks,r&&(n=r.indexOf(e))>=0&&(r.splice(n,1),r.length||(t.invalidateCallbacks=null)),t},t.invalidate=function(){var e,n,r,i;if(t.valid&&t.invalidateCallbacks){for(i=t.invalidateCallbacks,n=0,r=i.length;r>n;n++)(e=i[n])();t.valid=!1}return t},t)},h=function(t){var e;return e=function(){var n;if(arguments.length)throw new Error("flow.renew is not allowed to accept arguments");return n=t.call(this),e.valid=!0,e.invalidate(),n},e.toString=function(){return"renew: "+i(t)},a(e)},o=function(t){var e,n;return e=null,n=function(){if(arguments.length)throw new Error("flow.lazy is not allowed to accept arguments");return n.valid?e:(n.valid=!0,e=t.call(this))},n.toString=function(){return"lazy: "+i(t)},a(n)},t.exports=r=function(){var t,e,n,r,s,u,c,d,f,p;if(r=2<=arguments.length?l.call(arguments,0,u=arguments.length-1):(u=0,[]),e=arguments[u++],!r.length)return o(e);for(c=0,f=r.length;f>c;c++)if(n=r[c],"function"==typeof n&&!n.invalidate)return h(e);for(t=null,s=a(function(n){return arguments.length?n===t?n:(t=e.call(this,n),s.invalidate(),t):s.valid?t:(s.valid=!0,t=e.call(this))}),d=0,p=r.length;p>d;d++)n=r[d],n&&n.onInvalidate&&n.onInvalidate(s.invalidate);return s.toString=function(){return"flow: ["+function(){var t,e,i;for(i=[],t=0,e=r.length;e>t;t++)n=r[t],i.push(n.toString());return i}().join(",")+"] --> "+i(e)},s},r.pipe=function(){var t,e,n,r,i,o,s,h,u;for(n=2<=arguments.length?l.call(arguments,0,i=arguments.length-1):(i=0,[]),t=arguments[i++],o=0,h=n.length;h>o;o++)if(e=n[o],"function"==typeof e&&!e.invalidate)return r=a(function(){var i,o,s,a;if(arguments.length)throw new Error("flow.pipe is not allow to have arguments");for(i=[],s=0,a=n.length;a>s;s++)e=n[s],"function"==typeof e?i.push(e()):i.push(e);return o=t.apply(this,i),r.valid=!0,r.invalidate(),o});for(r=a(function(){var i,o,s;for(r.valid=!0,i=[],o=0,s=n.length;s>o;o++)e=n[o],"function"==typeof e?i.push(e()):i.push(e);return t.apply(this,i)}),s=0,u=n.length;u>s;s++)e=n[s],e&&e.onInvalidate&&e.onInvalidate(r.invalidate);return r},r.react=a,r.lazy=o,r.renew=h,r.flow=r,r.see=u=function(t,e){var n,r;return n=t,r=function(t){return arguments.length?(t=e?e(t):t,t!==n&&(n=t,r.invalidate()),t):(r.valid=!0,n)},r.isDuplex=!0,r.toString=function(){return"see: "+t},a(r)},r.seeN=function(){var t,e,n,r,i;for(e=1<=arguments.length?l.call(arguments,0):[],i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(u(t));return i},Object.defineProperty?(r.bind=function(t,e,n){var r,i,o,s;return r=Object.getOwnPropertyDescriptor(t,e),r&&(i=r.get,o=r.set),i&&i.invalidate||(i=function(){if(arguments.length)throw new Error("should not set value on flow.bind");return i.valid=!0,i.cacheValue},i.cacheValue=t[e],s=function(n){return n!==t[e]?(o&&o.call(t,n),i.cacheValue=n,i.invalidate(),n):void 0},a(i),i.toString=function(){return""+(n||"m")+"["+e+"]"},Object.defineProperty(t,e,{get:i,set:s})),i},r.duplex=function(t,e,n){var r,i,o,s;return r=Object.getOwnPropertyDescriptor(t,e),r&&(i=r.get,s=r.set),s&&s.invalidate?s:(o=function(n){return arguments.length?n!==t[e]?(s&&s.call(t,n),i&&i.invalidate&&i.invalidate(),o.cacheValue=n,o.invalidate(),n):void 0:(o.valid=!0,o.cacheValue)},o.cacheValue=t[e],a(o),o.isDuplex=!0,o.toString=function(){return""+(n||"m")+"["+e+"]"},Object.defineProperty(t,e,{get:o,set:o}),o)}):(r.bind=function(t,e,n){var r,i;return i=t._dcBindMethodMap,i||(i=t._dcBindMethodMap={}),t.dcSet$||(t.dcSet$=function(e,n){var r;return n!==t[e]?(i&&i[e]&&i[e].invalidate(),(r=this._dcDuplexMethodMap)&&r[e]&&r[e].invalidate()):void 0}),r=i[e],r||(r=i[e]=function(){return r.valid=!0,t[e]},r.toString=function(){return""+(n||"m")+"["+e+"]"},a(r)),r},r.duplex=function(t,e,n){var r,i;return i=t._dcDuplexMethodMap,i||(i=t._dcDuplexMethodMap={}),t.dcSet$||(t.dcSet$=function(e,n){var r;return n!==t[e]&&((r=this._dcBindMethodMap)&&r[e]&&r[e].invalidate(),i&&i[e]&&i[e].invalidate()),n}),r=i[e],r||(r=i[e]=function(n){return arguments.length?t.dcSet$(e,n):(r.valid=!0,t[e])},r.isDuplex=!0,r.toString=function(){return""+(n||"m")+"["+e+"]"},a(r)),r}),r.unary=function(t,e){return"function"!=typeof t?e(t):t.invalidate?r(t,function(){return e(t())}):function(){return e(t())}},r.binary=function(t,e,n){return"function"==typeof t&&"function"==typeof e?t.invalidate&&e.invalidate?r(t,e,function(){return n(t(),e())}):function(){return n(t(),e())}:"function"==typeof t?t.invalidate?r(t,function(){return n(t(),e)}):function(){return n(t(),e)}:"function"==typeof e?e.invalidate?r(e,function(){return n(t,e())}):function(){return n(t,e())}:n(t,e)}},function(t,e){t.exports=function(t){return t&&null!=t.renderDom}},function(t,e){var n,r=[].slice;t.exports=n={on:function(t,e){var n,r,i,o,s,a;if(arguments.length||dc.error("missing arguments for Component.on(event, callback)"),1===arguments.length)if(t&&"object"==typeof t)for(r in t)e=t[r],this.on(r,e);else dc.error("wrong arguments for Component.on(event, callback)");else for((i=this.listeners)||(this.listeners=i={}),a=t.split(/\s*,\s*|\s+/),o=0,s=a.length;s>o;o++)t=a[o],(n=i[t])?n.indexOf(e)<0&&n.push(e):i[t]=[e];return this},off:function(t,e){var n,r,i,o,s,a,h,u,c;if(arguments.length)if(1===arguments.length)for(i=this.listeners,u=t.split(/\s*,\s*|\s+/),o=0,a=u.length;a>o;o++)t=u[o],i[t]=null;else for(i=this.listeners,c=t.split(/\s*,\s*|\s+/),s=0,h=c.length;h>s;s++)t=c[s],n=i[t],n&&(r=n.indexOf(e))>=0&&(n.splice(r,1),n.length||(i[t]=null));else this.listeners={};return this},once:function(t,e){var n;return n=function(){var i;return i=1<=arguments.length?r.call(arguments,0):[],this.off(t,n),e.apply(this,i)},this.on(t,n)},emit:function(){var t,e,n,i,o,s,a;if(i=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],this.destroyed)return this;if(n=this.listeners[i])for(s=0,a=n.length;a>s;s++)e=n[s],e.apply(this,t);else(o=this[i])&&o.apply(this,t);return this}}},function(t,e,n){var r,i,o,s,a,h,u,c;c=n(6),a=c.react,h=c.see,i=c.bind,o=c.duplex,s=c.flow,u=c.unary,r=c.binary,t.exports=s,s.bindings=function(t,e){var n,r;r={};for(n in t)r[n+"$"]=o(t,n,e),r[n+"_"]=i(t,n,e);return r},s.seeAttrs=function(t,e){var n,r,i;for(r in e)i=e[r],n=t[r],"function"==typeof n?n(i):t[r]=h(i);return t},s.neg=function(t){return u(t,function(t){return-t})},s.no=s.not=s.not_=function(t){return u(t,function(t){return!t})},s.bitnot=function(t){return u(t,function(t){return~t})},s.reciprocal=function(t){return u(t,function(t){return 1/t})},s.abs=function(t){return u(t,Math.abs)},s.floor=function(t){return u(t,Math.floor)},s.ceil=function(t){return u(t,Math.ceil)},s.round=function(t){return u(t,Math.round)},s.add=function(t,e){return r(t,e,function(t,e){return t+e})},s.sub=function(t,e){return r(t,e,function(t,e){return t-e})},s.mul=function(t,e){return r(t,e,function(t,e){return t*e})},s.div=function(t,e){return r(t,e,function(t,e){return t/e})},s.min=function(t,e){return r(t,e,function(t,e){return Math.min(t,e)})},s.and=function(t,e){return r(t,e,function(t,e){return t&&e})},s.or=function(t,e){return r(t,e,function(t,e){return t||e})},s.funcAttr=function(t,e){return s(t,e,function(n){var r;return r=t(),null==r?r:arguments.length?r[e]=n:r[e]})},s.toggle=function(t){return t(!t())},s.if_=function(t,e,n){return"function"!=typeof t?t?e:n:t.invalidate?"function"==typeof e&&"function"==typeof n?e.invalidate&&n.invalidate?s(t,e,n,function(){return t()?e():n()}):function(){return t()?e():n()}:"function"==typeof e?e.invalidate?s(t,e,function(){return t()?e():n}):function(){return t()?e():n}:"function"==typeof n?n.invalidate?s(n,function(){return t()?e:n()}):function(){return t()?e:n()}:s(t,function(){return t()?e:n}):"function"==typeof e&&"function"==typeof n?function(){return t()?e():n()}:"function"===e?function(){return t()?e():n}:"function"===n?function(){return t()?e:n()}:t()?e:n},s.thisBind=function(t){var e;return e=a(function(){return this[t]}),e.bindComponent=function(n){var r;return r=s.bind(n,t),r.onInvalidate(function(){return e.valid=!0,e.invalidate()}),e},e}},function(t,e,n){var r,i,o,s,a,h,u,c,l,d,f=[].slice;u=(s=n(6)).react,a=n(4).isArray,o=n(11),t.exports=s,c=Array.prototype.slice,s.watchList=l=function(t,e){var n;return n=t.watchingListComponents||(t.watchingListComponents={}),n[e.dcid]=e,t.eachWatching?void 0:(t.eachWatching=!0,t._shift=t.shift,t._pop=t.pop,t._push=t.push,t._reverse=t.reverse,t._sort=t.sort,t._splice=t.splice,t._unshift=t.unshift,t.shift=r.shift,t.pop=r.pop,t.push=r.push,t.reverse=r.reverse,t.sort=r.sort,t.splice=r.splice,t.unshift=r.unshift,t.setItem=r.setItem,t.setLength=r.setLength,t.updateComponents=r.updateComponents,t.updateComponent=r.updateComponent,t.getListChildren=r.getListChildren,t.replaceAll=r.replaceAll)},r={},r.getListChildren=function(t,e,n){var r,i,o;for(r=[],i=e;n>i;)o=t.getItemComponent(this[i],e+i),o.valid=!0,r.push(o),i++;return r},r.updateComponent=function(t,e,n){var r;return r=this.getListChildren(t,e,n),t.setChildren(e,r),this},r.updateComponents=function(t,e){var n,r,i;r=this.watchingListComponents;for(i in r)n=r[i],this.updateComponent(n,t,e);return this},r.setItem=function(){var t,e,n,r,i,o;for(e=arguments[0],r=2<=arguments.length?f.call(arguments,1):[],e>>>=0,0>e&&(e=0),t=i=0,o=r.length;o>i;t=++i)n=r[t],this[e+t]=r[t];return this.updateComponents(e,e+r.length),this},r.pop=function(){var t,e,n,r;if(this.length){n=this.watchingListComponents,e=this._pop();for(r in n)t=n[r],t.popChild();return e}},r.push=function(){var t,e,n,r,i,o,s;t=1<=arguments.length?f.call(arguments,0):[],o=this.watchingListComponents,n=this.length,i=this._push.apply(this,arguments);for(s in o)r=o[s],e=r.getItemComponent(this[n],n),r.pushChild(e);return i},r.unshift=function(){var t,e,n,r,i;if(t=1<=arguments.length?f.call(arguments,0):[],this.length){r=this.watchingListComponents,this._shift(),e=this.length;for(i in r)n=r[i],n.updateSuccChild?this.updateComponent(n,e):n.shiftChild();return this}return this},r.unshift=function(t){var e,n,r,i;this._unshift(t),n=this.watchingListComponents,i=[];for(r in n)e=n[r],e.updateSuccChild?i.push(this.updateComponent(e,this.length)):(t=e.getItemComponent(this[0],0),i.push(e.unshiftChild(t)));return i},r.reverse=function(){var t;return t=this.length,1>=t?this:(this._reverse(),this.updateComponents(0,t))},r.sort=function(){var t;return t=this.length,1>=t?this:(this._sort(),this.updateComponents(0,t))},r.splice=function(t,e){var n,r,i,o,s,a,h,u,l;if(i=c.call(arguments,2),o=i.length,0===e&&0===o)return this;if(h=this.length,t>>>=0,0>t?t=0:t>h&&(t=h),u=this._splice.apply(this,[t,e].concat(i)),a=u.length,a===h)this.updateComponents(t,t+o);else for(l in watchingListComponents)if(s=watchingListComponents[l],s.updateSuccChild)this.updateComponent(s,t,a);else if(o>e){for(r=t;e>r;)n=s.getItemComponent(this[r],r),s.replaceChild(r,n),r++;for(;o>r;)n=s.getItemComponent(this[r],r),s.insertChild(r,n),r++}else{for(r=t;o>r;)n=s.getItemComponent(this[r],r),s.replaceChild(r,n),r++;for(;e>r;)s.removeChild(t+o),r++}return u},r.setLength=function(t){var e,n,r,i;if(n=this.length,t===n)return this;if(n>=t){r=this.watchingListComponents,this.length=t;for(i in r)e=r[i],e.setLength(t);return this}return this.updateComponents(n,t),this},r.replaceAll=function(t){return this.setItem.apply(this,[0].concat(f.call(t))),this.setLength(t.length),this},s.watchObject=d=function(t,e,n){var r;return r=t.watchingListComponents||(t.watchingListComponents={}),r[e.dcid]=e,t.eachWatching?void 0:(t.eachWatching=!0,o(t,i))},i={},i.deleteItem=function(){var t,e,n,r,i,o,s,a,h,u,c,l,d,p;if(o=1<=arguments.length?f.call(arguments,0):[],c=this.watchingListComponents,!c.length)return this;for(d=0,p=o.length;p>d;d++)if(r=o[d],this.hasOwnProperty(r)){if("$dc"===r.slice(0,3))throw new Error("do not remove the key: "+r+', which is used by "each component" of dc');delete this[r];for(l in c){a=c[l],i=a.keyChildMap,n=i[r],t=a.children,s=t.length;break}for(l in c){if(a=c[l],a.updateSuccChild){for(e=n+1,t=a.children;s>e;)u=t[e],h=a.getItemComponent(u.$watchingKey,e,this,a),a.replaceChild(u,h),e++;a.removeChild(n)}else a.removeChild(n);delete i[r]}}return this},i.setItem=function(t,e){var n,r,i,o,s,a;if(h(t))throw new Error("do not use the key: "+t+', which is used by "each component" of dc');if(s=this.watchingListComponents,this.hasOwnProperty(t)){this[t]=e;for(a in s)r=s[a],o=r.keyChildMap[t],i=r.getItemComponent(t,o,this,r),r.replaceChild(oldChild,i)}else{n=r.children.length;for(a in s)r=s[a],i=r.getItemComponent(t,n,this,r),r.pushChild(i)}return this},i.extendItems=function(t){var e,n;for(e in t)n=t[e],this.setItem(e,n);return this},i.replaceAll=function(t){var e,n,r,i;for(n=Object.keys(this),r=0,i=n.length;i>r;r++)e=n[r],t.hasOwnProperty(e)||this.deleteItem(e);return this.extendItems(t),this},s.isEachObjectSystemKey=h=function(t){return/setItem|deleteItem|extendItems|watchingListComponents|eachWatching/.test(t)},s.watchItems=function(t,e){if(!t)throw new Error("items to be watched should be an array or object.");return a(t)?l(t,e):d(t,e),e}},function(t,e){var n,r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},s=function(t){"use strict";if(!t||"[object Object]"!==i.call(t))return!1;var e=r.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!o)return!1;var s;for(s in t);return s===n||r.call(t,s)};t.exports=function a(){"use strict";var t,e,r,i,h,u,c=arguments[0],l=1,d=arguments.length,f=!1;for("boolean"==typeof c?(f=c,c=arguments[1]||{},l=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});d>l;++l)if(t=arguments[l],null!=t)for(e in t)r=c[e],i=t[e],c!==i&&(f&&i&&(s(i)||(h=o(i)))?(h?(h=!1,u=r&&o(r)?r:[]):u=r&&s(r)?r:{},c[e]=a(f,u,i)):i!==n&&(c[e]=i));return c}},function(t,e,n){var r,i,o,s,a,h,u,c,l;if(r=n(4).isArray,i=n(7),"undefined"!=typeof window){for(l=["ms","moz","webkit","o"],u=0,c=l.length;c>u;u++)if(h=l[u],window.requestAnimationFrame=window[h+"RequestAnimationFrame"]){window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"];break}window.requestAnimationFrame||(o=0,window.requestAnimationFrame=function(t){var e,n,r;return e=(new Date).getTime(),r=Math.max(0,16-(e-o)),n=window.setTimeout(function(){t(e+r)},r),o=e+r,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}dc.reset=function(){return dc.renderBySystemLoop=!1,dc.listeners={},dc.rootComponentMap={}},dc.reset(),dc.render=function(t){var e,n,r,i,o;if(dc.emit("willRender"),!dc.valid)for(dc.valid=!0,r=dc.rootComponentMap,dc.rootComponentMap={},e=i=0,o=r.length;o>i;e=++i)n=r[e],e.render(!0);return dc.emit("didRender")},dc.rafRender=s=function(){dc.renderBySystemLoop=!0,requestAnimFrame(s),dc.render(!0)},dc.renderWhen=function(t,e,n){var r,o,s,h,u,c,l,d,f,p,m,v,g,y,w,C;if("string"==typeof e&&(e=e.split(/\s+/)),i(t)&&(t=[t]),t instanceof Array)for(d=0,m=t.length;m>d;d++)for(s=t[d],f=0,v=e.length;v>f;f++)u=e[f],a(s,u,n);else if(t===window.setInterval){for(l=n.test,o=n.clear,h=n.components,p=0,g=h.length;g>p;p++)t=h[p],t.asRenderHolder();c=null,r=function(){var e,n;if(!l||l())for(n=0,e=h.length;e>n;n++)t=h[n],t.render();return o&&o()?clearInterval(c):void 0},c=setInterval(r,e||16)}else if(t===setTimeout){for(C=n.component,w=0,y=C.length;y>w;w++)t=C[w],t.asRenderHolder();r=function(){var e,r,i,o;for(i=n.component,o=[],r=0,e=i.length;e>r;r++)t=i[r],o.push(t.render());return o},setTimeout(r,e)}},a=function(t,e,n){var r,i,o;for(t.asRenderHolder(),"on"!==e.slice(0,2)&&(e="on"+e),r=t.eventUpdateConfig[e]||(t.eventUpdateConfig[e]={}),i=0,o=n.length;o>i;i++)t=n[i],r[t.dcid]=t},dc.stopRenderWhen=function(t,e,n){var r,i;if("on"!==e.slice(0,2)&&(e="on"+e),n){if(r=t.eventUpdateConfig[e])for(i in n)t=n[i],delete r[i]}else delete t.eventUpdateConfig[e]},dc.invalidate=function(){return dc.valid=!1},dc.invalidateContent=function(t){dc.valid=!1,dc.rootComponentMap[t.dcid]=t},dc.invalidateAttach=function(){},dc.propagateChildNextNode=function(t,e){},dc.invalidateAttachOnRemove=function(t){var e,n,r;e=t.firstNode,(r=e.previousSibling)&&(n=r.component)&&n.setNextNode(this.nextNode)}},function(t,e,n){var e,r;r=n(2),t.exports=e=r({},n(14),n(40),n(41),n(42))},function(t,e,n){var r;r=n(15),t.exports={isComponent:n(7),toComponent:n(18),toComponentArray:n(27),Component:n(17),BaseComponent:n(20),ListMixin:n(28),List:n(26),Tag:n(30),Text:n(21),Comment:n(31),Cdata:n(32),Html:n(33),Nothing:n(19),TransformComponent:n(16),TestComponent:n(34),If:n(35),Case:n(37),Func:n(29),Pick:n(38),Defer:n(39),Route:r.Route,route:r}},function(t,e,n){var r,i,o,s,a,h,u,c,l,d,f,p,m,v,g,y=[].slice,w={}.hasOwnProperty,C=function(t,e){function n(){this.constructor=t}for(var r in e)w.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=n(16),s=n(7),m=n(18),v=n(4),a=v.isEven,h=v.matchCurvedString,t.exports=p=function(){var t,e,n,r;return n=3<=arguments.length?y.call(arguments,0,r=arguments.length-2):(r=0,[]),e=arguments[r++],t=arguments[r++],g(n,e,t,0)},g=function(t,e,n,i){var o,h,u;if("function"==typeof n?(t.push(e),t.push(n),e=null,n=i):s(n)?(t.push(e),e=n,n=i):n&&!s(n)&&n.otherwise?(t.push(e),e=n.otherwise,n=i):(n>>>=0,e&&!s(e)&&e.otherwise&&(e=e.otherwise)),h=t.length,!a(h))throw new Error("route parameter error: missing matched handler");if(2>h||"function"!=typeof t[h-1])throw new Error("route parameter error:\n  expect route(pattern, handler, pattern, handler, ..., otherwise, baseIndex)");for(u=[],o=0;h>o;)u.push([t[o],t[o+1]]),o+=2;return new r(u,e,n)},p._navigateTo=l=function(t,e,n){var r,i;if(null==n&&(n=0),e=""+e,"/"!==e[0]){for(i=0;e;)if("./"===e.slice(0,2))e=e.slice(2);else{if("../"!==e.slice(0,3))break;e=e.slice(3),i++}return n-=i,0>n&&(n=0),r=t.split("/").slice(0,n).join("/")+"/","/"===r&&(r=""),e=r+e}return e=e.slice(1)},c=function(t){return function(e){var n,r;return r=window.history&&window.history.pushState?decodeURI(location.pathname+location.search).replace(/\?(.*)$/,""):(n=location.href.match(/#(.*)$/))?n[1]:"",l(r,e,t),window.history&&window.history.pushState?history.pushState(null,null,e):location.href=location.href.replace(/#(.*)$/,"")+"#"+e,e}},p.to=c(0),p.Route=r=function(t){function e(t,n,r){var i,s,a;for(this.routeList=t,this.otherwise=n,this.baseIndex=r,e.__super__.constructor.call(this),s=0,a=t.length;a>s;s++)i=t[s],i[0]=o(i[0]);this.otherwise=m(n)}return C(e,t),e.prototype.getContentComponent=function(){var t,e,n,r,i,o;for(e=this.getPath(),o=this.routeList,r=0,i=o.length;i>r;r++)if(n=o[r],t=f(n,e,this.baseIndex))return t;return this.otherwise},e.prototype.getPath=function(){var t;return window.history&&window.history.pushState?decodeURI(location.pathname+location.search).replace(/\?(.*)$/,""):(t=location.href.match(/#(.*)$/))?t[1]:""},e}(i),p._processRouteItem=f=function(t,e,n){var r,i,o,s,a,h;return s=t[0],i=t[1],s instanceof Array&&(h=s,s=h[0],a=h[1]),o=u(s,e,n),!o||a&&!(o=a(o,e,n))?void 0:(r=function(){var t,e,n,r;return n=3<=arguments.length?y.call(arguments,0,r=arguments.length-2):(r=0,[]),e=arguments[r++],t=arguments[r++],g(n,e,t,o.base)},r.to=c(o.base),m(i(o,r)))},p._processPiecePatterns=d=function(t,e,n){var r,i,o,s,a,u;for(i=0,s=t.length,a=[];r=t[i];)if(u=i,":"===r){if(r=t[++i],!r.match(/[A-Za-z_$]/))throw new Error("route pattern error: expect a parameter identifier "+t);for(r=t[++i];r&&r.match(/[$\w]/);)r=t[++i];if(i===u+1)throw new Error("route pattern error: expect a parameter identifier "+t);if(o=t.slice(u+1,i),e[o])throw new Error("route pattern error: repeated parameter name");if(e[o]=!0,"("===r){if(u=i,!(i=h(t,i)))throw new Error("route pattern error: missing ) for regexp");if(u+1===i-1)throw new Error("route pattern error: empty regexp: ()");a.push({key:o,pattern:new RegExp(t.slice(u+1,i-1))}),r=t[i]}else a.push({key:o,pattern:new RegExp("\\w+")}),++i}else if("("===r){if(!(i=h(t,i)))throw new Error("route pattern error: missing ) for regexp");if(u+1===i-1)throw new Error("route pattern error: empty regexp: ()");a.push({key:n++,pattern:new RegExp(t.slice(u+1,i-1))})}else{for(++i;(r=t[i])&&":"!==r&&"("!==r;)i++;a.push({pattern:t.slice(u,i)})}return[a,n]},p._getRoutePattern=o=function(t){var e,n,r,i,o,s,a,h,u,c,l,f,p,m;for(t=""+t,t.match(/\\\//)&&new Error("should not include /\\// in pattern"),f=""===t?[]:t.split("/"),p=0,e=!1,n=!0,r=!1,s=!1,l=[],h={},o=f.length,i=0,a=0;o>i;){if(c=f[i++],"."===c){if(n)continue;throw new Error("route pattern error: do not use ./ pattern except the start")}if(".."===c){if(n){p++;continue}throw new Error("route pattern error: do not use ../ except the start")}if(""===c)if(n)e=!0;else{if(i!==o)throw new Error("route pattern error: do not use ../ except the start");r=!0}else if("*"===c)l.push("*");else if("**"===c){if(i!==o)throw new Error("route pattern error: do not use ** except the last segment");s=!0}else m=d(c,h,a),u=m[0],a=m[1],l.push(u);n=!1}return{segmentPatterns:l,absolute:e,upCount:p,endSlash:r,moreComing:s}},p._matchRoute=u=function(t,e,n){var r,i,o,s,a,h,u,c,l,d,f,p,m,v,g,y,w,C,N,x;if(!t.endSlash||"/"===e[e.length-1]){for(t.absolute?n=0:(n-=t.upCount,0>n&&(n=0)),"/"===e||""===e?d=[]:(d=e.split("/"),""===e[0]&&d.shift()),h=d.length,r=n,s={},g=[],x=t.segmentPatterns,o=y=0,C=x.length;C>y;o=++y){if(m=x[o],r>=h)return;if("*"!==m){for(c=0,v=l=d[r],w=0,N=m.length;N>w;w++)if(f=m[w],p=f.pattern,"string"==typeof p){if(0!==l.indexOf(p))break;l=l.slice(p.length),c+=p.length}else{if(!(u=l.match(p)))break;s[f.key]=u,c+=u[0].length}if(c!==v.length)return;g.push(v),r++}else g.push(d[r]),r++}if(r===h||t.moreComing)return i="/"+d.slice(0,n+1).join("/")+"/",a="/"+d.slice(r).join("/"),{items:s,basePath:i,segments:g,leftPath:a,base:r}}}},function(t,e,n){var r,i,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=n(17),t.exports=i=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.transformValid=!1}return s(e,t),e.prototype.isTransformComponent=!0,e.prototype.invalidate=function(){return this.valid&&(this.valid=!1,this.holder&&this.holder.invalidateContent(this)),this},e.prototype.invalidateContent=function(t){return this.invalidate()},e.prototype.invalidateAttach=function(t){return this.attachValid&&(this.attachValid=!1,this.holder&&this.holder.invalidateAttach(this)),this},e.prototype.invalidateTransform=function(){return this.transformValid=!1,this.invalidate()},e.prototype.invalidateAttachOnRemove=function(t,e){return this.holder?this.holder.invalidateAttachOnRemove(this,e):void 0},e.prototype.refreshDom=function(t){return this.renderDom(t),this.attachParent(),this.removeChildrenDom()},e.prototype.renderDom=function(t){var e,n;return this.emit("willRenderDom"),this.valid=!0,this.attachValid=!0,this.transformValid||(this.transformValid=!0,n=this.content,n&&n.holder===this&&(this.content.holder=null),this.content=this.getContentComponent()),n=this.content,n.holder=this,n.parentNode=this.parentNode,n.nextNode=this.nextNode,n.renderDom(t),e=n.baseComponent,this.baseComponent=e,this.node=e.node,this.firstNode=e.firstNode,this.node.parentNode||(n.attachValid=!1,this.invalidateAttach(n)),this.emit("didRenderDom"),this},e.prototype.markRemovingDom=function(t){return this.baseComponent&&t.markRemovingChild(this.baseComponent),this},e.prototype.markRemoving=function(){this.baseComponent.markRemoving()},e.prototype.removeDom=function(){return this.baseComponent.removeDom();
},e.prototype.attachParent=function(){var t;this.attachValid||(this.attachValid=!0,t=this.content,t.parentNode=this.parentNode,t.nextNode=this.nextNode,t.attachParent())},e.prototype.propagateChildNextNode=function(t,e){this.holder&&this.holder.propagateChildNextNode(t,e)},e}(r)},function(t,e,n){var r,i,o,s,a,h,u,c,l,d;s=n(2),l=n(5).normalizeDomElement,d=n(4),c=d.newDcid,h=d.isArray,a=n(6).flow,u=n(7),i=n(1),t.exports=r=function(){function t(){this.listeners=this.listeners||{},this.baseComponent=null,this.parentNode=null,this.nextNode=null,this.node=null,this.destroyed=!1,this.holder=null,this.dcid=c(),this.valid=!0,this.attachValid=!0,this.setReactive()}return t.prototype._prepareMount=function(t,e){if(t&&t.component)t=t.component;else if(e&&e.component)throw console.log(t),console.log(e),new Error("error while mounting: mountNode is not a component, but beforeNode is a component");if(u(t)){if(e){if(!u(e)&&(e=e.component,!e))throw console.log(e),new Error("error while mounting: can not mount beforeNode");if(e.holder!==t||!t.children)throw console.log(t),console.log(e),new Error("both mountNode and beforeNode is component, but mountNode is not the parent of beforeNode");return t.insertChildBefore(this,e)}if(!t.children)throw console.log(t),new Error("error while mounting: mountNode is a component, but is not a Tag or List component");return t.pushChild(this)}return this.parentNode=l(t)||this.parentNode||document.body,this.nextNode=e||this.nextNode,this.setHolder(i),i.rootComponentMap[this.dcid]=this},t.prototype.create=function(t,e,n){return this._prepareMount(t,e),this.render(n)},t.prototype.mount=function(t,e,n){return this.emit("willMount"),this._prepareMount(t,e),this.render(n),this.emit("didMount")},t.prototype.unmount=function(t){return this.emit("willUnmount"),this.remove(),this.emit("didUnmount")},t.prototype.remove=function(){var t,e,n,r;return e=this.holder,e&&e!==i?e.children?e.removeChild(this):e&&i.error("Should not remove the content of TransformComponent"):(delete i.rootComponentMap[this.dcid],t=this.firstNode,t&&t.parentNode&&((r=t.previousSibling)&&(n=r.component)&&n.setNextNode(this.nextNode),this.removeNode())),this},t.prototype.memoRemoving=function(t){var e;e=this.holder,e&&e!==i?this.isTag||this.isRenderHolder?this.removingChildren[t.dcid]=t:this.holder.memoRemoving(t):this.removingChildren[t.dcid]=t},t.prototype.removeChildrenDom=function(){var t,e,n;n=this.removingChildren;for(e in n)t=n[e],t.removeDom();this.removingChildren={}},t.prototype.asRenderHolder=function(t){return null==t&&(t=!0),this.isRenderHolder=t,this},t.prototype.render=function(t){return this.destroyed||!t&&!i.alwaysRender&&i.renderBySystemLoop||(this.removing?this.removeDom():this.refreshDom(this.baseComponent)),this},t.prototype.renderHolder=function(t){return this.holder?this.holder.render(t):this.render(t)},t.prototype.replace=function(t,e){var n;if(!this.destroyed&&this!==t)return n=t.holder,n&&n!==i?n.isTransformComponent?i.error("Should not replace the content of TransformComponent"):(n.replaceChild(t,this),n.render(e)):n===i&&(this.parentNode=t.parentNode,this.nextNode=t.nextNode,t.markRemovingDom(this),this.setHolder(n),this.invalidate(),i.rootComponentMap[this.dcid]=this,i.rootComponentMap[t.dcid]=t,this.render(e)),this},t.prototype.renderWhen=function(t,e,n){return h(t)||u(t)?n=[this]:(n=n||{},n.components=[this]),i.renderWhen(t,e,n),this},t.prototype.destroy=function(){return this.unmount(!0),this.destroyed=!0,this.listeners=null,this.node&&(this.node.component=null,this.node=null),this.baseComponent=null,this.parentNode=null},t.prototype.getPrevComponent=function(){var t,e;return(e=this.holder)?(t=e.children)?chilren[t.indexOf(this)]:void 0:null},t.prototype.getNextComponent=function(){var t,e;return(e=this.holder)?(t=e.holder.children)?t[t.indexOf(this)]:void 0:null},t.prototype.setNextNode=function(t){this.nextNode=t},t.prototype.setHolder=function(t){return this.holder&&this.holder!==t&&this.holder.invalidateAttach(this),this.holder=t,this},t.prototype.isOffspringOf=function(t){var e;for(e=this.holder;e;){if(e===t)return!0;e=e.holder}return!1},t.prototype.inFamilyOf=function(t){return this===t||this.isOffspringOf(t)},t.prototype.setReactive=function(){var t,e,n,r,i,o;if(this.reactMap){e=this,t=function(){return e.invalidate()},o=this.reactMap;for(i in o)n=o[i],r=a.bind(this,i),"string"==typeof n?r.onInvalidate(function(){var t;return(t=e[n])?t.invalidate():void 0}):r.onInvalidate(t)}return this},t.prototype.copyEventListeners=function(t){var e,n,r;n=this.listeners,r=t.listeners;for(e in r)r[e]&&(n[e]=r[e].splice());return this},t}(),o=n(8),s(r.prototype,o)},function(t,e,n){var r,i,o,s,a;o=n(7),r=n(19),i=n(21),s=n(6).react,t.exports=a=function(t){var e,h,u,c;return o(t)?t:"function"==typeof t?new i(t):t instanceof Array?new(h=n(26))(function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)c=t[e],r.push(a(c));return r}()):null==t?new r:t.then&&t["catch"]?(e=n(29),u=new e(s(function(){return u.promiseResult})),t.then(function(t){return u.promiseResult=t,u.invalideTransform()})["catch"](function(t){return u.promiseResult=t,u.invalideTransform()}),u):new i(t)}},function(t,e,n){var r,i,o,s={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=n(20),o=n(4).newLine,t.exports=i=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.firstNode=null,this.family={},this.baseComponent=this}return a(e,t),e.prototype.invalidate=function(){return this},e.prototype.renderDom=function(t){return t&&t.markRemovingDom(this),this.valid=!0,this.node=[],this},e.prototype.createDom=function(){return this.node=[]},e.prototype.attachParent=function(){return this.node},e.prototype.attachChildren=function(){return this.node},e.prototype.markRemovingDom=function(t){return this},e.prototype.markRemoving=function(){},e.prototype.removeDom=function(){return this},e.prototype.removeNode=function(){},e.prototype.clone=function(){return new e},e.prototype.toString=function(t,e){return null==t&&(t=2),o("<Nothing/>",t,e)},e}(r)},function(t,e,n){var r,i,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=n(17),t.exports=r=function(t){function e(){e.__super__.constructor.call(this),this.isBaseComponent=!0,this.removing=!1,this.removingChildren={},this.baseComponent=this}return s(e,t),e.prototype.refreshDom=function(t){return this.renderDom(),this.attachParent(),this.removeChildrenDom(),this},e.prototype.renderDom=function(t){return this.emit("willRenderDom"),t&&t!==this&&t.markRemovingDom(this),this.renderBaseComponent(t),this.emit("didRenderDom"),this},e.prototype.renderBaseComponent=function(t){t&&t!==this&&(this.attachValid=!1,this.holder&&this.holder.invalidateAttach(this)),this.node?(!this.valid||this.isTag)&&(this.valid=!0,this.updateDom()):(this.valid=!0,this.createDom(),this.holder&&this.holder.invalidateAttach(this))},e.prototype.invalidate=function(){return this.valid?(this.valid=!1,this.holder&&this.holder.invalidateContent(this)):this},e.prototype.attachChildren=function(){},e.prototype.markRemovingDom=function(t){return this.parentNode&&this.firstNode&&this.firstNode.parentNode===this.parentNode&&(this.removing=!0,t.memoRemoving(this)),this},e.prototype.markRemoving=function(){this.parentNode&&this.node&&(this.removing=!0)},e.prototype.removeDom=function(){var t,e,n,r;if(this.removing){if(this.removing=!1,this.emit("willDetach"),this.isList)for(this.node.parentNode=null,this.childParentNode=null,r=this.children,e=0,n=r.length;n>e;e++)t=r[e],t.removeDom();else this.removeNode();this.emit("didDetach")}return this},e.prototype.removeNode=function(){var t;this.removing=!1,(t=this.node)&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.executeAttachParent=function(){var t,e,n;e=this.node,n=this.parentNode,t=this.nextNode,this.removing=!1,!n||n===e.parentNode&&t===e.nextSibling||n.insertBefore(e,t)},e.prototype.attachParent=function(){return this.node.parentNode?(this.emit("willAttach"),this.executeAttachParent(),this.emit("didAttach")):this.executeAttachParent(),this.node},e}(i)},function(t,e,n){var r,i,o,s,a,e,h,u,c,l,d,f,p,m={}.hasOwnProperty,v=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=n(20),f=n(4),h=f.funcString,c=f.newLine,d=f.value,a=f.dynamic,p=n(5),o=p.domField,s=p.domValue,l=n(22).setText,u="textContent"in document.documentElement?!0:!1,e=t.exports=i=function(t){function e(t){var n,r,i;e.__super__.constructor.call(this),this.setText(t),Object.defineProperty&&(r=this,n=function(){return r._text},i=function(t){return r.setText(t),t},Object.defineProperty(this,"text",{get:n,set:i})),this.family={},this.family[this.dcid]=!0}return v(e,t),e.prototype.isText=!0,e.prototype.setText=l,e.prototype.createDom=function(){var t,e;return this.textValid=!0,e=s(this.text,this),t=document.createTextNode(e),t.component=this,this.node=t,this.firstNode=t,t},e.prototype.updateDom=function(){var t,e;return t=this.node,this.textValid?t:(this.textValid=!0,e=s(this.text,this),u?e!==t.textContent&&(t.textContent=e):e!==t.innerText&&(t.innerText=e),t)},e.prototype.clone=function(){var t;return t=new this.constructor(this.text),t.copyEventListeners(this)},e.prototype.toString=function(t,e){return null==t&&(t=2),c(h(this.text),t,e)},e}(r)},function(t,e,n){var r,i,o,s,a,h,u,c;s=n(2),h=n(7).isComponent,a=n(24).extendEventValue,i=n(23),c=n(25).styleFrom,o=n(5).domField,e.extendAttrs=function(t,e,n){var r,o,h,u;if(null==n&&(n={}),!e)return t;if(!t)return e;o=i([e["class"],e.className]),n.replaceClass?t.className=o:(t.className=i([t["class"],t.className]),delete t["class"],t.className=i([t.className,o])),h=c(t.style),e.style?t.style=s(h,e.style):t.style=h;for(r in e)if(u=e[r],"class"!==r&&"className"!==r)if("on"===r.slice(0,2))n["replace_"+r]||n.replaceEvents?t[r]=u:a(t,r,u);else{if("style"===r)continue;t[r]=u}return t},e.overAttrs=u=function(t,e){var n,r;if(e){if(t){for(n in t)r=t[n],null==e[n]&&(e[n]=r),"style"===n&&(e[n]=u(t[n],e[n]));return e}return e}return t=s({},t),t.style&&(t.style=s({},c(t.style))),t},r={"for":"htmlFor"},e.attrToPropName=function(t){var e,n,i,o;if(i=r[t])return i;if(o=t.split("-"),1===o.length)return t;for(e=1,n=o.length;n>e;)o[e]=o[e][0].toUpperCase()+o[e].slice(1),e++;return o.join("")},e.setText=function(t){var e;return t=o(t,this),this._text===t?this:(this.textValid=!1,this._text=t,e=this,"function"==typeof t&&t.onInvalidate(function(){return e.textValid=!1,e.invalidate()}),this.invalidate(),this)}},function(t,e,n){var r,i,e,o,s,a=[].slice;s=n(6).react,i=n(5).domField,o=n(4).isArray,t.exports=e=r=function(){var t,e,n,h,u;return n=1<=arguments.length?a.call(arguments,0):[],t={},h=function(){var n,r,i;if(!arguments.length){r=[],h.valid=!0;for(n in t)i=t[n],"function"==typeof i&&(i=i.call(this)),i&&r.push(n);return r.join(" ")}e([].slice(arguments))},u=function(e,n){var r;return n=i(n),r=t[e],"function"==typeof r&&r.offInvalidate(h.invalidate),!n&&r?(h.invalidate(),delete t[e]):r!==n?(h.invalidate(),"function"==typeof n&&n.onInvalidate(h.invalidate),t[e]=n):void 0},e=function(t){var n,r,i,s,a,h,c,l,d;if(t)for(o(t)||(t=[t]),a=0,c=t.length;c>a;a++)if(n=t[a])if("string"==typeof n)for(i=n.trim().split(/\s+(?:,\s+)?/),h=0,l=i.length;l>h;h++)r=i[h],"!"===r[0]?u(r.slice(1),!1):u(r,!0);else if(n instanceof Array)e(n);else if(n&&n.classMap){d=n.classMap;for(r in d)s=d[r],"function"!=typeof s&&(s=!0),u(r,s)}else if("object"==typeof n)for(r in n)s=n[r],"function"!=typeof s&&(s=!0),u(r,s)},s(h),e(n),h.classMap=t,h.valid=!Object.keys(t).length,h.removeClass=function(){var t,e,n,r,i;for(e=1<=arguments.length?a.call(arguments,0):[],i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(u(t,!1));return i},h.extend=function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],e(t)},h.clone=function(){var t;return t=r(),t.extend(h)},h},e.classFn=r},function(t,e){var n;e.domEventHandler=function(t){var e,n,r,i,o,s,a,h,u,c;if(n=this.component){for(o="on"+t.type,i=n.domEventCallbackMap[o],u=0,c=i.length;c>u;u++)s=i[u],a=s.call(n,t,this);if(r=n.eventUpdateConfig[o])for(h in r)e=r[h],e.render();t&&(!t.executeDefault&&t.preventDefault&&t.preventDefault(),!t.continuePropagation&&t.stopPropagation&&t.stopPropagation())}return t&&null!=t.dcEventResult?t.dcEventResult:a},e.domEventHandlerFromArray=function(t){return function(e){var n,r,i;for(r=0,i=t.length;i>r;r++)n=t[r],n&&n.call(this.component,e,this)}},e.extendEventValue=n=function(t,e,n,r){var i;return i=t[e],i?i instanceof Array||(i=[i]):i=[],n?n instanceof Array||(n=[n]):n=[],r?t[e]=n.concat(i):t[e]=i.concat(n)},e.addHandlerToCallbackArray=function(t,e,n){var r,i,o,s;if("function"==typeof t&&(t=[t]),n)for(r=t.pop();r;)i=e.indexOf(r),0>=i&&e.unshift(r),r=t.pop();else for(o=0,s=t.length;s>o;o++)r=t[o],i=e.indexOf(r),0>=i&&e.push(r)}},function(t,e,n){var r,i;r=n(4).cloneObject,e.styleFrom=i=function(t){var e,n,i,o,s,a,h,u,c,l;if("string"==typeof t){for(i={},t=t.trim().split(/\s*;\s*/),s=0,h=t.length;h>s;s++)e=t[s],e=e.trim(),e&&(c=e.split(/\s*:\s*/),n=c[0],o=c[1],i[n]=o);return i}if(t instanceof Array){for(i={},a=0,u=t.length;u>a;a++){if(e=t[a],"string"==typeof e){if(e=e.trim(),!e)continue;l=e.split(/\s*:\s*/),n=l[0],t=l[1]}else n=e[0],t=e[1];i[n]=t}return i}return t&&"object"!=typeof t?{}:r(t)}},function(t,e,n){var r,i,o,s,e,a,h,u,c={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=n(20),h=n(4).newLine,u=n(27),a=n(4).mixin,o=n(28),s=n(4).binaryInsert,t.exports=e=i=function(t){function e(t){e.__super__.constructor.call(this),this.children=u(t),this.initListMixin(),this.isList=!0}return l(e,t),e.prototype.refreshDom=function(t){return this.renderDom(),this.attachChildren(),this.removeChildrenDom(),this},e.prototype.createDom=function(){return this.node=this.childNodes,this.createChildrenDom(),this.firstNode=this.childrenFirstNode,this.node},e.prototype.updateDom=function(){return this.updateChildrenDom(),this.firstNode=this.childrenFirstNode,this.node},e.prototype.markRemovingDom=function(t){var e,n,r,i;if(this.childParentNode&&this.firstNode&&this.firstNode.parentNode===this.childParentNode){for(this.removing=!0,i=this.children,n=0,r=i.length;r>n;n++)e=i[n],e.markRemoving(t);t.memoRemoving(this)}return this},e.prototype.markRemoving=function(){var t,e,n,r;if(this.childParentNode&&this.node)for(this.removing=!0,r=this.children,e=0,n=r.length;n>e;e++)t=r[e],t.markRemoving()},e.prototype.removeNode=function(){var t,e,n,r;for(this.node.parentNode=null,this.childParentNode=null,r=this.children,e=0,n=r.length;n>e;e++)t=r[e],t.baseComponent.removeNode()},e.prototype.invalidateAttach=function(t){var e;return e=this.children.indexOf(t),s(e,this.attachParentIndexes),this.attachValid&&(this.attachValid=!1,this.holder&&this.holder.invalidateAttach(this)),this},e.prototype.attachParent=o.attachChildren,e.prototype.setNextNode=function(t){var e,n,r;for(this.nextNode=t,this.childrenNextNode=t,n=this.children,r=n.length-1;(e=n[r])&&(e.setNextNode(t),!e.firstNode);)r--},e.prototype.clone=function(t){var n;return n=new e(this.cloneChildren(t)),n.constructor=this.constructor,n.copyEventListeners(this)},e.prototype.toString=function(t,e){var n,r,i,o,s;if(null==t&&(t=0),this.children.length){for(r=h("<List>",t,e),s=this.children,i=0,o=s.length;o>i;i++)n=s[i],r+=n.toString(t+2,!0);return r+=h("</List>",t,!0)}return h("<List/>",t,e)},e}(r),a(i.prototype,o)},function(t,e,n){var r,i;r=n(18),t.exports=i=function(t){var e,n,i,o;if(t){if(t instanceof Array){for(o=[],n=0,i=t.length;i>n;n++)e=t[n],o.push(r(e));return o}return[r(t)]}return[]}},function(t,e,n){var r,i,o,s,a,h,u,c,l,d,f,p,m=[].slice;f=n(4),h=f.isArray,l=f.substractSet,u=n(7),d=n(18),r=n(19),p=n(4),s=p.binarySearch,o=p.binaryInsert,l=p.substractSet,a=n(5).extendChildFamily,i=function(t,e,n){var r,i;for(i=t.length,r=n;i>r;){if(t[r]+=e,t[r]<0)throw"negative attach index in ListMixin component";r++}},c=function(t,e,n,r){var i,o;for(o=n;o>=r&&(i=t[o],i.nextNode!==e)&&(i.nextNode=e,!i.firstNode);)o--,e=i.firstNode},t.exports={initListMixin:function(){var t,e,n,r,i,o;for(this.updatingChildren={},this.attachingChildren={},this.attachParentIndexes=[],this.childNodes=[],this.family=e={},e[this.dcid]=!0,o=this.children,n=r=0,i=o.length;i>r;n=++r)t=o[n],t.setHolder(this),a(e,t)},cloneChildrenFrom:function(t,e){var n,r,i,o,s,a;for(r=[],a=t.children,i=o=0,s=a.length;s>o;i=++o)n=a[i],r.push(this.cloneChild(n,i,e,t));return this.setChildren(0,r)},cloneChild:function(t,e,n,r){return t.clone(n)},createChildrenDom:function(){var t,e,n,r,i,o,s,a;for(i=this.childNodes,e=null,this.updatingChildren={},a=this.children,r=o=0,s=a.length;s>o;r=++o)t=a[r],t.setHolder(this),t.renderDom(t.baseComponent),i.push(t.node),!e&&t.firstNode&&(e=t.firstNode,n=r);this.childrenFirstNode=e,this.firstNodeIndex=n},updateChildrenDom:function(){var t,e,n,r,i,o;i=this.updatingChildren,this.updatingChildren={},r=this.childNodes,e=this.children;for(o in i)t=i[o],t.setHolder(this),t.renderDom(t.baseComponent),n=e.indexOf(t),r[n]=t.node,this.updateChildrenFirstNode(t,n)},insertChildBefore:function(t,e){return this.insertChild(e,t)},insertChildAfter:function(t,e){var n;return n=this.children,u(e)&&(e=n.indexOf(e),0>e&&(e=0)),this.insertChild(e+1,t)},pushChild:function(){var t,e,n,r;for(t=1<=arguments.length?m.call(arguments,0):[],r=this.children,n=t.length,e=0;n>e;)this.insertChild(r.length,t[e]),e++;return this},insertChild:function(t,e){var n,r,i;return n=this.children,i=n.length,u(t)?(r=n.indexOf(t),0>r&&(r=i)):t>i?(r=i,t=null):0>t?(r=0,t=null):(r=t,t=n[r]),this.emit("onInsertChild",r,t,e),e=d(e),this._insertChild(r,e)},_insertChild:function(t,e){var n,r,s;return r=this.children,r.splice(t,0,e),e.setHolder(this),e.parentNode=this.childParentNode,t===r.length-1?e.setNextNode(this.childrenNextNode):e.setNextNode(r[t+1].firstNode||r[t+1].nextNode),this.node&&(this.childNodes.splice(t,0,e.node),e.node&&e.valid||this.invalidateContent(e),this.holder&&this.holder.invalidateAttach(this),this.attachValid=!1,n=this.attachParentIndexes,s=o(t,n),i(n,1,s+1),e.firstNode&&(!this.childrenFirstNode||t<=this.firstNodeIndex)&&(this.childrenFirstNode=e.firstNode,this.firstNodeIndex=t)),this},unshiftChild:function(){var t,e;for(t=1<=arguments.length?m.call(arguments,0):[],e=t.length-1;e>=0;)this.insertChild(0,t[e]),e--;return this},shiftChild:function(){return this.removeChild(0)},popChild:function(){var t;return t=this.children.length,t?this.removeChild(t-1):this},removeChild:function(t){var e,n,r,o,a;return null==t&&dc.error("child to be removed is undefined"),r=this.children,u(t)?(a=r.indexOf(t),0>a&&dc.error("child to be removed is not in the children")):t>=r.length||0>t?dc.error("child to be removed is out of bound"):(a=t,t=r[a]),this.invalidate(),t=r[a],t.holder===this&&(t.holder=null),delete this.updatingChildren[t.dcid],l(this.family,t.family),r.splice(a,1),this.node&&(this.childNodes.splice(a,1),n=t.firstNode,n&&(this.firstNodeIndex===a&&this.setFollowingChildrenFirstNode(a),this.childParentNode&&n.parentNode===this.childParentNode&&(this.propagateChildNextNode(a,this.nextNode),t.removeNode())),e=this.attachParentIndexes,null!=(o=s(a,e))&&(e.splice(o,1),i(e,-1,o))),this},invalidateAttachOnRemove:function(t,e){var n,r;for(r=this.children,t--;n=r[t];){if(n.nextNode=e,n.firstNode)return void this.holder.invalidateAttach(this);t--}this.isList&&this.holder&&this.holder.invalidateAttachOnRemove(this,e)},setFollowingChildrenFirstNode:function(t){var e,n,r;for(e=this.children,r=e.length,t++;r>t;){if(n=e[t].firstNode)return this.childrenFirstNode=n,void(this.firstNodeIndex=t);t++}this.childrenFirstNode=null},replaceChild:function(t,e){var n,r;return n=this.children,u(t)?(r=n.indexOf(t),0>r&&dc.error("oldChild to be replaced is not in the children")):((t>=n.length||0>t)&&dc.error("oldChild to be replaced is out of bound"),r=t,t=n[r]),this.emit("onReplaceChild",r,t,e),e=d(e),this._replaceChild(r,t,e)},_replaceChild:function(t,e,n){var r;return r=this.children,e===n?this:(r[t]=n,e.holder===this&&(e.holder=null),e.markRemovingDom(this),delete this.updatingChildren[e.dcid],n.setHolder(this),n.parentNode=e.parentNode,n.nextNode=e.nextNode,l(this.family,e.family),a(this.family,n),this.node&&(this.childNodes[t]=n.node,n.node&&n.valid||this.invalidateContent(n),this.invalidateAttach(n),this.removingChildren[e.dcid]=e,this.updateChildrenFirstNode(n,t)),this)},updateChildrenFirstNode:function(t,e){this.childrenFirstNode?t.firstNode?e<=this.firstNodeIndex&&(this.childrenFirstNode=t.firstNode,this.firstNodeIndex=e):e===this.firstNodeIndex&&this.setFollowingChildrenFirstNode(e):t.firstNode&&(this.childrenFirstNode=t.firstNode,this.firstNodeIndex=e)},setChildren:function(t,e){var n,i,o,s,a,h,u;for(i=this.children,a=i.length,s=a;t>s;)this.pushChild(new r),s++;for(o=h=0,u=e.length;u>h;o=++h)n=e[o],a>t+o?this.replaceChild(t+o,e[o]):this.pushChild(e[o]);return this},setLength:function(t){var e,n;if(e=this.children,t>=e.length)return this;for(n=e.length-1;n>=t;)this.removeChild(n),n--;return this},invalidateContent:function(t){return this.updatingChildren[t.dcid]=t,this.valid&&(this.valid=!1,this.holder&&this.holder.invalidateContent(this)),this},attachChildren:function(){var t;t=this.childParentNode,t&&this.attachValid||(this.attachValid=!0,this.isList?(this.childParentNode=this.parentNode,this.childrenNextNode=this.nextNode):this.childParentNode||(this.childParentNode=this.node,this.childrenNextNode=null),this.childParentNode!==this.childNodes.parentNode?t||(this.emit("willAttach"),this.attachEachChildren(),this.emit("didAttach")):this.attachInvalidChildren())},attachEachChildren:function(){var t,e,n,r,i,o;if(o=this.childParentNode,e=this.children,r=e.length){for(i=this.childrenNextNode,n=r-1;t=e[n];)t.setHolder(this),t.parentNode=o,t.setNextNode(i),t.attachParent(),i=t.firstNode||i,n--;t=e[0],this.childNodes.parentNode=o}},attachInvalidChildren:function(){var t,e,n,r,i,o,s,a;if(t=this.attachParentIndexes,t.length&&(this.attachParentIndexes=[],s=this.childParentNode)){for(o=this.childrenNextNode,n=this.children,r=t.length-1,a=n.length-1;r>=0;)i=t[r],c(n,o,a,i),e=n[i],e.setHolder(this),e.parentNode=s,e.attachParent(),o=e.firstNode||e.nextNode,a=i-1,r--;c(n,o,a,0),this.childNodes.parentNode=s}},propagateChildNextNode:function(t,e){var n,r;for(n=this.children,r=u(t)?n.indexOf(t)-1:t-1;t=n[r];){if(t.setNextNode(e),t.firstNode)return;r--}!this.isTag&&this.holder&&this.holder.propagateChildNextNode(this,e)}}},function(t,e,n){var r,i,o,s,a,h,u,c={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};h=n(18),i=n(16),u=n(4),o=u.funcString,s=u.newLine,a=n(6).renew,t.exports=r=function(t){function e(t){var n;e.__super__.constructor.call(this),t.invalidate?this.func=t:this.func=a(t),n=this,this.func.onInvalidate(function(){return n.invalidateTransform()})}return l(e,t),e.prototype.getContentComponent=function(){return h(this.func())},e.prototype.clone=function(){return new e(this.func).copyEventListeners(this)},e.prototype.toString=function(t,e){return null==t&&(t=2),s("<Func "+o(this.func)+"/>",t,e)},e}(i)},function(t,e,n){var r,i,o,s,a,h,u,c,l,d,f,p,m,v,g,y,w,C,N,x,_,b,P,A,S,D,E={}.hasOwnProperty,L=function(t,e){function n(){this.constructor=t}for(var r in e)E.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},O=[].slice;v=n(2),x=(l=n(1)).refreshComponents,P=n(5),p=P.domField,m=P.domValue,d=n(1).directiveRegistry,u=n(23),_=n(25).styleFrom,a=n(22).attrToPropName,A=n(24),f=A.domEventHandler,s=A.addHandlerToCallbackArray,r=n(20),S=n(4),y=S.funcString,C=S.newLine,c=S.cloneObject,D=n(6),g=D.flow,N=D.react,b=n(27),h=n(4).binaryInsert,t.exports=o=function(t){function e(t,n,r){if(null==n&&(n={}),!(this instanceof e))throw"should use new SubclassComponent(...) with the subclass of Tag";e.__super__.constructor.call(this),this.isTag=!0,t=t||"div",this.tagName=t.toLowerCase(),this.namespace=n.namespace,this.children=b(r),this.initListMixin(),this.initProperties(),this.extendAttrs(n)}return L(e,t),e.prototype.FakeTag=function(){return e},e.prototype.initProperties=function(){var t,e;this.hasActiveProperties=!1,this.cacheClassName="",this.className=t=u(),e=this,this.className.onInvalidate(function(){return t.valid?(e.hasActiveProperties=!0,e.invalidate()):void 0}),this.hasActiveProps=!1,this.cacheProps={},this.props={},this.boundProps={},this.invalidateProps={},this.hasActiveNodeAttrs=!1,this.cacheNodeAttrs={},this.nodeAttrs={},this.boundNodeAttrs={},this.invalidateNodeAttrs={},this.hasActiveStyle=!1,this.cacheStyle={},this.style={},this.boundStyle={},this.invalidateStyle={},this.hasActiveDomEvents=this.hasActiveDomEvents||!1,this.domEventCallbackMap||(this.domEventCallbackMap={}),this.eventUpdateConfig={}},e.prototype.extendAttrs=function(t){var e,n,r,i,o,s,a,h,u,c,l,f,p,m,v,g;e=this.className,a=this.style,s=this.props,o=this.nodeAttrs;for(i in t)if(l=t[i],"style"===i){h=_(l);for(i in h)l=h[i],this.setProp(i,l,a,"Style")}else if("class"===i||"className"===i)this.hasActiveProperties=!0,e.extend(l);else if("on"===i.slice(0,2)){if(!l)continue;if("function"==typeof l)this.bindOne(i,l);else if(c=l[0],"before"===c||"after"===c)for(g=l.slice(1),f=0,m=g.length;m>f;f++)u=g[f],this.bindOne(i,u,"before"===c);else for(p=0,v=l.length;v>p;p++)u=l[p],this.bindOne(i,u)}else if("$"===i[0])n=d[i],(r=l instanceof Array?n.apply(null,l):n.apply(null,[l]))(this);else if("attr_"===i.slice(0,5))this.setProp(i.slice(5),l,o,"NodeAttrs");else{if("xxx"===i.slice(0,3))continue;this.setProp(i,l,s,"Props")}return this},e.prototype.prop=function(){var t;return t=1<=arguments.length?O.call(arguments,0):[],this._prop(t,this.props,"Props")},e.prototype.css=function(){var t;return t=1<=arguments.length?O.call(arguments,0):[],this._prop(t,this.style,"Style")},e.prototype.attr=function(){var t;return t=1<=arguments.length?O.call(arguments,0):[],this._prop(t,this.nodeAttrs,"NodeAttrs")},e.prototype._prop=function(t,e,n){var r,i,o;if(0===t.length)return e;if(1===t.length){if(i=t[0],"string"==typeof i)return e.hasOwnProperty(i)?m(e[i],this):this["cache"+n][i];for(r in i)o=i[r],this.setProp(r,o,e,n)}else 2===t.length&&("NodeAttrs"===n?this.setProp(t[0],t[1],e,n):this.setProp(t[0],t[1],e,n));return this},e.prototype.setProp=function(t,e,n,r){var i,o,s,h;return t=a(t),e=p(e,this),h=n[t],e===h?this:(null==h?"function"==typeof e?(s=this,this["invalidate"+r][t]=o=function(){var i;return s.addActivity(n,t,r,!0),(i=s["bound"+r][t])&&i.invalidate(),n[t]=e},e.onInvalidate(o),this.addActivity(n,t,r),n[t]=e):e!==this["cache"+r][t]&&(this.addActivity(n,t,r),(i=this["bound"+r][t])&&i.invalidate(),n[t]=e):("function"==typeof h&&h.offInvalidate(this["invalidate"+r][t]),"function"==typeof e&&(s=this,this["invalidate"+r][t]=o=function(){return s.addActivity(n,t,r,!0),(i=s["bound"+r][t])&&i.invalidate(),n[t]=e},e.onInvalidate(o)),(i=this["bound"+r][t])&&i.invalidate(),n[t]=e),this)},e.prototype.propBind=function(t){return this._propBind(t,this.props,"Props")},e.prototype.cssBind=function(t){return this._propBind(t,this.style,"Style")},e.prototype.attrBind=function(t){return this._propBind(t,this.nodeAttrs,"NodeAttrs")},e.prototype._propBind=function(t,e,n){var r,i;return i=this["bound"+n],(r=i[t])?r:i[t]=N(function(){return this._prop([t],e,n)})},e.prototype.addActivity=function(t,e,n){return this["hasActive"+n]=!0,this.hasActiveProperties=!0,this.node?this.invalidate():void 0},e.prototype.bind=function(t,e,n){var r,i,o,s,a;if(this.domEventCallbackMap||(this.domEventCallbackMap={}),1===arguments.length)for(r in t)e=t[r],this.bind(r,e);else for(a=t.split(/\s*:\s*/),t=a[0],i=a[1],t=t.split(/\s+/),o=0,s=t.length;s>o;o++)r=t[o],this.bindOne(r,e,n||i);return this},e.prototype.bindOne=function(t,e,n){var r,i;return"on"!==t.slice(0,2)&&(t="on"+t),r=this.domEventCallbackMap||(this.domEventCallbackMap={}),i=r[t]||(r[t]=[]),this.node?this.node[t]=f:(this.hasActiveDomEvents=!0,this.hasActiveProperties=!0),s(e,i,n),this},e.prototype.unbind=function(t,e){var n,r,i,o,s,a;for(t=t.split("s+"),n=this.domEventCallbackMap,s=0,a=t.length;a>s;s++)i=t[s],"on"!==i.slice(0,2)&&(i="on"+i),r=n[i],r&&(o=r.indexOf(e),o>=0&&(r.splice(o,1),r.length||(n[i]=null,this.node&&(this.node[prop]=null))));return this},e.prototype.addClass=function(){var t;return t=1<=arguments.length?O.call(arguments,0):[],this.className.extend(t),this.node&&!this.className.valid&&(this.hasActiveProperties=!0,this.invalidate()),this},e.prototype.removeClass=function(){var t,e;return t=1<=arguments.length?O.call(arguments,0):[],(e=this.className).removeClass.apply(e,t),this.node&&!this.className.valid&&(this.hasActiveProperties=!0,this.invalidate()),this},e.prototype.show=function(t){return"function"==typeof t&&(t=t(),null==t&&(t="")),null==t?this.setProp("display","block",this.style,"Style"):"visible"===t?this.setProp("visibility","visible",this.style,"Style"):this.setProp("display",t,this.style,"Style"),this.render(),this},e.prototype.hide=function(t){return"function"==typeof t&&(t=t(),null==t&&(t="")),t?"hidden"===t?this.setProp("visibility","hidden",this.style,"Style"):this.setProp("display",t,this.style,"Style"):this.setProp("display","none",this.style,"Style"),this.render(),this},e.prototype.showHide=function(t,e,n){var r,i,o,s,a;return a=this.style,e=p(e,this),s=a.display,s?"function"==typeof s&&s.offInvalidate&&s.offInvalidate(this.invalidateStyle.display):this.addActivity(a,"display","Style",this.node),a.display=o=g(e,s,function(){var r;return("function"==typeof e?!!e():!!e)===t?n?"function"==typeof n?n():n:null!=s?(r="function"==typeof s?s():s,"none"!==r?r:"block"):s="block":"none"}),i=this,this.invalidateStyle.display=r=function(){return i.addActivity(a,"display","Style",!0),a.display=o},o.onInvalidate(r),this.style=a,this},e.prototype.showOn=function(t,e){return this.showHide(!0,t,e)},e.prototype.hideOn=function(t,e){return this.showHide(!1,t,e)},e.prototype.refreshDom=function(t){this.renderDom(t),this.attachParent()},e.prototype.createDom=function(){var t;return this.node=this.firstNode=t=this.namespace?document.createElementNS(this.namespace,this.tagName):document.createElement(this.tagName),t.component=this,this.updateProperties(),this.createChildrenDom(),this.attachChildren(),this.removeChildrenDom(),t},e.prototype.updateDom=function(){return this.updateProperties(),this.updateChildrenDom(),this.attachChildren(),this.removeChildrenDom(),this.node},e.prototype.invalidateAttach=function(t){var e;return e=this.children.indexOf(t),h(e,this.attachParentIndexes),this.holder&&(this.attachValid&&this.valid&&this.holder.invalidateContent(this),this.valid=!1,this.attachValid=!1),this},e.prototype.updateProperties=function(){var t,e,n,r,i,o,s,a,h,u,c,l,d,p,v;if(this.hasActiveProperties){if(this.hasActiveProperties=!1,h=this.node,i=this.className,i.valid||(o=i.call(this),o!==this.cacheClassName&&(this.cacheClassName=h.className=o)),this.hasActiveNodeAttrs){u=this.nodeAttrs,t=this.cacheNodeAttrs,this.hasActiveNodeAttrs=!1;for(c in u)p=u[c],delete u[c],p=m(p,this),t[c]=h[c]=p,h.setAttribute(c,p)}if(this.hasActiveProps){l=this.props,e=this.cacheProps,this.hasActiveProps=!1;for(c in l)p=l[c],delete l[c],p=m(p,this),e[c]=h[c]=p}if(this.hasActiveStyle){d=this.style,n=this.cacheStyle,this.hasActiveStyle=!1,s=h.style;for(c in d)p=d[c],delete d[c],p=m(p,this),n[c]=s[c]=p}if(this.hasActiveDomEvents){v=this.domEventCallbackMap;for(a in v)r=v[a],r&&r.length&&(h[a]=f)}this.hasActiveDomEvents=!1}},e.prototype.clone=function(t){var e,n,r,i,o,s;n={className:this.className.clone(),
style:v({},this.cacheStyle,this.style)},v(n,this.cacheProps,this.props,this.cacheNodeAttrs,this.nodeAttrs),s=this.domEventCallbackMap;for(i in s)r=s[i],n[i]=r.slice(0);return e=this.FakeTag(),o=new e(this.tagName,n,[]),o.__proto__=this.__proto__,o.constructor=this.constructor,o.cloneChildrenFrom(this,t),o.copyEventListeners(this),o.setupCloneComponent(this,t)},e.prototype.setupCloneComponent=function(t,e){return this.setReactive()},e.prototype.toString=function(t,e){var n,r,i,o,s,a,h,u,c,l,d;null==t&&(t=0),o=C("<"+this.tagName,t,e),c=this.props;for(i in c)a=c[i],o+=" "+i+"="+y(a);if(this.hasActiveStyle){o+=" style={",l=this.style;for(i in l)if(a=l[i],"string"==typeof a)o+=a;else for(i in a)s=a[i],o+=" "+i+"="+y(s);o+="}"}if(o+=">",r=this.children,r.length>1){for(d=this.children,h=0,u=d.length;u>h;h++)n=d[h],o+=n.toString(t+2,!0);return o+=C("</"+this.tagName+">",t+2,!0)}return 1===r.length&&(o+=r[0].toString(t+2)),o+=C("</"+this.tagName+">",t+2)},e}(r),w=n(4).mixin,i=n(28),w(o.prototype,i)},function(t,e,n){var r,i,o,s,a,h,u,c={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=n(20),o=n(21),u=n(4),a=u.funcString,h=u.newLine,s=n(5).domValue,t.exports=i=function(t){function e(t){e.__super__.constructor.call(this,t)}return l(e,t),e.prototype.createDom=function(){var t,e;return this.textValid=!0,e=s(this.text,this),t=document.createComment(e),this.node=this.firstNode=t,this.cacheText=e,this.node},e.prototype.updateDom=function(){var t,e,n;return this.textValid?this.node:(this.textValid=!0,n=s(this.text,this),n!==this.cacheText&&(e=t.parentNode,e&&e.removeChild(t),t=document.createComment(n),this.node=this.firstNode=t,this.cacheText=n),this.node)},e.prototype.toString=function(t,e){return null==t&&(t=2),h("<Comment "+a(this.text)+"/>",t,e)},e}(o)},function(t,e,n){var r,i,o,s,a,h,u,c={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=n(20),o=n(21),u=n(4),a=u.funcString,h=u.newLine,s=n(5).domValue,t.exports=i=function(t){function e(t){e.__super__.constructor.call(this,t)}return l(e,t),e.prototype.createDom=function(){return this.node=document.createCDATASection(s(this.text,this)),this.node},e.prototype.updateDom=function(){return this.text&&(this.node.data=s(this.text,this)),this.node},e.prototype.toString=function(t,e){return null==t&&(t=2),h("<CDATA "+a(this.text)+"/>",t,e)},e}(o)},function(t,e,n){var r,i,o,s,a,h,u,c,l,d,f,p,m,v,g,y={}.hasOwnProperty,w=function(t,e){function n(){this.constructor=t}for(var r in e)y.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};s=n(30),v=n(4),c=v.funcString,f=v.newLine,d=v.mixin,g=n(5),h=g.domValue,a=g.domField,p=n(22).setText,t.exports=r=function(t){function e(t,n,r){var i;"string"==typeof t||"function"==typeof t?(r=n,n=t,t={}):t=t||{},t.tagName?(i=t.tagName,delete t.tagName):i="div",this.initHtmlComponent(n,r),e.__super__.constructor.call(this,i,t,[])}return w(e,t),e.prototype.toString=function(t,e){return null==t&&(t=2),f("<Html "+c(this._text)+"/>",t,e)},e}(s),r.HtmlMixin=i={setText:p,initHtmlComponent:function(t,e){var n,r,i;return this.transform=e,this.setText(t),Object.defineProperty?(r=this,n=function(){return r._text},i=function(t){return r.setText(t),t},Object.defineProperty(this,"text",{get:n,set:i})):void 0},initListMixin:function(){},attachChildren:function(){},createDom:function(){var t,e;return this.textValid=!0,this.node=this.firstNode=t=document.createElement(this.tagName),t.component=this,this.updateProperties(),e=h(this._text,this),this.transform&&(e=this.transform(e)),this.cacheText=t.innerHTML=e,this},updateDom:function(){var t,e;return this.textValid?this:(this.textValid=!0,e=h(this._text,this),this.transform&&(e=this.transform(e)),t=this.node,e!==this.cacheText&&(t.childNodes.length>=2&&(t.parentNode&&this.removeNode(),this.node=this.firstNode=t=t.cloneNode(!1),t.component=this),t.innerHTML=e,this.cacheText=e),this.updateProperties(),this)}},o=n(28),m=function(t){return r.prototype[t]=function(){return dc.error("Html component has no children components, do not call ListMixin method("+t+") on it")}};for(l in o)m(l);(u=n(2))(r.prototype,i)},function(t,e,n){var r,i,o,s,a,h,u,c,l={}.hasOwnProperty,d=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=n(16),c=n(4),s=c.funcString,h=c.newLine,a=c.intersect,u=n(6).renew,r=Object.defineProperty,t.exports=i=function(t){function e(t){var n,i,o;e.__super__.constructor.apply(this,arguments),this.__cacheTest=null,i=this,this.invalidateHandler=function(){return i.invalidateTransform()},r&&(n=function(){return i._test},o=function(t){return i.setTest(t),t},r(this,"test",{get:n,set:o})),this.setTest(t)}return d(e,t),e.prototype.getTestValue=function(){var t;return t=this.test,"function"==typeof t?this.__cacheTest=t.call(this):this.__cacheTest=t},e.prototype.setTest=function(t){var e,n;if(e=this.test,t===e)return t;if("function"==typeof e){if(t===this.__originalTest)return t;this.__originalTest.offInvalidate(this.invalidateHandler)}return n=r?"_test":"test","function"==typeof t&&(this.__originalTest=t,t.invalidate||(t=u(t)),t.onInvalidate(this.invalidateHandler)),this.__cacheTest!==t&&this.invalidateTransform(),this[n]=t},e}(o)},function(t,e,n){var r,i,o,s,a,h,u,c,l,d,f={}.hasOwnProperty,p=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};l=n(18),o=n(34),d=n(4),s=d.funcString,u=d.newLine,a=d.intersect,c=n(6).renew,h=n(36),i=Object.defineProperty,t.exports=r=function(t){function e(t,n,r,i,o,s){var u;if(null==s&&(s=!1),n===r)return l(n);if(n=l(n),r=l(r),!s){if("function"!=typeof t)return t?n:r;if(i)return h(t,n,r,o)}return e.__super__.constructor.call(this,t),this.then_=n,this.else_=r,this.family=u=a([n.family,r.family]),u[this.dcid]=!0,this}return p(e,t),e.prototype.getContentComponent=function(){return this.getTestValue()?this.then_:this.else_},e.prototype.clone=function(){return new e(this.test,this.then_.clone(),this.else_.clone()).copyEventListeners(this)},e.prototype.toString=function(t,e){return null==t&&(t=0),null==e&&(e=""),u("",t,e)+"<if "+s(this.test)+">"+this.then_.toString(t+2,!0)+this.else_.toString(t+2,!0)+u("</if>",t,!0)},e}(o)},function(t,e,n){var r,i,o,s,a,e,h,u,c,l,d,f,p,m,v;h=n(2),o=n(30),r=n(26),i=n(19),s=n(24).domEventHandlerFromArray,u=n(9),c=u.if_,e=t.exports=l=function(t,e,s,a){var h,u,l,d,g,y,w,C,N,x;return h=n(35),e===s?e:e.constructor===o&&s.constructor===o&&e.tagName===s.tagName&&e.namespace===s.namespace?(u=f(t,e,s,a),d=new o(e.tagName,{},u),l=p(t,e.className,s.className),w=v(t,e.props,s.props),C=v(t,e.style,s.style),y=m(t,e.domEventCallbackMap,s.domEventCallbackMap),d.addClass(l).prop(w).css(C).bind(y)):e.isHtml&&s.isHtml?(N=e.transform,g=s.transform,x=function(e){return t()?N&&N(e)||e:g&&g(e)||e},new e.constructor(c(t,e.text,s.text),x)):e.isText&&s.isText&&e.constructor===s.constructor?new e.constructor(c(t,e.text,s.text)):e instanceof i&&s instanceof i?e:e.isList&&s.isList?new r(f(t,e,s,a)):new h(t,e,s,!1,!1,!0)},d=function(t,e,r,i){var o;return i||!e.isList&&!r.isList?l(t,e,r,i):new(o=n(35))(t,e,r,!1,!1,!0)},e.mergeIfChildren=f=function(t,e,n,r){var o,s,a,h,u,c,f,p,m,v,g,y,w,C;if(c=e.children,s=n.children,f=c.length,a=s.length,f===a)for(o=new Array(f),u=m=0,y=c.length;y>m;u=++m)p=c[u],o[u]=d(t,p,s[u],r);else if(a>f){for(o=new Array(a),u=v=0,w=c.length;w>v;u=++v)p=c[u],o[u]=d(t,p,s[u],r);for(;a>u;)o[u]=l(t,new i,s[u]),u++}else{for(o=new Array(f),u=g=0,C=s.length;C>g;u=++g)h=s[u],o[u]=d(t,c[u],h,r);for(;f>u;)o[u]=l(t,c[u],new i),u++}return o},p=function(t,e,n){return v(t,e.classMap,n.classMap)},v=function(t,e,n){var r,i;i=h({},e,n);for(r in i)i[r]=c(t,e[r],n[r]);return i},a=function(){},m=function(t,e,n){var r,i,o,u,c,l;l=h({},e,n);for(o in l)c=(u=e[o])?s(u.slice(0)):a,i=(r=n[o])?s(r.slice(0)):a,l[o]=function(e){return t()?c.call(this,e):i.call(this,e)};return l}},function(t,e,n){var r,i,o,s,a,h,u,c,l,d={}.hasOwnProperty,f=function(t,e){function n(){this.constructor=t}for(var r in e)d.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};c=n(18),i=n(34),l=n(4),o=l.foreach,s=l.funcString,h=l.newLine,a=l.intersect,u=n(6).renew,t.exports=r=function(t){function e(t,n,r,i){var s,h;return this.map=n,null==i&&(i=!1),i||"function"==typeof t?(o(n,function(t,e){return n[e]=c(t)}),this.else_=c(r),s=[],o(n,function(t){return s.push(t.family)}),s.push(this.else_.family),this.family=h=a(s),h[this.dcid]=!0,void e.__super__.constructor.call(this,t)):c(n.hasOwnPoperty(t)?n[key]:r)}return f(e,t),e.prototype.getContentComponent=function(){return this.map[this.getTestValue()]||this.else_},e.prototype.clone=function(){var t;return t=o(this.map,function(t){return t.clone()}),new e(this.test,t,this.else_.clone()).copyEventListeners(this)},e.prototype.toString=function(t,e){var n;return null==t&&(t=0),n=h("",t,e)+"<Case "+s(this.test)+">",o(this.map,function(e,r){return n+=h(r+": "+e.toString(t+2,!1),t+2,!0)}),n+=this.else_.toString(t+2,!0)+h("</Case>",t,!0)},e}(i)},function(t,e,n){var r,i,o,s,a,h={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};a=n(18),i=n(16),s=n(4).newLine,o=n(2),t.exports=r=function(t){function e(t,n,r){var i,s,h,u;this.host=t,e.__super__.constructor.call(this),h=this,null==n?this.field=n="content":this.field=n,r?this._content=t[n]=a(r):this._content=t[n]=a(t[n]),this.family=i=o({},this._content.family),i[this.dcid]=!0,Object.defineProperty&&(s=function(){return h._content},u=function(t){return h.setContent(t),t},Object.defineProperty(t,n,{get:s,set:u}))}return u(e,t),e.prototype.setContent=function(t){var e;return e=this._content,t===e?this:(this.invalidateTransform(),this.onSetContent(t,e),this._content=a(t),this)},e.prototype.onSetContent=function(t,e){return this},e.prototype.getContentComponent=function(){return this._content},e.prototype.clone=function(){return new this.constructor(this.host,this.field).copyEventListeners(this)},e.prototype.toString=function(t,e){return null==t&&(t=0),null==e&&(e=""),s("",t,e)+"<Pick:"+this.field+": "+this._content.toString(t+2,!0)+">"},e}(i)},function(t,e,n){var r,i,o,s,a,h,u,c,l,d,f,p,m={}.hasOwnProperty,v=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};f=n(18),a=n(16),h=n(2),p=n(4),u=p.funcString,l=p.newLine,c=p.intersect,d=n(6).renew,o=0,i=1,s=2,t.exports=r=function(t){function e(t,n,r,a){var h,u;return this.promise=t,e.__super__.constructor.apply(this,arguments),this.fulfill=n||function(t){return t},u=r||function(t){return t},this.init=a&&a(t,this)||new Nothing,this.family=h=c([fullfill.family,r.family,a.family]),h[this.dcid]=!0,this.promiseState=o,t.then(function(t){return this.promiseResult=t,this.promiseState=i,this.invalidateTransform()})["catch"](function(t){return this.promiseResult=t,this.promiseState=s,this.invalidateTransform()}),this}return v(e,t),e.prototype.getContentComponent=function(){var t;return(t=this.promiseState)===o?init:f(t===i?this.fulfill(this.promiseResult,this.promise,this):this.reject(this.promiseResult,this.promise,this))},e.prototype.clone=function(){return new e(this.promise,this.fulfill,this.reject,this.init.clone).copyEventListeners(this)},e.prototype.toString=function(t,e){return null==t&&(t=0),null==e&&(e=""),l("",t,e)+"<Defer "+this.promise+">"+l("",t,e)+u(this.fulfill)+l("",t,e)+u(this.reject)+this.init.toString(t+2,!0)+l("</Defer>",t,!0)},e}(a),h(r,{INIT:o,FULFILL:i,REJECT:s})},function(t,e,n){var r,i,o,s,a,h,u,c,l,d,f,p,m,v,g,y,w,C,N,x,_,b,P,A,S,D,E,L,O,I,T,k,F,R=[].slice;T=n(14),o=T.Component,E=T.toComponent,x=T.isComponent,f=T.Tag,p=T.Text,i=T.Comment,h=T.Html,u=T.If,r=T.Case,a=T.Func,c=T.List,d=T.Pick,l=T.Nothing,s=T.Defer,b=n(4).isEven,e.isAttrs=N=function(t){return!("object"!=typeof t||null===t||x(t)||t instanceof Array)},k=n(4),C=k.isArray,P=k.isObject,F=n(10),O=F.watchItems,_=F.isEachObjectSystemKey,S=n(6).renew,m=function(t){var e;return e=t[0],t.length?null==e?[{},t.slice(1)]:e instanceof Array?[{},t]:"function"==typeof e?[{},t]:"object"==typeof e?x(e)?[{},t]:[e,t.slice(1)]:[{},t]:[{},[]]},L=function(t){return t instanceof Array?t.length?1===t.length?L(t[0]):t:[]:[t]},D=e.tag=function(){var t,e,n,r,i;return r=arguments[0],t=2<=arguments.length?R.call(arguments,1):[],i=m(t),e=i[0],n=i[1],new f(r,e,L(n))},e.nstag=function(){var t,e,n,r,i,o;return i=arguments[0],r=arguments[1],t=3<=arguments.length?R.call(arguments,2):[],o=m(t),e=o[0],n=o[1],new f(i,e,L(n),r)},e.txt=function(t,e){return N(t)?new f("div",t,[new p(e)]):new p(t)},e.comment=function(t,e){return N(t)?new f("div",t,[new i(e)]):new i(t)},e.html=function(t,e,n){return new h(t,e,n)},e.if_=function(t,e,n,r,i,o){return N(t)?new f("div",t,[new u(e,n,r,i,o)]):new u(t,e,n,i,o)},e.forceIf=function(t,e,n,r){return N(t)?new f("div",t,[new u(e,n,r,!0,!1,!0)]):new u(t,e,n,!0,!1,!0)},e.mergeIf=function(t,e,n,r,i){return N(t)?new f("div",t,[new u(e,n,r,!0,i)]):new u(t,e,n,!0,i)},e.recursiveIf=function(t,e,n,r){return N(t)?new f("div",t,[new u(e,n,r,!0,!0)]):new u(t,e,n,!0,!0)},e.case_=function(t,e,n,i){return N(t)?new f("div",t,[new r(e,n,i)]):new r(t,e,n)},e.forceCase=function(t,e,n,i){return N(t)?new f("div",t,[new r(e,n,i,!0)]):new r(t,e,n,!0)},e.cond=function(){var t,e,n,r;return t=arguments[0],e=3<=arguments.length?R.call(arguments,1,r=arguments.length-1):(r=1,[]),n=arguments[r++],N(t)?(b(e)||(e.push(n),n=null),new f("div",t,[new Cond(e,n)])):(e.unshift(t),b(e)||(e.push(n),n=null),new Cond(e,n))},e.func=function(t,e){return N(t)?new f("div",t,[new a(e)]):new a(t)},e.pick=function(t,e,n){return new d(t,e,n)},e.list=A=function(){var t,e;return t=arguments[0],e=2<=arguments.length?R.call(arguments,1):[],N(t)?new f("div",t,[new c(e)]):(e.unshift(t),1===e.length?E(e[0]):new c(e))},v=function(t){return t},I=function(t,e,n){var r,i,o,s,a,h,u,l,d,p;if(t?(t.tagName?(l=t.tagName,delete t.tagName):l="div",u=new f(l,t,[])):u=new c([]),u.items=e,"function"==typeof n?(u.itemFunc=n,n={}):(n=n||{},u.itemFunc=n.itemFunc||v),u.separatorFunc=n.separatorFunc,u.updateSuccChild=n.updateSuccChild,u.updateSuccIndex=n.updateSuccIndex,u.keyChildMap=h={},C(e)?u.getItemComponent=i=function(t,n){var r,i;return r=E(u.itemFunc(t,n,e,u)),u.separatorFunc&&n&&(i=E(u.separatorFunc(n,t,e,u)),r=new c([i,r])),r.itemIndex=n,r}:u.getItemComponent=i=function(t,n){var r,i,o;return o=e[t],h[t]=n,r=E(u.itemFunc(o,t,n,u)),u.separatorFunc&&n&&(i=E(u.separatorFunc(n,o,t,u)),r=new c([i,r])),r.$watchingKey=t,r.itemIndex=n,r},r=[],C(e))for(o=d=0,p=e.length;p>d;o=++d)s=e[o],r.push(i(s,o));else{o=0;for(a in e)r.push(i(a,o)),o++}return u.setChildren(0,r)},w=function(t){var e,n,r,i;if(e=t[0],n=t[1],i=t[2],1===t.length)return[null,e,{}];if(3===t.length)return[e,n,i];if("function"==typeof n)return[null,e,{itemFunc:n}];if(C(n))return[e,n,{}];if(C(e))return[null,e,n];if(n){if(P(n)){for(r in n)if(!n.hasOwnProperty(r)&&r.test(/itemFunc|separatorFunc|updateSuccChild|updateSuccIndex/))return[null,e,n];return[e,n,{}]}throw new Error("wrong parameter")}return[null,e,{}]},e.every=y=function(){var t,e,n,r,i;return t=1<=arguments.length?R.call(arguments,0):[],i=w(t),e=i[0],n=i[1],r=i[2],I(e,n,r)},e.each=g=function(){var t,e,n,r,i,o;return t=1<=arguments.length?R.call(arguments,0):[],o=w(t),e=o[0],n=o[1],i=o[2],r=y(e,n,i),O(n,r)},e.funcEach=function(t,e,n){var r,i,o;return"function"==typeof t&&(n=e,e=t,t=null),i=e(),i=C(i)?i.slice(0):extend({},i),r=g(t,i,n),o=function(){var t;return t=e(),i.replaceAll(t)},e.onInvalidate?e.onInvalidate(o):(r.on("willRenderDom",function(){return r.node?o():void 0}),r.on("didRenderDom",function(){return r.invalidate()})),r},e.defer=function(t,e,n,r,i){return N(t)?new f("div",t,[new s(e,n,r,i)]):new s(t,e,n,r)}},function(t,e,n){var r,i,o,s,a,h,u,c,l,d,f,p,m,v,g,y,w,C=[].slice;for(r=n(2),y=n(40),h=y.tag,a=y.isAttrs,i=n(5).getBindProp,c="a abbr acronym address area b base bdo big blockquote body br button caption cite code col colgroup dd del dfn div dl dt em fieldset form h1 h2 h3 h4 h5 h6 head hr i img input ins kbd label legend li link map meta noscript object ol optgroup option p param pre q samp script select small span strong style sub sup table tbody td textarea tfoot th thead title tr tt ul var header footer section svg iframe",c=c.split(" "),d=function(t){return e[t]=function(){var e;return e=1<=arguments.length?C.call(arguments,0):[],h.apply(null,[t].concat(C.call(e)))}},p=0,v=c.length;v>p;p++)u=c[p],d(u);for(e.tagHtml=function(){var t;return t=1<=arguments.length?C.call(arguments,0):[],h.apply(null,["html"].concat(C.call(t)))},s="text checkbox radio date email number".split(" "),o=e.input=function(t,e,n){var o;return"object"==typeof t&&(n=e,e=t,t="text"),e=r({type:t},e),o=h("input",e),null!=n&&(o.prop(i(o),n),n.isDuplex&&o.bind("onchange",function(t,e){return n.call(this,e.value)},"before")),o},w="text checkbox radio date email tel number".split(" "),f=function(t){return e[t]=function(e,n){var r;return"object"==typeof e&&(r=n,n=e,e=r),n=n||{},o(t,n,e)}},m=0,g=w.length;g>m;m++)l=w[m],f(l);e.textarea=function(t,e){var n;return a(t)?null!=e?(t=r({value:e},t),n=h("textarea",t),e.isDuplex&&n.bind("onchange",function(t,n){return e.call(this,n.value)},"before")):n=h("textarea",t):null!=t?(n=h("textarea",{value:t}),t.isDuplex&&n.bind("onchange",function(e,n){return t.call(this,n.value)},"before")):n=h("textarea"),n}},function(t,e,n){var e,r;r=n(2),t.exports=e=r({},n(22),n(24),n(25)),e.classFn=n(23)},function(t,e){var n,r,i,o,s,a,h={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=[].slice,o=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/gi,s=/at\s+()(.*):(\d*):(\d*)/gi,a=function(t,e){var n,i,a,h,u,c,l,d,f;for(null==e&&(e=1),t?(r.prodution||console.log(t),t+=":\n"):t="",n=new Error,r.prodution||console.log(n),d=n.stack.split("\n").slice(3),e=1,f=d.length;f>e;)l=d[e],a=o.exec(l)||s.exec(l),a&&5===a.length&&(u=a[1],i=a[2],h=a[3],c=a[4],t+=i+":"+h+":"+c+":"+u+"\n"),e++;return t},e.DomcomError=n=function(t){function e(t,e){this.message=t,this.component=e}return u(e,t),e.prototype.toString=function(){return this.component?this.component.toString()+"\n"+this.message:this.message},e}(Error),e.error=r=function(t,e){throw t=a(t,2),new n(t,e)},e.onerror=function(t,e){throw t instanceof n?(console.log(t),new Error(t.message)):t instanceof Error?t:(e?(console.log(e),console.log(t)):console.log(t),new Error(t+":\n"+a()))}},function(t,e,n){var r,i,o;e.$model=n(45),e.$bind=n(46),o=n(47),i=o.$show,r=o.$hide,e.$show=i,e.$hide=r,e.$options=n(48)},function(t,e,n){var r;r=n(5).getBindProp,t.exports=function(t,e){return function(n){var i,o;return o=n.props,i=r(n),n.setProp(i,t,o,"Props"),n.bind(e||"onchange",function(e,n){return t(n[i])},"before"),n}}},function(t,e,n){var r;r=n(5).getBindProp,t.exports=function(t){return function(e){return e.setProp(r(e),t,e.props,"Props"),e}}},function(t,e){var n;n=function(t){return function(e,n){return function(r){return r.showHide(t,e,n),r}}},e.$show=n(!0),e.$hide=n(!1)},function(t,e,n){var r,i,o;o=n(40).txt,i=n(41).option,r=n(30),t.exports=function(t,e){return function(n){var s,a,h,u;if(!(n instanceof r)||"select"!==n.tagName)throw new Error("options should be only used in select tag");if(a=[],t)for(h=0,u=t.length;u>h;h++)s=t[h],a.push(i(e,[o(s)]));return n.setChildren(0,a)}}},function(t,e){var n,r,i,o,s,a;n=dc.Tag,r=/[\d\s\.-]/g,e.unitAdd=i=function(t,e){var n;return n=parseFloat(t),isNaN(n)&&console.log("wrong type in unitAdd(prop, value)"),n+parseFloat(e)+t.replace(r,"")},e.unitSub=a=function(t,e){var n;return n=parseFloat(t),isNaN(n)&&console.log("wrong type in unitSub(prop, value)"),n-parseFloat(e)+t.replace(r,"")},e.unitMul=s=function(t,e){var n;return n=parseFloat(t),isNaN(n)&&console.log("wrong type in unitMul(prop, value)"),n*parseFloat(e)+t.replace(r,"")},e.unitDiv=o=function(t,e){var n;return n=parseFloat(t),isNaN(n)&&console.log("wrong type in unitDiv(prop, value)"),n/parseFloat(e)+t.replace(r,"")},n.prototype.cssAdd=function(t,e){var n;return n=i(this.css(t),e),this.css(t,n)},n.prototype.cssSub=function(t,e){return this.css(t,a(this.css(t),e))},n.prototype.cssMul=function(t,e){return this.css(t,s(this.css(t),e))},n.prototype.cssDiv=function(t,e){return this.css(t,o(this.css(t),e))}},function(t,e){var n,r,i,o,s;r=dc.Tag,n=dc.DomNode,e.makeDelegationHandler=o=function(){return function(t){var e,n;return n=t.target,e=n.component,e["do_"+t.type](t)}},r.prototype.delegate=n.prototype.delegate=function(t,e){return null==e&&(e=o()),this.bind(t,e)},e.makeHolderDelegationHandler=s=function(){return function(t){var e,n,r,i;for(i=t.target,r=i.component,n="do_"+t.type;r;)if(e=r[n]){if(e.call(r,t),!t.continueDelegating)break;r=r.holder}else r=r.holder}},r.prototype.delegateByHolder=n.prototype.delegateByHolder=function(t,e){return null==e&&(e=s()),this.bind(t,e)},i=function(t){return function(e){var n;(n=t["do_"+e.type])&&n.call(t,e)}},r.prototype.delegateByComponent=n.prototype.delegateByComponent=function(t,e){return this.bind(t,i(e))}}]);