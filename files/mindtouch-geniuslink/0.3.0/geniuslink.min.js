!function(e){function t(e,t,i){return 4===arguments.length?r.apply(this,arguments):void n(e,{declarative:!0,deps:t,declare:i})}function r(e,t,r,i){n(e,{declarative:!1,deps:t,executingRequire:r,execute:i})}function n(e,t){t.name=e,e in m||(m[e]=t),t.normalizedDeps=t.deps}function i(e,t){if(t[e.groupIndex]=t[e.groupIndex]||[],-1==g.call(t[e.groupIndex],e)){t[e.groupIndex].push(e);for(var r=0,n=e.normalizedDeps.length;n>r;r++){var o=e.normalizedDeps[r],a=m[o];if(a&&!a.evaluated){var s=e.groupIndex+(a.declarative!=e.declarative);if(void 0===a.groupIndex||a.groupIndex<s){if(void 0!==a.groupIndex&&(t[a.groupIndex].splice(g.call(t[a.groupIndex],a),1),0==t[a.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");a.groupIndex=s}i(a,t)}}}}function o(e){var t=m[e];t.groupIndex=0;var r=[];i(t,r);for(var n=!!t.declarative==r.length%2,o=r.length-1;o>=0;o--){for(var a=r[o],u=0;u<a.length;u++){var f=a[u];n?s(f):c(f)}n=!n}}function a(e){return w[e]||(w[e]={name:e,dependencies:[],exports:{},importers:[]})}function s(t){if(!t.module){var r=t.module=a(t.name),n=t.module.exports,i=t.declare.call(e,function(e,t){if(r.locked=!0,"object"==typeof e)for(var i in e)n[i]=e[i];else n[e]=t;for(var o=0,a=r.importers.length;a>o;o++){var s=r.importers[o];if(!s.locked)for(var u=0;u<s.dependencies.length;++u)s.dependencies[u]===r&&s.setters[u](n)}return r.locked=!1,t},t.name);r.setters=i.setters,r.execute=i.execute;for(var o=0,u=t.normalizedDeps.length;u>o;o++){var c,f=t.normalizedDeps[o],l=m[f],d=w[f];d?c=d.exports:l&&!l.declarative?c=l.esModule:l?(s(l),d=l.module,c=d.exports):c=h(f),d&&d.importers?(d.importers.push(r),r.dependencies.push(d)):r.dependencies.push(null),r.setters[o]&&r.setters[o](c)}}}function u(e){var t,r=m[e];if(r)r.declarative?p(e,[]):r.evaluated||c(r),t=r.module.exports;else if(t=h(e),!t)throw new Error("Unable to load dependency "+e+".");return(!r||r.declarative)&&t&&t.__useDefault?t["default"]:t}function c(t){if(!t.module){var r={},n=t.module={exports:r,id:t.name};if(!t.executingRequire)for(var i=0,o=t.normalizedDeps.length;o>i;i++){var a=t.normalizedDeps[i],s=m[a];s&&c(s)}t.evaluated=!0;var l=t.execute.call(e,function(e){for(var r=0,n=t.deps.length;n>r;r++)if(t.deps[r]==e)return u(t.normalizedDeps[r]);throw new TypeError("Module "+e+" not declared as a dependency.")},r,n);l&&(n.exports=l),r=n.exports,r&&r.__esModule?t.esModule=r:t.esModule=f(r)}}function f(e){var t={};if("object"==typeof e||"function"==typeof e){var r=e&&e.hasOwnProperty;if(v)for(var n in e)d(t,e,n)||l(t,e,n,r);else for(var n in e)l(t,e,n,r)}return t["default"]=e,x(t,"__useDefault",{value:!0}),t}function l(e,t,r,n){(!n||t.hasOwnProperty(r))&&(e[r]=t[r])}function d(e,t,r){try{var n;return(n=Object.getOwnPropertyDescriptor(t,r))&&x(e,r,n),!0}catch(i){return!1}}function p(t,r){var n=m[t];if(n&&!n.evaluated&&n.declarative){r.push(t);for(var i=0,o=n.normalizedDeps.length;o>i;i++){var a=n.normalizedDeps[i];-1==g.call(r,a)&&(m[a]?p(a,r):h(a))}n.evaluated||(n.evaluated=!0,n.module.execute.call(e))}}function h(e){if(k[e])return k[e];if("@node/"==e.substr(0,6))return b(e.substr(6));var t=m[e];if(!t)throw"Module "+e+" not present.";return o(e),p(e,[]),m[e]=void 0,t.declarative&&x(t.module.exports,"__esModule",{value:!0}),k[e]=t.declarative?t.module.exports:t.esModule}var m={},g=Array.prototype.indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(this[t]===e)return t;return-1},v=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(y){v=!1}var x;!function(){try{Object.defineProperty({},"a",{})&&(x=Object.defineProperty)}catch(e){x=function(e,t,r){try{e[t]=r.value||r.get.call(e)}catch(n){}}}}();var w={},b="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,k={"@empty":{}};return function(e,n,i){return function(o){o(function(o){for(var a={_nodeRequire:b,register:t,registerDynamic:r,get:h,set:function(e,t){k[e]=t},newModule:function(e){return e}},s=0;s<n.length;s++)(function(e,t){t&&t.__esModule?k[e]=t:k[e]=f(t)})(n[s],arguments[s]);i(a);var u=h(e[0]);if(e.length>1)for(var s=1;s<e.length;s++)h(e[s]);return u.__useDefault?u["default"]:u})}}}("undefined"!=typeof self?self:global)(["1"],[],function(e){this.require,this.exports,this.module;e.register("2",["3"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.userModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"@querycount",name:"queryCount",transform:"number"},{field:"@totalcount",name:"totalCount",transform:"number"},{field:"@href",name:"href"},{field:"users",isArray:!0,transform:t}],e("userListModel",r)}}}),e.register("4",["2","3","5","6","7","8","9"],function(e){var t,r,n,i,o,a,s,u,c;return{setters:[function(e){t=e.userListModel},function(e){r=e.userModel},function(e){n=e.Plug},function(e){i=e.utility},function(e){o=e.modelParser},function(e){a=e["default"]},function(e){s=e["default"]}],execute:function(){"use strict";u=function(){function e(t,r){void 0===t&&(t="current"),s(this,e),this._id=i.getResourceId(t,"current"),this._plug=new n(r).at("@api","deki","users",this._id)}return a(e,[{key:"getInfo",value:function(){var e=o.createParser(r);return this._plug.get().then(e)}}]),e}(),e("User",u),c=function(){function e(t){s(this,e),this.settings=t,this.plug=new n(t).at("@api","deki","users")}return a(e,[{key:"getCurrentUser",value:function(){var e=o.createParser(r);return this.plug.at("current").get().then(e)}},{key:"getUsers",value:function(){var e=o.createParser(t);return this.plug.get().then(e)}},{key:"searchUsers",value:function(e){var r=o.createParser(t);return this.plug.at("search").withParams(e).get().then(r)}},{key:"getUser",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"current":arguments[0];return new u(e,this.settings)}}]),e}(),e("UserManager",c)}}}),e.register("a",["b"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.eventModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"@upto",name:"upto"},{field:"@since",name:"since"},{field:"event",name:"events",isArray:!0,transform:t}],e("userActivityModel",r)}}}),e.register("c",["b"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.eventModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"@upto",name:"upto"},{field:"@since",name:"since"},{field:"summary",isArray:!0,transform:[{field:"@id",name:"id"},{field:"@datetime",name:"datetime",transform:"date"},{field:"@count",name:"count",transform:"number"},{field:"@detailid",name:"detailId"},{field:"@uri.detail",name:"uriDetail"},{field:"event",transform:t}]}],e("eventListModel",r)}}}),e.register("b",["d"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.pageModel}],execute:function(){r=[{field:"@id",name:"id"},{field:"@datetime",name:"datetime",transform:"date"},{field:"@type",name:"type"},{field:"@journaled",name:"journaled",transform:"boolean"},{field:"@version",name:"version",transform:"number"},{field:["request","@id"],name:"requestId"},{field:"@language",name:"language"},{field:"page",transform:t},{field:"user",transform:[{field:"@id",name:"id",transform:"number"},{field:"name"}]},{field:"data",transform:[{field:"constraint"},{field:"path"},{field:"query"},{field:"limit",transform:"number"},{field:"qid",transform:"number"},{field:"totalrecommended",name:"totalRecommended",transform:"number"},{field:"totalresults",name:"totalResults",transform:"number"},{field:"_uri.host",name:"host"},{field:"_uri.query",name:"uriQuery"},{field:"_uri.scheme",name:"scheme"}]}],e("eventModel",r)}}}),e.register("e",["b"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.eventModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"summary",transform:[{field:"@id",name:"id"},{field:"@datetime",name:"datetime",transform:"date"},{field:"@count",name:"count",transform:"number"},{field:"@journaled",name:"journaled",transform:"boolean"},{field:"@diffable",name:"diffable",transform:"boolean"},{field:"event",transform:t}]}],e("eventDetailModel",r)}}}),e.register("f",["5","6","7","8","9","a","c","e"],function(e){var t,r,n,i,o,a,s,u,c;return{setters:[function(e){t=e.Plug},function(e){r=e.utility},function(e){n=e.modelParser},function(e){i=e["default"]},function(e){o=e["default"]},function(e){a=e.userActivityModel},function(e){s=e.eventListModel},function(e){u=e.eventDetailModel}],execute:function(){"use strict";c=function(){function e(r){o(this,e),this.settings=r,this.plug=new t(r).at("@api","deki","events")}return i(e,[{key:"getActivity",value:function(e,t){var r=n.createParser(a);return this.plug.at("support-agent",e).withParams(t).get().then(r)}},{key:"getHistory",value:function(e){var t=n.createParser(s);return this.plug.at("user-page",r.getResourceId(e,"current")).get().then(t)}},{key:"getHistoryDetail",value:function(e,t){var i=n.createParser(u);return this.plug.at("user-page",r.getResourceId(e,"current"),t).get().then(i)}},{key:"logSearch",value:function(e,t){return this.plug.at("search",r.getResourceId(e,"current")).post(JSON.stringify(t),r.jsonRequestType)}}]),e}(),e("UserEvents",c)}}}),e.register("10",["4","8","9","f"],function(e){var t,r,n,i,o;return{setters:[function(e){t=e.UserManager},function(e){r=e["default"]},function(e){n=e["default"]},function(e){i=e.UserEvents}],execute:function(){"use strict";o=function(){function e(r){n(this,e),this.settings=r,this.martianUser=new t(r)}return r(e,[{key:"getCurrentUser",value:function(){return this.martianUser.getCurrentUser()}},{key:"getLoginUrl",value:function(){return this.settings.get("host")+"/@app/login/redirect"}},{key:"getInsights",value:function(e){var t=new i(this.settings);return t.getActivity(e,{include:"page"})}}]),e}(),e("User",o)}}}),e.register("11",["d"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.pageModel}],execute:function(){r=[{field:"@ranking",name:"ranking"},{field:"@queryid",name:"queryId"},{field:"@querycount",name:"queryCount",transform:"number"},{field:"@count.recommendations",name:"recommendationCount",transform:"number"},{field:"@count",name:"count",transform:"number"},{field:"result",name:"results",isArray:!0,transform:[{field:"author"},{field:"content"},{field:"date.modified",name:"dateModified",transform:"date"},{field:"id",transform:"number"},{field:"mime"},{field:"rank",transform:"number"},{field:"title"},{field:"type"},{field:"uri"},{field:"uri.track",name:"uriTrack"},{field:"page",transform:t}]},{field:"summary",transform:[{field:"@path",name:"path"},{field:"results",isArray:!0,transform:[{field:"@path",name:"path"},{field:"@count",name:"count",transform:"number"},{field:"@title",name:"title"}]}]}],e("searchModel",r)}}}),e.register("12",["5","6","7","8","9","11","13","14"],function(e){function t(e){var t=[];if(e.namespace="main",t.push("+namespace:"+n.searchEscape(e.namespace)),"path"in e){var r=e.path;u.startsWith(r,"/")&&(r=u.leftTrim(r,"/")),t.push("+path.ancestor:"+n.searchEscape(r))}if("tags"in e){var i=e.tags;"string"==typeof i&&i&&(i=i.split(",")),i.forEach(function(e){t.push('+tag:"'+n.searchEscape(e)+'"')})}if("type"in e){var o=e.type;"string"==typeof o&&o&&(o=o.split(",")),o.forEach(function(e){t.push("+type:"+n.searchEscape(e))})}return"+("+t.join(" ")+")"}var r,n,i,o,a,s,u,c,f;return{setters:[function(e){r=e.Plug},function(e){n=e.utility},function(e){i=e.modelParser},function(e){o=e["default"]},function(e){a=e["default"]},function(e){s=e.searchModel},function(e){u=e.stringUtility},function(e){c=e["default"]}],execute:function(){"use strict";f=function(){function e(t){a(this,e),this.plug=new r(t).at("@api","deki","site")}return o(e,[{key:"getResourceString",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!("key"in e))return c.reject("No resource key was supplied");var t=this.plug.at("localization",e.key);return"lang"in e&&(t=t.withParam("lang",e.lang)),t.get()}},{key:"search",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=e.page,n=void 0===r?1:r,o=e.limit,a=void 0===o?10:o,u=e.tags,c=void 0===u?"":u,f=e.type,l=void 0===f?"":f,d=e.q,p=void 0===d?"":d,h=e.path,m=void 0===h?"":h,g=e.recommendations,v=void 0===g?!0:g,y={};""!==m&&"/"!==m&&(y.path=m),""!==c&&(y.tags=c),""!==l&&(y.type=l);var x={limit:a,page:n,offset:parseInt(a,10)*(parseInt(n,10)-1),sortBy:"-date,-rank",q:p,summarypath:encodeURI(m),constraint:t(y),recommendations:v},w=i.createParser(s);return this.plug.at("query").withParams(x).get().then(w)}}]),e}(),e("Site",f)}}}),e.register("15",["8","9","12"],function(e){var t,r,n,i;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e.Site}],execute:function(){"use strict";i=function(){function e(t){r(this,e),this.site=new n(t)}return t(e,[{key:"search",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!e||""===e)throw new Error("Search requires keywords or advanced search syntax.");return t.q=e,this.site.search(t)}}]),e}(),e("Search",i)}}}),e.register("16",["5","6","7","8","9","17","18","19","d"],function(e){var t,r,n,i,o,a,s,u,c,f,l;return{setters:[function(e){t=e.Plug},function(e){r=e.utility},function(e){n=e.modelParser},function(e){i=e["default"]},function(e){o=e["default"]},function(e){a=e.PageBase},function(e){s=e["default"]},function(e){u=e["default"]},function(e){c=e.pageModel}],execute:function(){"use strict";f=function(e){function r(e,n){void 0===e&&(e="home"),o(this,r),s(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),this._plug=new t(n).at("@api","deki","drafts",this._id)}return u(r,e),i(r,[{key:"deactivate",value:function(){var e=n.createParser(c);return this._plug.at("deactivate").post().then(e)}},{key:"publish",value:function(){return this._plug.at("publish").post()}}]),r}(a),e("Draft",f),l=function(){function e(t){o(this,e),this._settings=t}return i(e,[{key:"createDraft",value:function(e){var i=new t(this._settings).at("@api","deki","drafts",r.getResourceId(e),"create"),o=n.createParser(c);return i.post().then(o)}},{key:"getDraft",value:function(e){return new f(e,this._settings)}}]),e}(),e("DraftManager",l)}}}),e.registerDynamic("1a",["1b","1c","1d","1e","1f","20","21","22"],!0,function(e,t,r){"use strict";var n=e("1b"),i=e("1c"),o=e("1d"),a=e("1e"),s=e("1f"),u=e("20"),c=e("21");return i(i.S+i.F*!e("22")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,f,l=o(e),d="function"==typeof this?this:Array,p=arguments,h=p.length,m=h>1?p[1]:void 0,g=void 0!==m,v=0,y=c(l);if(g&&(m=n(m,h>2?p[2]:void 0,2)),void 0==y||d==Array&&s(y))for(t=u(l.length),r=new d(t);t>v;v++)r[v]=g?m(l[v],v):l[v];else for(f=y.call(l),r=new d;!(i=f.next()).done;v++)r[v]=g?a(f,m,[i.value,v],!0):i.value;return r.length=v,r}}),r.exports}),e.registerDynamic("23",["24","1a","25"],!0,function(e,t,r){return e("24"),e("1a"),r.exports=e("25").Array.from,r.exports}),e.registerDynamic("26",["23"],!0,function(e,t,r){return r.exports={"default":e("23"),__esModule:!0},r.exports}),e.registerDynamic("27",["26"],!0,function(e,t,r){"use strict";var n=e("26")["default"];return t["default"]=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return n(e)},t.__esModule=!0,r.exports}),e.register("7",["27"],function(e){var t,r;return{setters:[function(e){t=e["default"]}],execute:function(){"use strict";r={to:{"boolean":function(e){return"true"===e},date:function(e){var t=new Date(e);if(isNaN(t.getTime()))throw new Error("Failed converting to date");return t},number:function(e){var t=Number(e);if(String(t)!==e)throw new Error("Failed converting to integer");return t},json:function(e){return"string"==typeof e&&(e=JSON.parse(e)),e}},isValid:function(e){return 0===e||e===!1||Boolean(e)},forceArray:function(e){return r.isValid(e)?Array.isArray(e)?e:[e]:[]},getValue:function(e){if(e&&"object"==typeof e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];var o=n.shift();if(o in e){var a=1===n.length&&"#text"===n[0]&&"string"==typeof e[o];return 0===n.length||a?e[o]:r.getValue.apply(r,[e[o]].concat(n))}}},transformValue:function(e,t){var n=e;if("string"==typeof t)n=r.to[t](e);else if(Array.isArray(t)){var i=r.createParser(t);n=i(e)}else{if("function"!=typeof t)throw new Error("Invalid value used for the transform parameter while trying to convert "+e);n=t(e)}return n},parseProperty:function(e,n,i){var o=i.field,a=i.name,s=i.isArray,u=i.transform;if(!e||"object"!=typeof e)throw new TypeError("Cannot parse a non-object");var c=r.forceArray(o),f=r.getValue.apply(r,[e].concat(t(c)));if(s&&(f=r.forceArray(f)),(u&&r.isValid(f)||"function"==typeof u)&&(f=s?f.map(function(e){return r.transformValue(e,u)}):r.transformValue(f,u)),a=a||c[0],a in n)throw new Error('Duplicate "'+a+'" in parsing model');r.isValid(f)&&(n[a]=f)},createParser:function(e){return function(t){t=r.to.json(t);var n={};return e.forEach(function(e){return r.parseProperty(t,n,e)}),n}}},e("modelParser",r)}}}),e.register("28",[],function(e){"use strict";var t;return{setters:[],execute:function(){t=[{field:"@count",name:"count",transform:"number"},{field:"@href",name:"href"},{field:"tag",name:"tags",isArray:!0,transform:[{field:"@id",name:"id",transformer:"number"},{field:"@value",name:"value"},{field:"@href",name:"href"},{field:"title"},{field:"type"},{field:"uri"}]}],e("pageTagsModel",t)}}}),e.register("29",["3","d"],function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.userModel},function(e){r=e.pageModel}],execute:function(){n=[{field:"@id",name:"id",transform:"number"},{field:"@revision",name:"revision",transform:"number"},{field:"@res-id",name:"resId",transform:"number"},{field:"@href",name:"href"},{field:"@res-is-head",name:"resIsHead",transform:"boolean"},{field:"@res-is-deleted",name:"resIsDeleted",transform:"boolean"},{field:"@res-rev-is-head",name:"resRevIsHead",transform:"boolean"},{field:"@res-contents-id",name:"resContentsId",transform:"number"},{field:"date.created",name:"dateCreated",transform:"date"},{field:"description"},{field:"filename"},{field:"contents",transform:[{field:"@type",name:"type"},{field:"@size",name:"size",transform:"number"},{field:"@href",name:"href"}]},{field:"user.createdby",name:"userCreatedBy",transform:t},{field:"page.parent",name:"pageParent",transform:r}],e("fileModel",n)}}}),e.register("2a",["29"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.fileModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"@offset",name:"offset",transform:"number"},{field:"@totalcount",name:"totalCount",transform:"number"},{field:"@href",name:"href"},{field:"file",name:"files",isArray:!0,transform:t}],e("pageFilesModel",r)}}}),e.register("2b",["d"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.pageModel}],execute:function(){r=[{field:"@status",name:"status"},{field:"page",transform:t},{field:"draft",transform:t},{field:"page.base",name:"pageBase",transform:t},{field:"page.overwritten",name:"pageOverwritten",transform:t}],e("pageEditModel",r)}}}),e.register("2c",["d"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.pageModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"@href",name:"href"},{field:"page",name:"pages",isArray:!0,transform:t}],e("relatedPagesModel",r)}}}),e.register("17",["6","7","8","9","14","28","2e","d","2d","2a","2b","2c"],function(e){function t(e){if(404===e.errorCode&&e.response&&e.response["@virtual"]){var t=n.createParser(c);return a.resolve(t(e.response))}throw e}var r,n,i,o,a,s,u,c,f,l,d,p,h;return{setters:[function(e){r=e.utility},function(e){n=e.modelParser},function(e){i=e["default"]},function(e){o=e["default"]},function(e){a=e["default"]},function(e){s=e.pageTagsModel},function(e){u=e["default"]},function(e){c=e.pageModel},function(e){f=e.pageContentsModel},function(e){l=e.pageFilesModel},function(e){d=e.pageEditModel},function(e){p=e.relatedPagesModel}],execute:function(){"use strict";h=function(){function e(t){if(o(this,e),"PageBase"===this.constructor.name)throw new TypeError("PageBase must not be constructed directly.  Use one of Page() or Draft()");this._id=r.getResourceId(t,"home")}return i(e,[{key:"getFullInfo",value:function(){var e=n.createParser(c);return this._plug.get().then(e)["catch"](t)}},{key:"getContents",value:function(e){var t=n.createParser(f);return this._plug.at("contents").withParams(e).get().then(t)}},{key:"setContents",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("string"!=typeof e)return a.reject(new Error("Contents should be string."));var r={edittime:"now"};u(t).forEach(function(e){r[e]=t[e]});var i=n.createParser(d);return this._plug.at("contents").withParams(r).post(e,"text/plain; charset=utf-8").then(i)}},{key:"getFiles",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=n.createParser(l);return this._plug.at("files").withParams(e).get().then(t)}},{key:"getOverview",value:function(){return this._plug.at("overview").get().then(JSON.parse).then(function(e){return a.resolve({overview:e})})["catch"](function(){return a.reject("Unable to parse the page overview response")})}},{key:"setOverview",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!("body"in e))return a.reject(new Error("No overview body was supplied"));var t="<overview>"+e.body+"</overview>";return this._plug.at("overview").put(t)}},{key:"getTags",value:function(){var e=n.createParser(s);return this._plug.at("tags").get().then(e)}},{key:"getDiff",value:function(){throw new Error("Page.getDiff() is not implemented")}},{key:"getRelated",value:function(){var e=n.createParser(p);return this._plug.at("related").get().then(e)}}]),e}(),e("PageBase",h)}}}),e.register("2f",[],function(e){"use strict";var t;return{setters:[],execute:function(){t=[{field:"@totalcount",name:"totalCount",transform:"number"},{field:"@count",name:"count",transform:"number"},{field:"@href",name:"href"},{field:"page.subpage",name:"subpages",isArray:!0,transform:[{field:"@id",name:"id",transform:"number"},{field:"@href",name:"href"},{field:"@deleted",name:"deleted",transform:"boolean"},{field:"@subpages",name:"hasSubpages",transform:"boolean"},{field:"date.created",name:"dateCreated",transform:"date"},{field:"language"},{field:"namespace"},{field:["path","#text"]},{field:"title"},{field:"uri.ui",name:"uri"}]}],e("subpagesModel",t)}}}),e.registerDynamic("30",["31"],!0,function(e,t,r){"use strict";var n=e("31")["default"];return t["default"]=function(e,t,r){return t in e?n(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},t.__esModule=!0,r.exports}),e.register("2d",["30"],function(e){var t,r;return{setters:[function(e){t=e["default"]}],execute:function(){"use strict";r=[{field:"@type",name:"type"},{field:"@title",name:"title"},{field:"@unsafe",name:"unsafe",transform:"boolean"},{field:"@draft",name:"draft",transform:"boolean"},{field:"head"},{field:"tail"},{field:"body",transform:function(e){return Array.isArray(e)?e[0]:e}},{field:"body",name:"targets",transform:function(e){var r=[];if(Array.isArray(e))for(var n=1;n<e.length;n++)r.push(t({},e[n]["@target"],e[n]["#text"]));return r}}],e("pageContentsModel",r)}}}),e.register("32",["d"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.pageModel}],execute:function(){r=[{field:"page",transform:t}],e("pageTreeModel",r)}}}),e.register("33",["d"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.pageModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"page",name:"pages",isArray:!0,transform:t}],e("pageMoveModel",r)}}}),e.register("34",[],function(e){"use strict";var t;return{setters:[],execute:function(){t=[{field:"@count",name:"count",transform:"number"},{field:"@date",name:"date",transform:"date"},{field:"@seated.count",name:"seatedCount",transform:"number"},{field:"@unseated.count",name:"unseatedCount",transform:"number"},{field:"@score",name:"score",transform:"number"},{field:"@seated.score",name:"seatedScore",transform:"number"},{field:"@unseated.score",name:"unseatedScore",transform:"number"},{field:"@score.trend",name:"scoreTrend",transform:"number"},{field:"@seated.score.trend",name:"seatedScoreTrend",transform:"number"},{field:"@unseated.score.trend",name:"unseatedScoreTrend",transform:"number"},{field:"user.ratedby",name:"userRatedBy",transform:[{field:"@id",name:"id",transform:"number"},{field:"@score",name:"score",transform:"number"},{field:"@date",name:"date",transform:"date"},{field:"@href",name:"href"},{field:"@seated",name:"seated",transform:"boolean"}]}],e("pageRatingModel",t)}}}),e.register("35",[],function(e){"use strict";var t;return{setters:[],execute:function(){t=[{field:["operations","#text"],transform:function(e){var t=[];return"string"==typeof e&&(t=e.split(",")),t}},{field:"role",transform:function(e){var t={};return"string"==typeof e?t.name=e:e&&"object"==typeof e&&("#text"in e&&(t.name=e["#text"]),"@id"in e&&(t.id=parseInt(e["@id"],10)),"@href"in e&&(t.href=e["@href"])),t}}],e("permissionsModel",t)}}}),e.register("3",["35","d"],function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.permissionsModel},function(e){r=e.pageModel}],execute:function(){n=[{field:"@id",name:"id",transform:"number"},{field:"@wikiid",name:"wikiId"},{field:"@href",name:"href"},{field:"date.created",name:"dateCreated"},{field:"email"},{field:"fullname"},{field:"username"},{field:"nick"},{field:"status"},{field:["license.seat","#text"],name:"seated",transform:"boolean"},{field:["license.seat","@owner"],name:"siteOwner",transform:"boolean"},{field:"date.lastlogin",name:"dateLastLogin",transform:"date"},{field:"page.home",name:"pageHome",transform:r},{field:"permissions.user",name:"userPermissions",transform:t}],e("userModel",n)}}}),e.register("d",["3","34"],function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.userModel},function(e){r=e.pageRatingModel}],execute:function(){n=[{field:"@id",name:"id",transform:"number"},{field:"title"},{field:"uri.ui",name:"uri"},{field:"@href",name:"href"},{field:"@state",name:"state"},{field:"@draft.state",name:"draftState"},{field:"article"},{field:"language"},{field:"namespace"},{field:"language.effective",name:"languageEffective"},{field:"timeuuid"},{field:["path","#text"]},{field:"@revision",name:"revision",transform:"number"},{field:"date.created",name:"dateCreated",transform:"date"},{field:"@deleted",name:"deleted",transform:"boolean"},{field:"@publish",name:"publish",transform:"boolean"},{field:"@unpublish",name:"unpublish",transform:"boolean"},{field:"@deactivate",name:"deactivate",transform:"boolean"},{field:"@virtual",name:"virtual",transform:"boolean"},{field:"date.modified",name:"dateModified",transform:"date"},{field:"date.edited",name:"dateEdited",transform:"date"},{field:"rating",transform:r},{field:"user.author",name:"userAuthor",transform:t}],e("pageModel",n),n.push({field:"page.parent",name:"pageParent",transform:n},{field:["subpages","page"],isArray:!0,transform:n})}}}),e.register("36",["d"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.pageModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"@href",name:"href"},{field:"page",name:"pages",isArray:!0,transform:t}],e("pageRatingsModel",r)}}}),e.register("37",["5","6","7","8","9","14","17","18","19","32","33","34","36","2e","d","2f","2d"],function(e){var t,r,n,i,o,a,s,u,c,f,l,d,p,h,m,g,v,y,x;return{setters:[function(e){t=e.Plug},function(e){r=e.utility},function(e){n=e.modelParser},function(e){i=e["default"]},function(e){o=e["default"]},function(e){a=e["default"]},function(e){s=e.PageBase},function(e){u=e["default"]},function(e){c=e["default"]},function(e){f=e.pageTreeModel},function(e){l=e.pageMoveModel},function(e){d=e.pageRatingModel},function(e){p=e.pageRatingsModel},function(e){h=e["default"]},function(e){m=e.pageModel},function(e){g=e.subpagesModel},function(e){v=e.pageContentsModel}],execute:function(){"use strict";y=function(e){function s(e,r){void 0===e&&(e="home"),o(this,s),u(Object.getPrototypeOf(s.prototype),"constructor",this).call(this,e),this._plug=new t(r).at("@api","deki","pages",this._id)}return c(s,e),i(s,[{key:"getInfo",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t={exclude:"revision"};h(e).forEach(function(r){t[r]=e[r]});var r=n.createParser(m);return this._plug.at("info").withParams(t).get().then(r)}},{key:"getSubpages",value:function(e){var t=n.createParser(g);return this._plug.at("subpages").withParams(e).get().then(t)}},{key:"getTree",value:function(e){var t=n.createParser(f);return this._plug.at("tree").withParams(e).get().then(t)}},{key:"getTreeIds",value:function(){return this._plug.at("tree").withParam("format","ids").get().then(function(e){return e.split(",").map(function(e){var t=parseInt(e,10);if(isNaN(t))throw new Error("Unable to parse the tree IDs.");return t})})["catch"](function(e){return a.reject({message:e.message})})}},{key:"getRating",value:function(){var e=n.createParser(d);return this._plug.at("ratings").get().then(e)}},{key:"rate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(e=e.toString(),t=t.toString(),"1"!==e&&"0"!==e&&""!==e)throw new Error("Invalid rating supplied");if("1"!==t&&"0"!==t&&""!==t)throw new Error("Invalid rating supplied for the old rating");var i=n.createParser(d);return this._plug.at("ratings").withParams({score:e,previousScore:t}).post(null,r.textRequestType).then(i)}},{key:"getHtmlTemplate",value:function(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r.pageid=this._id;var i="="+encodeURIComponent(encodeURIComponent(e)),o=(new t).at("@api","deki","pages",i,"contents").withParams(r),a=n.createParser(v);return o.get().then(a)}},{key:"move",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=n.createParser(l);return this._plug.at("move").withParams(e).post(null,"text/plain; charset=utf-8").then(t)}},{key:"activateDraft",value:function(){var e=n.createParser(m);return this._plug.at("activate-draft").post().then(e)}}]),s}(s),e("Page",y),x=function(){function e(r){o(this,e),this._plug=new t(r).at("@api","deki","pages")}return i(e,[{key:"getRatings",value:function(e){var t=this._plug.at("pages","ratings").withParams({pageids:e.join(",")}),r=n.createParser(p);return t.get().then(r)}}]),e}(),e("PageManager",x)}}}),e.register("38",["8","9","14","16","27","37"],function(e){function t(e){var t="";return e.forEach(function(e){t=t+"<a>"+e+"</a>"}),t='<p class="template:tag-insert">'+t+"</p>"}var r,n,i,o,a,s,u;return{setters:[function(e){r=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){o=e.DraftManager},function(e){a=e["default"]},function(e){s=e.Page}],execute:function(){"use strict";u=function(){function e(t){n(this,e),this._settings=t}return r(e,[{key:"createUnpublished",value:function(e){var r=this,n=e.path,s=e.content,u=void 0===s?"":s,c=e.title,f=void 0===c?null:c,l=e.type,d=void 0===l?"article:topic":l,p=e.tags,h=void 0===p?[]:p;return new i(function(e,i){var s=new o(r._settings),c=[].concat(a(h));s.createDraft(n).then(function(r){c.indexOf(d)<0&&c.push(d);var n=t(c),o=""+u+n,a={};null!==f&&(a.title=f);var l=s.getDraft(r.id);l.setContents(o,a).then(function(t){e(t)})["catch"](function(){i("An error occurred while setting the unpublished article content")})})["catch"](function(){i("An error occurred while creating the unpublished article")})})}},{key:"createPublished",value:function(e){var r=this,n=e.path,o=e.title,a=void 0===o?null:o,u=e.content,c=void 0===u?"":u,f=e.type,l=void 0===f?"article:topic":f,d=e.tags,p=void 0===d?[]:d;return new i(function(e,i){var o=new s(n,r._settings);p.indexOf(l)<0&&p.push(l);var u=c+"\n            "+t(p),f={};null!==a&&(f.title=a),o.setContents(u,f).then(function(t){e(t);
})["catch"](function(){i("An error occurred while creating the published article")})})}}]),e}(),e("Article",u)}}}),e.registerDynamic("39",[],!0,function(e,t,r){return r.exports}),e.registerDynamic("3a",["3b","3c"],!0,function(e,t,r){var n=e("3b"),i=e("3c");return r.exports=function(e){return function(t,r){var o,a,s=String(i(t)),u=n(r),c=s.length;return 0>u||u>=c?e?"":void 0:(o=s.charCodeAt(u),55296>o||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):(o-55296<<10)+(a-56320)+65536)}},r.exports}),e.registerDynamic("24",["3a","3d"],!0,function(e,t,r){"use strict";var n=e("3a")(!0);return e("3d")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}),r.exports}),e.registerDynamic("3e",[],!0,function(e,t,r){return r.exports=function(){},r.exports}),e.registerDynamic("3f",[],!0,function(e,t,r){return r.exports=function(e,t){return{value:t,done:!!e}},r.exports}),e.registerDynamic("40",["41","42","43","44","45"],!0,function(e,t,r){"use strict";var n=e("41"),i=e("42"),o=e("43"),a={};return e("44")(a,e("45")("iterator"),function(){return this}),r.exports=function(e,t,r){e.prototype=n.create(a,{next:i(1,r)}),o(e,t+" Iterator")},r.exports}),e.registerDynamic("3d",["46","1c","47","44","48","49","40","43","41","45"],!0,function(e,t,r){"use strict";var n=e("46"),i=e("1c"),o=e("47"),a=e("44"),s=e("48"),u=e("49"),c=e("40"),f=e("43"),l=e("41").getProto,d=e("45")("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",m="keys",g="values",v=function(){return this};return r.exports=function(e,t,r,y,x,w,b){c(r,t,y);var k,P,_=function(e){if(!p&&e in E)return E[e];switch(e){case m:return function(){return new r(this,e)};case g:return function(){return new r(this,e)}}return function(){return new r(this,e)}},D=t+" Iterator",M=x==g,S=!1,E=e.prototype,T=E[d]||E[h]||x&&E[x],A=T||_(x);if(T){var O=l(A.call(new e));f(O,D,!0),!n&&s(E,h)&&a(O,d,v),M&&T.name!==g&&(S=!0,A=function(){return T.call(this)})}if(n&&!b||!p&&!S&&E[d]||a(E,d,A),u[t]=A,u[D]=v,x)if(k={values:M?A:_(g),keys:w?A:_(m),entries:M?_("entries"):A},b)for(P in k)P in E||o(E,P,k[P]);else i(i.P+i.F*(p||S),t,k);return k},r.exports}),e.registerDynamic("4a",["3e","3f","49","4b","3d"],!0,function(e,t,r){"use strict";var n=e("3e"),i=e("3f"),o=e("49"),a=e("4b");return r.exports=e("3d")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,r):"values"==t?i(0,e[r]):i(0,[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries"),r.exports}),e.registerDynamic("4c",["4a","49"],!0,function(e,t,r){e("4a");var n=e("49");return n.NodeList=n.HTMLCollection=n.Array,r.exports}),e.registerDynamic("46",[],!0,function(e,t,r){return r.exports=!0,r.exports}),e.registerDynamic("4d",[],!0,function(e,t,r){return r.exports=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e},r.exports}),e.registerDynamic("1e",["4e"],!0,function(e,t,r){var n=e("4e");return r.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(o){var a=e["return"];throw void 0!==a&&n(a.call(e)),o}},r.exports}),e.registerDynamic("1f",["49","45"],!0,function(e,t,r){var n=e("49"),i=e("45")("iterator"),o=Array.prototype;return r.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)},r.exports}),e.registerDynamic("3b",[],!0,function(e,t,r){var n=Math.ceil,i=Math.floor;return r.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)},r.exports}),e.registerDynamic("20",["3b"],!0,function(e,t,r){var n=e("3b"),i=Math.min;return r.exports=function(e){return e>0?i(n(e),9007199254740991):0},r.exports}),e.registerDynamic("4f",["50","45"],!0,function(e,t,r){var n=e("50"),i=e("45")("toStringTag"),o="Arguments"==n(function(){return arguments}());return r.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(t=Object(e))[i])?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a},r.exports}),e.registerDynamic("49",[],!0,function(e,t,r){return r.exports={},r.exports}),e.registerDynamic("21",["4f","45","49","25"],!0,function(e,t,r){var n=e("4f"),i=e("45")("iterator"),o=e("49");return r.exports=e("25").getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||o[n(e)]:void 0},r.exports}),e.registerDynamic("51",["1b","1e","1f","4e","20","21"],!0,function(e,t,r){var n=e("1b"),i=e("1e"),o=e("1f"),a=e("4e"),s=e("20"),u=e("21");return r.exports=function(e,t,r,c){var f,l,d,p=u(e),h=n(r,c,t?2:1),m=0;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(o(p))for(f=s(e.length);f>m;m++)t?h(a(l=e[m])[0],l[1]):h(e[m]);else for(d=p.call(e);!(l=d.next()).done;)i(d,h,l.value,t)},r.exports}),e.registerDynamic("52",[],!0,function(e,t,r){return r.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t},r.exports}),e.registerDynamic("53",["4e","54","45"],!0,function(e,t,r){var n=e("4e"),i=e("54"),o=e("45")("species");return r.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[o])?t:i(r)},r.exports}),e.registerDynamic("55",[],!0,function(e,t,r){return r.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)},r.exports}),e.registerDynamic("56",["57"],!0,function(e,t,r){return r.exports=e("57").document&&document.documentElement,r.exports}),e.registerDynamic("58",["59","57"],!0,function(e,t,r){var n=e("59"),i=e("57").document,o=n(i)&&n(i.createElement);return r.exports=function(e){return o?i.createElement(e):{}},r.exports}),e.registerDynamic("5a",["1b","55","56","58","57","50","5b"],!0,function(e,t,r){return function(t){var n,i,o,a=e("1b"),s=e("55"),u=e("56"),c=e("58"),f=e("57"),t=f.process,l=f.setImmediate,d=f.clearImmediate,p=f.MessageChannel,h=0,m={},g="onreadystatechange",v=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},y=function(e){v.call(e.data)};l&&d||(l=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return m[++h]=function(){s("function"==typeof e?e:Function(e),t)},n(h),h},d=function(e){delete m[e]},"process"==e("50")(t)?n=function(e){t.nextTick(a(v,e,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=y,n=a(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(n=function(e){f.postMessage(e+"","*")},f.addEventListener("message",y,!1)):n=g in c("script")?function(e){u.appendChild(c("script"))[g]=function(){u.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),r.exports={set:l,clear:d}}(e("5b")),r.exports}),e.registerDynamic("5c",["57","5a","50","5b"],!0,function(e,t,r){return function(t){var n,i,o,a=e("57"),s=e("5a").set,u=a.MutationObserver||a.WebKitMutationObserver,t=a.process,c=a.Promise,f="process"==e("50")(t),l=function(){var e,r,o;for(f&&(e=t.domain)&&(t.domain=null,e.exit());n;)r=n.domain,o=n.fn,r&&r.enter(),o(),r&&r.exit(),n=n.next;i=void 0,e&&e.enter()};if(f)o=function(){t.nextTick(l)};else if(u){var d=1,p=document.createTextNode("");new u(l).observe(p,{characterData:!0}),o=function(){p.data=d=-d}}else o=c&&c.resolve?function(){c.resolve().then(l)}:function(){s.call(a,l)};r.exports=function(e){var r={fn:e,next:void 0,domain:f&&t.domain};i&&(i.next=r),n||(n=r,o()),i=r}}(e("5b")),r.exports}),e.registerDynamic("42",[],!0,function(e,t,r){return r.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},r.exports}),e.registerDynamic("44",["41","42","5d"],!0,function(e,t,r){var n=e("41"),i=e("42");return r.exports=e("5d")?function(e,t,r){return n.setDesc(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e},r.exports}),e.registerDynamic("47",["44"],!0,function(e,t,r){return r.exports=e("44"),r.exports}),e.registerDynamic("5e",["47"],!0,function(e,t,r){var n=e("47");return r.exports=function(e,t){for(var r in t)n(e,r,t[r]);return e},r.exports}),e.registerDynamic("48",[],!0,function(e,t,r){var n={}.hasOwnProperty;return r.exports=function(e,t){return n.call(e,t)},r.exports}),e.registerDynamic("43",["41","48","45"],!0,function(e,t,r){var n=e("41").setDesc,i=e("48"),o=e("45")("toStringTag");return r.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})},r.exports}),e.registerDynamic("5d",["5f"],!0,function(e,t,r){return r.exports=!e("5f")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),r.exports}),e.registerDynamic("60",["25","41","5d","45"],!0,function(e,t,r){"use strict";var n=e("25"),i=e("41"),o=e("5d"),a=e("45")("species");return r.exports=function(e){var t=n[e];o&&t&&!t[a]&&i.setDesc(t,a,{configurable:!0,get:function(){return this}})},r.exports}),e.registerDynamic("61",["57"],!0,function(e,t,r){var n=this,n=e("57"),i="__core-js_shared__",o=n[i]||(n[i]={});return r.exports=function(e){return o[e]||(o[e]={})},r.exports}),e.registerDynamic("62",[],!0,function(e,t,r){var n=0,i=Math.random();return r.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))},r.exports}),e.registerDynamic("45",["61","62","57"],!0,function(e,t,r){var n=e("61")("wks"),i=e("62"),o=e("57").Symbol;return r.exports=function(e){return n[e]||(n[e]=o&&o[e]||(o||i)("Symbol."+e))},r.exports}),e.registerDynamic("22",["45"],!0,function(e,t,r){var n=e("45")("iterator"),i=!1;try{var o=[7][n]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}return r.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){r=!0},o[n]=function(){return a},e(o)}catch(s){}return r},r.exports}),e.registerDynamic("63",[],!0,function(e,t,r){function n(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&i())}function i(){if(!f){var e=setTimeout(n);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,u=r.exports={},c=[],f=!1,l=-1;return u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new o(e,t)),1!==c.length||f||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0},r.exports}),e.registerDynamic("64",["63"],!0,function(e,t,r){return r.exports=e("63"),r.exports}),e.registerDynamic("65",["64"],!0,function(t,r,n){return n.exports=e._nodeRequire?process:t("64"),n.exports}),e.registerDynamic("5b",["65"],!0,function(e,t,r){return r.exports=e("65"),r.exports}),e.registerDynamic("66",["41","46","57","1b","4f","1c","59","4e","54","4d","51","67","52","45","53","5c","5d","5e","43","60","25","22","5b"],!0,function(e,t,r){return function(t){"use strict";var r,n=e("41"),i=e("46"),o=e("57"),a=e("1b"),s=e("4f"),u=e("1c"),c=e("59"),f=e("4e"),l=e("54"),d=e("4d"),p=e("51"),h=e("67").set,m=e("52"),g=e("45")("species"),v=e("53"),y=e("5c"),x="Promise",t=o.process,w="process"==s(t),b=o[x],k=function(e){var t=new b(function(){});return e&&(t.constructor=Object),b.resolve(t)===t},P=function(){function t(e){var r=new b(e);return h(r,t.prototype),r}var r=!1;try{if(r=b&&b.resolve&&k(),h(t,b),t.prototype=n.create(b.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(r=!1),r&&e("5d")){var i=!1;b.resolve(n.setDesc({},"then",{get:function(){i=!0}})),r=i}}catch(o){r=!1}return r}(),_=function(e,t){return i&&e===b&&t===r?!0:m(e,t)},D=function(e){var t=f(e)[g];return void 0!=t?t:e},M=function(e){var t;return c(e)&&"function"==typeof(t=e.then)?t:!1},S=function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=l(t),this.reject=l(r)},E=function(e){try{e()}catch(t){return{error:t}}},T=function(e,r){if(!e.n){e.n=!0;var n=e.c;y(function(){for(var i=e.v,a=1==e.s,s=0,u=function(t){var r,n,o=a?t.ok:t.fail,s=t.resolve,u=t.reject;try{o?(a||(e.h=!0),r=o===!0?i:o(i),r===t.promise?u(TypeError("Promise-chain cycle")):(n=M(r))?n.call(r,s,u):s(r)):u(i)}catch(c){u(c)}};n.length>s;)u(n[s++]);n.length=0,e.n=!1,r&&setTimeout(function(){var r,n,a=e.p;A(a)&&(w?t.emit("unhandledRejection",i,a):(r=o.onunhandledrejection)?r({promise:a,reason:i}):(n=o.console)&&n.error&&n.error("Unhandled promise rejection",i)),e.a=void 0},1)})}},A=function(e){var t,r=e._d,n=r.a||r.c,i=0;if(r.h)return!1;for(;n.length>i;)if(t=n[i++],t.fail||!A(t.promise))return!1;return!0},O=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),T(t,!0))},R=function(e){var t,r=this;if(!r.d){r.d=!0,r=r.r||r;try{if(r.p===e)throw TypeError("Promise can't be resolved itself");(t=M(e))?y(function(){var n={r:r,d:!1};try{t.call(e,a(R,n,1),a(O,n,1))}catch(i){O.call(n,i)}}):(r.v=e,r.s=1,T(r,!1))}catch(n){O.call({r:r,d:!1},n)}}};P||(b=function(e){l(e);var t=this._d={p:d(this,b,x),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(a(R,t,1),a(O,t,1))}catch(r){O.call(t,r)}},e("5e")(b.prototype,{then:function(e,t){var r=new S(v(this,b)),n=r.promise,i=this._d;return r.ok="function"==typeof e?e:!0,r.fail="function"==typeof t&&t,i.c.push(r),i.a&&i.a.push(r),i.s&&T(i,!1),n},"catch":function(e){return this.then(void 0,e)}})),u(u.G+u.W+u.F*!P,{Promise:b}),e("43")(b,x),e("60")(x),r=e("25")[x],u(u.S+u.F*!P,x,{reject:function(e){var t=new S(this),r=t.reject;return r(e),t.promise}}),u(u.S+u.F*(!P||k(!0)),x,{resolve:function(e){if(e instanceof b&&_(e.constructor,this))return e;var t=new S(this),r=t.resolve;return r(e),t.promise}}),u(u.S+u.F*!(P&&e("22")(function(e){b.all(e)["catch"](function(){})})),x,{all:function(e){var t=D(this),r=new S(t),i=r.resolve,o=r.reject,a=[],s=E(function(){p(e,!1,a.push,a);var r=a.length,s=Array(r);r?n.each.call(a,function(e,n){var a=!1;t.resolve(e).then(function(e){a||(a=!0,s[n]=e,--r||i(s))},o)}):i(s)});return s&&o(s.error),r.promise},race:function(e){var t=D(this),r=new S(t),n=r.reject,i=E(function(){p(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i&&n(i.error),r.promise}})}(e("5b")),r.exports}),e.registerDynamic("68",["39","24","4c","66","25"],!0,function(e,t,r){return e("39"),e("24"),e("4c"),e("66"),r.exports=e("25").Promise,r.exports}),e.registerDynamic("14",["68"],!0,function(e,t,r){return r.exports={"default":e("68"),__esModule:!0},r.exports}),e.register("69",["8","9"],function(e){function t(e){var t=["href","protocol","username","password","hostname","port","pathname","search","hash"],r=o.exec(e),n={};return t.forEach(function(e,t){n[e]=r[t]}),n}function r(e){var t=[],r=e.split("&");return r.forEach(function(e){var r=e.split("=");t.push([r[0],r[1]])}),t}var n,i,o,a,s;return{setters:[function(e){n=e["default"]},function(e){i=e["default"]}],execute:function(){"use strict";o=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+:))?(?:\/\/)?(?:([^:@\/]*)(?::([^:@\/]*))?@)?(\[[0-9a-fA-F.]+\]|[^:\/?#]*)(?::(\d+|(?=:)))?((?:[^?#](?![^?#\/]*\.(?:[?#]|$)))*\/?)?[^?#\/]*(?:(\?[^#]*))?(?:(#.*))?/,a=function(){function e(t){i(this,e),this.params=[],t&&""!==t&&("?"===t[0]&&(t=t.slice(1)),this.params=r(t))}return n(e,[{key:"append",value:function(e,t){this.params.push([e,t])}},{key:"delete",value:function(e){var t=[];this.params.forEach(function(r){r[0]!==e&&t.push(r)}),this.params=t}},{key:"get",value:function(e){for(var t=null,r=0;r<this.params.length;r++)if(this.params[r][0]===e){t=this.params[r][1];break}return t}},{key:"getAll",value:function(e){var t=[];return this.params.forEach(function(r){r[0]===e&&t.push(r[1])}),t}},{key:"has",value:function(e){for(var t=!1,r=0;r<this.params.length;r++)if(this.params[r][0]===e){t=!0;break}return t}},{key:"set",value:function(e,t){var r=!1,n=[];this.params.forEach(function(i){i[0]!==e||r?i[0]!==e&&n.push(i):(i[1]=t,n.push(i),r=!0)}),this.params=n}},{key:"toString",value:function(){return this.params.reduce(function(e,t,r){return""+e+(0===r?"":"&")+t[0]+"="+t[1]},"")}},{key:"entries",get:function(){return this.params}}]),e}(),e("UriSearchParams",a),s=function(){function e(){var r=arguments.length<=0||void 0===arguments[0]?"":arguments[0];if(i(this,e),"string"!=typeof r)throw new TypeError("Failed to construct 'URL': The supplied URL must be a string");var n=t(r),o="undefined"!=typeof n.protocol&&""!==n.protocol,s="undefined"!=typeof n.hostname&&""!==n.hostname;if(o&&!s||!o&&s)throw new TypeError("Failed to construct 'URL': Protocol and hostname must be supplied together");o||s||(this.hostless=!0),this.parts=n,this.params=new a(this.parts.search)}return n(e,[{key:"toString",value:function(){var e="";return this.hostless||(e=this.protocol+"//",this.username&&""!==this.username&&(e=""+e+this.username,this.password&&""!==this.password&&(e=e+":"+this.password),e+="@")),e=""+e+this.host+this.pathname,this.search&&""!==this.search&&(e=""+e+this.search),this.hash&&""!==this.hash&&(e=""+e+this.hash),e}},{key:"protocol",get:function(){return this.parts.protocol.toLowerCase()},set:function(e){this.parts.protocol=e}},{key:"hostname",get:function(){return this.parts.hostname},set:function(e){this.parts.hostname=e}},{key:"port",get:function(){return this.parts.port||""},set:function(e){this.parts.port=e}},{key:"pathname",get:function(){return this.parts.pathname||"/"},set:function(e){this.parts.pathname=e}},{key:"search",get:function(){return 0===this.params.entries.length?"":"?"+this.params.toString()},set:function(e){this.parts.search=e,this.params=new a(e)}},{key:"hash",get:function(){return this.parts.hash||""},set:function(e){this.parts.hash=e}},{key:"username",get:function(){return this.parts.username||""},set:function(e){this.parts.username=e}},{key:"password",get:function(){return this.parts.password||""},set:function(e){this.parts.password=e}},{key:"href",get:function(){return this.toString()},set:function(e){this.parts=t(e),this.search=this.parts.search}},{key:"host",get:function(){var e=this.hostname.toLowerCase();return this.port&&(e=e+":"+this.port),e},set:function(e){var t=e.split(":");this.hostname=t[0],t.length>1?this.port=t[1]:this.port=""}},{key:"origin",get:function(){return this.protocol+"//"+this.host}},{key:"searchParams",get:function(){return this.params},set:function(e){this.params=e,this.parts.search="?"+e.toString()}}]),e}(),e("UriParser",s)}}}),e.register("6a",["8","9","13","69","2e"],function(e){var t,r,n,i,o,a;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e.stringUtility},function(e){i=e.UriParser},function(e){o=e["default"]}],execute:function(){"use strict";a=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0];r(this,e),this.parsedUrl=new i(t)}return t(e,[{key:"removeQueryParam",value:function(e){return this.parsedUrl.searchParams["delete"](e),this}},{key:"addQueryParam",value:function(e,t){return this.parsedUrl.searchParams.append(e,encodeURIComponent(t)),this}},{key:"addQueryParams",value:function(e){var t=this;return o(e).forEach(function(r){t.addQueryParam(r,e[r])}),this}},{key:"addSegments",value:function(){for(var e="",t=arguments.length,r=Array(t),i=0;t>i;i++)r[i]=arguments[i];r.forEach(function(t){Array.isArray(t)?t.forEach(function(t){t=n.leftTrim(t,"/"),e=e+"/"+t}):(t=n.leftTrim(t,"/"),e=e+"/"+t)});var o=this.parsedUrl.pathname;return"/"===o&&(o=""),this.parsedUrl.pathname=""+o+e,this}},{key:"withProtocol",value:function(e){return this.parsedUrl.protocol=e,this}},{key:"withHostname",value:function(e){return this.parsedUrl.hostname=e,this}},{key:"toString",value:function(){return this.parsedUrl.toString()}},{key:"protocol",get:function(){return this.parsedUrl.protocol}},{key:"hostname",get:function(){return this.parsedUrl.hostname}},{key:"origin",get:function(){return this.parsedUrl.origin}}]),e}(),e("Uri",a)}}}),e.registerDynamic("50",[],!0,function(e,t,r){var n={}.toString;return r.exports=function(e){return n.call(e).slice(8,-1)},r.exports}),e.registerDynamic("6b",["50"],!0,function(e,t,r){var n=e("50");return r.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)},r.exports}),e.registerDynamic("4b",["6b","3c"],!0,function(e,t,r){var n=e("6b"),i=e("3c");return r.exports=function(e){return n(i(e))},r.exports}),e.registerDynamic("6c",["4b","6d"],!0,function(e,t,r){var n=e("4b");return e("6d")("getOwnPropertyDescriptor",function(e){return function(t,r){return e(n(t),r)}}),r.exports}),e.registerDynamic("6e",["41","6c"],!0,function(e,t,r){var n=e("41");return e("6c"),r.exports=function(e,t){return n.getDesc(e,t)},r.exports}),e.registerDynamic("6f",["6e"],!0,function(e,t,r){return r.exports={"default":e("6e"),__esModule:!0},r.exports}),e.registerDynamic("18",["6f"],!0,function(e,t,r){"use strict";var n=e("6f")["default"];return t["default"]=function(e,t,r){for(var i=!0;i;){var o=e,a=t,s=r;i=!1,null===o&&(o=Function.prototype);var u=n(o,a);if(void 0!==u){if("value"in u)return u.value;var c=u.get;if(void 0===c)return;return c.call(s)}var f=Object.getPrototypeOf(o);if(null===f)return;e=f,t=a,r=s,i=!0,u=f=void 0}},t.__esModule=!0,r.exports}),e.registerDynamic("70",["41"],!0,function(e,t,r){var n=e("41");return r.exports=function(e,t){return n.create(e,t)},r.exports}),e.registerDynamic("71",["70"],!0,function(e,t,r){return r.exports={"default":e("70"),__esModule:!0},r.exports}),e.registerDynamic("59",[],!0,function(e,t,r){return r.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e},r.exports}),e.registerDynamic("4e",["59"],!0,function(e,t,r){var n=e("59");return r.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e},r.exports}),e.registerDynamic("67",["41","59","4e","1b"],!0,function(e,t,r){var n=e("41").getDesc,i=e("59"),o=e("4e"),a=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};return r.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,i){try{i=e("1b")(Function.call,n(Object.prototype,"__proto__").set,2),i(t,[]),r=!(t instanceof Array)}catch(o){r=!0}return function(e,t){return a(e,t),r?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:a},r.exports}),e.registerDynamic("72",["1c","67"],!0,function(e,t,r){var n=e("1c");return n(n.S,"Object",{setPrototypeOf:e("67").set}),r.exports}),e.registerDynamic("73",["72","25"],!0,function(e,t,r){return e("72"),r.exports=e("25").Object.setPrototypeOf,r.exports}),e.registerDynamic("74",["73"],!0,function(e,t,r){return r.exports={"default":e("73"),__esModule:!0},r.exports}),e.registerDynamic("19",["71","74"],!0,function(e,t,r){"use strict";var n=e("71")["default"],i=e("74")["default"];return t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=n(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i?i(e,t):e.__proto__=t)},t.__esModule=!0,r.exports}),e.register("75",["9","18","19"],function(e){var t,r,n,i;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e["default"]}],execute:function(){"use strict";i=function(e){function i(e){t(this,i),r(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),this.message=e,this.stack=(new Error).stack,this.name=this.constructor.name}return n(i,e),i}(Error),e("MTError",i)}}}),e.register("76",["9","18","19","75"],function(e){var t,r,n,i,o;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e["default"]},function(e){i=e.MTError}],execute:function(){"use strict";o=function(e){function i(e){var n=arguments.length<=1||void 0===arguments[1]?"":arguments[1];t(this,i);var o=void 0,a=void 0;if("responseText"in e)try{o=JSON.parse(e.responseText),a=o.message}catch(s){a=e.responseText||n}a=a||"Status "+e.status+" from request",r(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,a),this.errorCode=e.status,this.response=o||null}return n(i,e),i}(i),e("XhrError",o)}}}),e.register("5",["8","9","14","76","77","2e","6a"],function(e){function t(e){return new a(function(t,r){(e.status<200||e.status>=300)&&304!==e.status?r(new s(e)):t(e)})}function r(e){return a.resolve(e.responseText||"")}function n(e){var t=this;return new a(function(r,n){var i=new XMLHttpRequest;i.withCredentials=!0;var o={_:Date.now()};t.parseJson&&(o["dream.out.format"]="json");var a=new f(t.withParams(o).getUrl());i.open(e.verb,a.toString()),i.setRequestHeader("X-Deki-Client","mindtouch-martian");var s=t.settings.get("origin");if(s&&""!==s){var u=new f(s);a.origin===u.origin&&i.setRequestHeader("X-Deki-Requested-With","XMLHttpRequest")}c(t.headers).forEach(function(e){i.setRequestHeader(e,t.headers[e])}),"mime"in e&&i.setRequestHeader("Content-Type",e.mime),t._timeout&&(i.timeout=t._timeout),i.onload=function(){r(i)},i.onerror=function(){n(i)},i.ontimeout=function(){n(i)},"value"in e&&null!==e.value?i.send(e.value):i.send()})}var i,o,a,s,u,c,f,l;return{setters:[function(e){i=e["default"]},function(e){o=e["default"]},function(e){a=e["default"]},function(e){s=e.XhrError},function(e){u=e.Settings},function(e){c=e["default"]},function(e){f=e.Uri}],execute:function(){"use strict";l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?new u:arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,e),this.settings=t;var n=this.settings.get("host"),i=this.settings.get("token"),a=new f(n);"constructionParams"in r?("segments"in r.constructionParams&&a.addSegments(r.constructionParams.segments),"query"in r.constructionParams&&a.addQueryParams(r.constructionParams.query),"excludeQuery"in r.constructionParams&&a.removeQueryParam(r.constructionParams.excludeQuery),"timeout"in r.constructionParams&&(this._timeout=r.constructionParams.timeout)):r.constructionParams={},this.url=a,this.headers=r.headers||{},i&&""!==i&&(this.headers["X-Deki-Token"]=i),this.parseJson=r.raw!==!0}return i(e,[{key:"getUrl",value:function(){return this.url.toString()}},{key:"getHeaders",value:function(){return this.headers}},{key:"at",value:function(){for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];var i=[];r.forEach(function(e){i.push(e.toString())});var o=this.settings.clone({host:this.url.toString()});return new e(o,{headers:this.headers,constructionParams:{segments:r}})}},{key:"withParam",value:function(t,r){var n={};n[t]=r;var i=this.settings.clone({host:this.url.toString()});return new e(i,{headers:this.headers,constructionParams:{query:n}})}},{key:"withParams",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=this.settings.clone({host:this.url.toString()});return new e(r,{headers:this.headers,constructionParams:{query:t}})}},{key:"withoutParam",value:function(t){var r=this.settings.clone({host:this.url.toString()});return new e(r,{headers:this.headers,constructionParams:{excludeQuery:t}})}},{key:"_copyHeaders",value:function(){var e=this,t={};return c(this.headers).forEach(function(r){t[r]=e.headers[r]}),t}},{key:"withHeader",value:function(t,r){var n=this._copyHeaders();n[t]=r;var i=this.settings.clone({host:this.url.toString()});return new e(i,{headers:n})}},{key:"withHeaders",value:function(t){var r=this._copyHeaders();c(t).forEach(function(e){r[e]=t[e]});var n=this.settings.clone({host:this.url.toString()});return new e(n,{headers:r})}},{key:"withoutHeader",value:function(t){var r=this._copyHeaders();delete r[t];var n=this.settings.clone({host:this.url.toString()});return new e(n,{headers:r})}},{key:"get",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"GET":arguments[0];return this.getRaw(e).then(t).then(r)}},{key:"getRaw",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"GET":arguments[0];return n.call(this,{verb:e})}},{key:"post",value:function(e,n){return this.postRaw(e,n).then(t).then(r)}},{key:"postRaw",value:function(e,t){return n.call(this,{verb:"POST",value:e,mime:t})}},{key:"put",value:function(e,t){return this.withHeader("X-HTTP-Method-Override","PUT").post(e,t)}},{key:"putRaw",value:function(e,t){return this.withHeader("X-HTTP-Method-Override","PUT").postRaw(e,t)}},{key:"head",value:function(){return this.get("HEAD")}},{key:"headRaw",value:function(){return this.getRaw("HEAD")}},{key:"options",value:function(){return this.get("OPTIONS")}},{key:"optionsRaw",value:function(){return this.getRaw("OPTIONS")}},{key:"del",value:function(){return this.withHeader("X-HTTP-Method-Override","DELETE").post(null,null)}},{key:"delRaw",value:function(){return this.withHeader("X-HTTP-Method-Override","DELETE").postRaw(null,null)}},{key:"delete",value:function(){return this.del()}}]),e}(),e("Plug",l)}}}),e.register("13",[],function(e){"use strict";var t;return{setters:[],execute:function(){t={isBlank:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return/^\s*$/.test(this.makeString(e))},makeString:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return"string"!=typeof e?String(e):e},leftTrim:function(e){var t=arguments.length<=1||void 0===arguments[1]?"\\s":arguments[1];return e=this.makeString(e),e.replace(new RegExp("^"+t+"+"),"")},startsWith:function(e,t){return e=this.makeString(e),0===e.lastIndexOf(t,0)},stringLeft:function(e,t){if(!t)return e;e=this.makeString(e),t=this.makeString(t);var r=e.indexOf(t);return r>=0?e.slice(0,r):e},stringRight:function(e,t){if(!t)return e;e=this.makeString(e),t=this.makeString(t);var r=e.indexOf(t);return r>=0?e.slice(r+t.length,e.length):e},words:function(e){var t=arguments.length<=1||void 0===arguments[1]?/\s+/:arguments[1];return e=this.makeString(e),e.split(t)}},e("stringUtility",t)}}}),e.register("6",[],function(e){"use strict";var t;return{setters:[],execute:function(){t={xmlRequestType:"application/xml; charset=utf-8",textRequestType:"text/plain; charset=utf-8",jsonRequestType:"application/json; charset=utf-8",searchEscape:function(e){var t=e.toString(),r=["\\","+","-","&","|","!","(",")","{","}","[","]","^",'"',"~","*","?",":"];return r.forEach(function(e){var r=new RegExp("\\"+e,"g");t=t.replace(r,"\\"+e)}),t},getResourceId:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],r=null;return r="string"==typeof e&&e!==t?"="+encodeURIComponent(encodeURIComponent(e)):e},getFilenameId:function(e){if("string"!=typeof e)throw new Error("The filename must be a string");var t=encodeURIComponent(encodeURIComponent(e));return e.indexOf(".")<=0&&(t="="+t),t}},e("utility",t)}}}),e.register("78",["5","6","8","9","13"],function(e){var t,r,n,i,o,a;return{setters:[function(e){t=e.Plug},function(e){r=e.utility},function(e){n=e["default"]},function(e){i=e["default"]},function(e){o=e.stringUtility}],execute:function(){"use strict";a=function(){function e(r){i(this,e),this._plug=new t(r).at("@api","deki","workflow")}return n(e,[{key:"submitFeedback",value:function(e){var t=e.path||o.leftTrim(window.location.pathname,"/"),n=JSON.stringify({_path:encodeURIComponent(t),userEmail:e.userEmail,pageTitle:e.pageTitle,siteUrl:e.siteUrl,content:e.content,contactAllowed:e.contactAllowed});return this._plug.at("submit-feedback").post(n,r.jsonRequestType)}},{key:"requestArticle",value:function(e){var t=JSON.stringify(e);return this._plug.at("submit-article-request").post(t,r.jsonRequestType)}},{key:"submitIssue",value:function(e){var t=JSON.stringify(e);return this._plug.at("submit-issue").post(t,r.jsonRequestType)}},{key:"contactSupport",value:function(e){var t=JSON.stringify(e);return this._plug.at("contact-support").post(t,r.jsonRequestType)}}]),
e}(),e("WorkflowManager",a)}}}),e.register("79",["8","9","78"],function(e){var t,r,n,i;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e.WorkflowManager}],execute:function(){"use strict";i=function(){function e(t){r(this,e),this._manager=new n(t)}return t(e,[{key:"submitIssue",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return"email"in e&&(e._email=e.email,delete e.email),"path"in e&&(e._path=e.path,delete e.path),"search"in e&&(e._search=e.search,delete e.search),this._manager.submitIssue(e)}},{key:"requestArticle",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return"email"in e&&(e._email=e.email,delete e.email),this._manager.requestArticle(e)}},{key:"contactSupport",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return"email"in e&&(e._email=e.email,delete e.email),"path"in e&&(e._path=e.path,delete e.path),"search"in e&&(e._search=e.search,delete e.search),this._manager.contactSupport(e)}}]),e}(),e("Workflows",i)}}}),e.registerDynamic("41",[],!0,function(e,t,r){var n=Object;return r.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach},r.exports}),e.registerDynamic("7a",["41"],!0,function(e,t,r){var n=e("41");return r.exports=function(e,t,r){return n.setDesc(e,t,r)},r.exports}),e.registerDynamic("31",["7a"],!0,function(e,t,r){return r.exports={"default":e("7a"),__esModule:!0},r.exports}),e.registerDynamic("8",["31"],!0,function(e,t,r){"use strict";var n=e("31")["default"];return t["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),n(e,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t.__esModule=!0,r.exports}),e.registerDynamic("9",[],!0,function(e,t,r){"use strict";return t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.__esModule=!0,r.exports}),e.registerDynamic("3c",[],!0,function(e,t,r){return r.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},r.exports}),e.registerDynamic("1d",["3c"],!0,function(e,t,r){var n=e("3c");return r.exports=function(e){return Object(n(e))},r.exports}),e.registerDynamic("57",[],!0,function(e,t,r){var n=this,n=r.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();return"number"==typeof __g&&(__g=n),r.exports}),e.registerDynamic("54",[],!0,function(e,t,r){return r.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},r.exports}),e.registerDynamic("1b",["54"],!0,function(e,t,r){var n=e("54");return r.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}},r.exports}),e.registerDynamic("1c",["57","25","1b"],!0,function(e,t,r){var n=this,n=e("57"),i=e("25"),o=e("1b"),a="prototype",s=function(e,t,r){var u,c,f,l=e&s.F,d=e&s.G,p=e&s.S,h=e&s.P,m=e&s.B,g=e&s.W,v=d?i:i[t]||(i[t]={}),y=d?n:p?n[t]:(n[t]||{})[a];d&&(r=t);for(u in r)c=!l&&y&&u in y,c&&u in v||(f=c?y[u]:r[u],v[u]=d&&"function"!=typeof y[u]?r[u]:m&&c?o(f,n):g&&y[u]==f?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(f):h&&"function"==typeof f?o(Function.call,f):f,h&&((v[a]||(v[a]={}))[u]=f))};return s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,r.exports=s,r.exports}),e.registerDynamic("5f",[],!0,function(e,t,r){return r.exports=function(e){try{return!!e()}catch(t){return!0}},r.exports}),e.registerDynamic("6d",["1c","25","5f"],!0,function(e,t,r){var n=e("1c"),i=e("25"),o=e("5f");return r.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o(function(){r(1)}),"Object",a)},r.exports}),e.registerDynamic("7b",["1d","6d"],!0,function(e,t,r){var n=e("1d");return e("6d")("keys",function(e){return function(t){return e(n(t))}}),r.exports}),e.registerDynamic("25",[],!0,function(e,t,r){var n=r.exports={version:"1.2.6"};return"number"==typeof __e&&(__e=n),r.exports}),e.registerDynamic("7c",["7b","25"],!0,function(e,t,r){return e("7b"),r.exports=e("25").Object.keys,r.exports}),e.registerDynamic("2e",["7c"],!0,function(e,t,r){return r.exports={"default":e("7c"),__esModule:!0},r.exports}),e.register("77",["8","9","2e"],function(e){var t,r,n,i,o;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e["default"]}],execute:function(){"use strict";i={},o=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?i:arguments[0];r(this,e),this.properties=t}return t(e,null,[{key:"defaults",set:function(e){i=e}}]),t(e,[{key:"clone",value:function(){var t=this,r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=r;return n(this.properties).forEach(function(e){e in r||(i[e]=t.properties[e])}),new e(i)}},{key:"get",value:function(e){return this.properties[e]}},{key:"set",value:function(e,t){this.properties[e]=t}},{key:"getProperties",value:function(){return this.properties}}]),e}(),e("Settings",o)}}}),e.register("7d",["8","9","10","15","38","77","79"],function(e){var t,r,n,i,o,a,s,u;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e.User},function(e){i=e.Search},function(e){o=e.Article},function(e){a=e.Settings},function(e){s=e.Workflows}],execute:function(){"use strict";u=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(r(this,e),!("host"in t))throw new Error("A MindTouch host (e.g. https://example.mindtouch.us) is required to initialize the GeniusLink SDK connection.");if(!("token"in t))throw new Error("A browser developer token must be supplied to initialize the GeniusLink SDK connection.");if("string"!=typeof t.token)throw new Error("An invalid browser developer token was used to initialize the GeniusLink SDK connection.");var u=t.host,c=u.match(/^http(s?):/),f=c&&Array.isArray(c)?c[0]:window.location.protocol;if(c||(u=f+"//"+u),"http:"===f&&"https:"===window.location.protocol)throw new Error("An insecure GeniusLink SDK connection (http) cannot be made from a secure web page (https).");var l=t.token.trim();if(""===l)throw new Error("An invalid browser developer token was used to initialize the GeniusLink SDK connection.");this.settings=new a({host:u,token:l}),this.userLib=new n(this.settings),this.searchLib=new i(this.settings),this.articleLib=new o(this.settings),this.workflows=new s(this.settings)}return t(e,[{key:"configuration",get:function(){return this.settings.getProperties()}},{key:"search",get:function(){return this.searchLib.search.bind(this.searchLib)}},{key:"User",get:function(){return this.userLib}},{key:"Article",get:function(){return this.articleLib}},{key:"Workflows",get:function(){return this.workflows}}]),e}(),e("GeniusLink",u)}}}),e.register("1",["7d"],function(e){"use strict";var t;return{setters:[function(e){t=e.GeniusLink}],execute:function(){window.GeniusLink=t||{}}}})})(function(e){e()});
//# sourceMappingURL=geniuslink.min.js.map
