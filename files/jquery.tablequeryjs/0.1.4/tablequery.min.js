/*! 
 * tablequeryjs v0.1.4
 * https://github.com/asimihsan/tablequeryjs
 * Date: 2013-09-14
 *
 * Copyright 2013 Asim Ihsan
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

 /** 
  * Lo-Dash 1.3.1 (Custom Build) <http://lodash.com/> 
  * Build: `lodash modern -o ./dist/lodash.js` 
  * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/> 
  * Based on Underscore.js 1.4.4 <http://underscorejs.org/> 
  * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc. 
  * Available under MIT license <http://lodash.com/license> 
  */ 

 /** Backbone.js 1.0.0
  *
  * (c) 2010-2011 Jeremy Ashkenas, DocumentCloud Inc.
  * (c) 2011-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
  * Backbone may be freely distributed under the MIT license.
  * For all details and documentation:
  * http://backbonejs.org
  */

 //! moment.js
 //! version : 2.2.1
 //! authors : Tim Wood, Iskren Chernev, Moment.js contributors
 //! license : MIT
 //! momentjs.com
!function(a,b){b.tablequery=a,function(c){function d(a,b,c){for(var d=(c||0)-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function e(a,b){var c=typeof b;if(a=a.cache,"boolean"==c||null==b)return a[b];"number"!=c&&"string"!=c&&(c="object");var e="number"==c?b:Q+b;return a=a[c]||(a[c]={}),"object"==c?a[e]&&d(a[e],b)>-1?0:-1:a[e]?0:-1}function f(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:Q+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a)==this.array.length&&(b[c]=!1):e[d]=!0}}function g(a){var b=-1,c=a.length,d=i();d["false"]=d["null"]=d["true"]=d.undefined=!1;var e=i();for(e.array=a,e.cache=d,e.push=f;++b<c;)e.push(a[b]);return d.object===!1?(k(e),null):e}function h(){return M.pop()||[]}function i(){return N.pop()||{array:null,cache:null,"false":!1,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1}}function j(a){a.length=0,M.length<S&&M.push(a)}function k(a){var b=a.cache;b&&k(b),a.array=a.cache=a.object=a.number=a.string=null,N.length<S&&N.push(a)}function l(){}function m(){var a=(a=l.indexOf)===B?d:a;return a}function n(a){return function(b,c,d,e){return"boolean"!=typeof c&&null!=c&&(e=d,d=e&&e[c]===b?L:c,c=!1),null!=d&&(d=l.createCallback(d,e)),a(b,c,d,e)}}function o(a){return mb.call(a)==U}function p(a,b,c,d,e,f){var g=c===P;if("function"==typeof c&&!g){c=l.createCallback(c,d,2);var i=c(a,b);if("undefined"!=typeof i)return!!i}if(a===b)return 0!==a||1/a==1/b;var k=typeof a,m=typeof b;if(a===a&&(!a||"function"!=k&&"object"!=k)&&(!b||"function"!=m&&"object"!=m))return!1;if(null==a||null==b)return a===b;var n=mb.call(a),o=mb.call(b);if(n==U&&(n=Z),o==U&&(o=Z),n!=o)return!1;switch(n){case W:case X:return+a==+b;case Y:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case $:case _:return a==String(b)}var r=n==V;if(!r){if(kb.call(a,"__wrapped__ ")||kb.call(b,"__wrapped__"))return p(a.__wrapped__||a,b.__wrapped__||b,c,d,e,f);if(n!=Z)return!1;var s=a.constructor,t=b.constructor;if(s!=t&&!(q(s)&&s instanceof s&&q(t)&&t instanceof t))return!1}var u=!e;e||(e=h()),f||(f=h());for(var v=e.length;v--;)if(e[v]==a)return f[v]==b;var w=0;if(i=!0,e.push(a),f.push(b),r){if(v=a.length,w=b.length,i=w==a.length,!i&&!g)return i;for(;w--;){var x=v,y=b[w];if(g)for(;x--&&!(i=p(a[x],y,c,d,e,f)););else if(!(i=p(a[w],y,c,d,e,f)))break}return i}return Bb(b,function(b,g,h){return kb.call(h,g)?(w++,i=kb.call(a,g)&&p(a[g],b,c,d,e,f)):void 0}),i&&!g&&Bb(a,function(a,b,c){return kb.call(c,b)?i=--w>-1:void 0}),u&&(j(e),j(f)),i}function q(a){return"function"==typeof a}function r(a){return!(!a||!ab[typeof a])}function s(a){return"number"==typeof a||mb.call(a)==Y}function t(a){return"string"==typeof a||mb.call(a)==_}function u(a){return"undefined"==typeof a}function v(a){for(var b=-1,c=yb(a),d=c.length,e=Array(d);++b<d;)e[b]=a[c[b]];return e}function w(a,b,c){var d=-1,e=m(),f=a?a.length:0,g=!1;return c=(0>c?rb(0,f+c):c)||0,f&&"number"==typeof f?g=(t(a)?a.indexOf(b,c):e(a,b,c))>-1:zb(a,function(a){return++d>=c?!(g=a===b):void 0}),g}function x(a,b,c){var d=[];b=l.createCallback(b,c);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f;){var g=a[e];b(g,e,a)&&d.push(g)}else zb(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function y(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:l.createCallback(b,c),"number"==typeof e)for(;++d<e&&b(a[d],d,a)!==!1;);else zb(a,b);return a}function z(a,b,c){var d=-1,e=a?a.length:0;if(b=l.createCallback(b,c),"number"==typeof e)for(var f=Array(e);++d<e;)f[d]=b(a[d],d,a);else f=[],zb(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function A(a,b,c){var d;b=l.createCallback(b,c);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&!(d=b(a[e],e,a)););else zb(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function B(a,b,c){if("number"==typeof c){var e=a?a.length:0;c=0>c?rb(0,e+c):c||0}else if(c){var f=D(a,b);return a[f]===b?f:-1}return a?d(a,b,c):-1}function C(a){for(var b=arguments,c=b.length,f=-1,i=h(),l=-1,n=m(),o=a?a.length:0,p=[],q=h();++f<c;){var r=b[f];i[f]=n===d&&(r?r.length:0)>=R&&g(f?b[f]:q)}a:for(;++l<o;){var s=i[0];if(r=a[l],(s?e(s,r):n(q,r))<0){for(f=c,(s||q).push(r);--f;)if(s=i[f],(s?e(s,r):n(b[f],r))<0)continue a;p.push(r)}}for(;c--;)s=i[c],s&&k(s);return j(i),j(q),p}function D(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?l.createCallback(c,d,1):J,b=c(b);f>e;){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function E(a){return wb(a)||(arguments[0]=a?sb.call(a):eb),Cb(ib.apply(eb,arguments))}function F(a,b,c){if(null==a)return J;var d=typeof a;if("function"!=d){if("object"!=d)return function(b){return b[a]};var e=yb(a);return function(b){for(var c=e.length,d=!1;c--&&(d=p(b[e[c]],a[e[c]],P)););return d}}return"undefined"==typeof b||T&&!T.test(jb.call(a))?a:1===c?function(c){return a.call(b,c)}:2===c?function(c,d){return a.call(b,c,d)}:4===c?function(c,d,e,f){return a.call(b,c,d,e,f)}:function(c,d,e){return a.call(b,c,d,e)}}function G(a,b,c){function d(){hb(m),hb(n),j=0,m=n=null}function e(){var b=o&&(!p||j>1);d(),b&&(l!==!1&&(k=new Date),h=a.apply(i,g))}function f(){d(),(o||l!==b)&&(k=new Date,h=a.apply(i,g))}var g,h,i,j=0,k=0,l=!1,m=null,n=null,o=!0;if(b=rb(0,b||0),c===!0){var p=!0;o=!1}else r(c)&&(p=c.leading,l="maxWait"in c&&rb(b,c.maxWait||0),o="trailing"in c?c.trailing:o);return function(){if(g=arguments,i=this,j++,hb(n),l===!1)p&&2>j&&(h=a.apply(i,g));else{var c=new Date;m||p||(k=c);var d=l-(c-k);0>=d?(hb(m),m=null,k=c,h=a.apply(i,g)):m||(m=lb(f,d))}return b!==l&&(n=lb(e,b)),h}}function H(a,b){function c(){var d=c.cache,e=Q+(b?b.apply(this,arguments):arguments[0]);return kb.call(d,e)?d[e]:d[e]=a.apply(this,arguments)}return c.cache={},c}function I(a){var b,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function J(a){return a}function K(a){var b=++O;return String(null==a?"":a)+b}var L,M=[],N=[],O=0,P={},Q=+new Date+"",R=75,S=40,T=(T=/\bthis\b/)&&T.test(function(){return this})&&T,U="[object Arguments]",V="[object Array]",W="[object Boolean]",X="[object Date]",Y="[object Number]",Z="[object Object]",$="[object RegExp]",_="[object String]",ab={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},bb=ab[typeof a]&&a,cb=ab[typeof module]&&module&&module.exports==bb&&module,db=ab[typeof b]&&b;!db||db.global!==db&&db.window!==db||(c=db);var eb=[],fb=Object.prototype;String.prototype,c._;var gb=RegExp("^"+String(fb.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),hb=(Math.ceil,c.clearTimeout),ib=eb.concat,jb=(Math.floor,Function.prototype.toString),kb=fb.hasOwnProperty,lb=(eb.push,fb.propertyIsEnumerable,c.setTimeout),mb=fb.toString,nb=gb.test(nb=mb.bind)&&nb,ob=gb.test(ob=Object.create)&&ob,pb=gb.test(pb=Array.isArray)&&pb,qb=(c.isFinite,c.isNaN,gb.test(qb=Object.keys)&&qb),rb=Math.max,sb=(Math.min,Math.random,eb.slice),tb=gb.test(c.attachEvent),ub=nb&&!/\n|true/.test(nb+tb),vb=l.support={};vb.fastBind=nb&&!ub;var wb=pb,xb=function(a){var b,c=a,d=[];if(!c)return d;if(!ab[typeof a])return d;for(b in c)kb.call(c,b)&&d.push(b);return d},yb=qb?function(a){return r(a)?qb(a):[]}:xb,zb=function(a,b,c){var d,e=a,f=e;if(!e)return f;b=b&&"undefined"==typeof c?b:l.createCallback(b,c);for(var g=-1,h=ab[typeof e]&&yb(e),i=h?h.length:0;++g<i;)if(d=h[g],b(e[d],d,a)===!1)return f;return f},Ab=function(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i="number"==typeof c?2:g.length;if(i>3&&"function"==typeof g[i-2])var j=l.createCallback(g[--i-1],g[i--],2);else i>2&&"function"==typeof g[i-1]&&(j=g[--i]);for(;++h<i;)if(e=g[h],e&&ab[typeof e])for(var k=-1,m=ab[typeof e]&&yb(e),n=m?m.length:0;++k<n;)d=m[k],f[d]=j?j(f[d],e[d]):e[d];return f},Bb=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!ab[typeof e])return f;b=b&&"undefined"==typeof c?b:l.createCallback(b,c);for(d in e)if(b(e[d],d,a)===!1)return f;return f},Cb=n(function(a,b,c){var f=-1,i=m(),l=a?a.length:0,n=[],o=!b&&l>=R&&i===d,p=c||o?h():n;if(o){var q=g(p);q?(i=e,p=q):(o=!1,p=c?p:(j(p),n))}for(;++f<l;){var r=a[f],s=c?c(r,f,a):r;(b?!f||p[p.length-1]!==s:i(p,s)<0)&&((c||o)&&p.push(s),n.push(r))}return o?(j(p.array),k(p)):c&&j(p),n});l.assign=Ab,l.createCallback=F,l.debounce=G,l.filter=x,l.forEach=y,l.forIn=Bb,l.intersection=C,l.keys=yb,l.map=z,l.memoize=H,l.once=I,l.union=E,l.uniq=Cb,l.values=v,l.collect=z,l.each=y,l.extend=Ab,l.select=x,l.unique=Cb,l.contains=w,l.identity=J,l.indexOf=B,l.isArguments=o,l.isArray=wb,l.isEqual=p,l.isFunction=q,l.isNumber=s,l.isObject=r,l.isString=t,l.isUndefined=u,l.some=A,l.sortedIndex=D,l.uniqueId=K,l.any=A,l.include=w,l.VERSION="1.3.1","function"==typeof define&&"object"==typeof define.amd&&define.amd?(c._=l,define(function(){return l})):bb&&!bb.nodeType?cb?(cb.exports=l)._=l:bb._=l:c._=l}(this);var c=[];c.push;var d=c.slice;c.splice,_=tablequery._;var e={on:function(a,b,c){if(!g(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!g(this,"once",a,[b,c])||!b)return this;var d=this,e=_.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,f,h,i,j,k,l;if(!this._events||!g(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(h=a?[a]:_.keys(this._events),i=0,j=h.length;j>i;i++)if(a=h[i],f=this._events[a]){if(this._events[a]=d=[],b||c)for(k=0,l=f.length;l>k;k++)e=f[k],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=d.call(arguments,1);if(!g(this,"trigger",a,b))return this;var c=this._events[a],e=this._events.all;return c&&h(c,b),e&&h(e,arguments),this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}},f=/\s+/,g=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(f.test(c)){for(var g=c.split(f),h=0,i=g.length;i>h;h++)a[b].apply(a,[g[h]].concat(d));return!1}return!0},h=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},i={listenTo:"on",listenToOnce:"once"};_.each(i,function(a,b){e[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),f=b._listenerId||(b._listenerId=_.uniqueId("l"));return e[f]=b,"object"==typeof c&&(d=this),b[a](c,d,this),this}}),tablequery.Events=e,function(a){function b(a,b){return function(c){return i(a.call(this,c),b)}}function c(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function d(){}function e(a){g(this,a)}function f(a){var b=a.years||a.year||a.y||0,c=a.months||a.month||a.M||0,d=a.weeks||a.week||a.w||0,e=a.days||a.day||a.d||0,f=a.hours||a.hour||a.h||0,g=a.minutes||a.minute||a.m||0,h=a.seconds||a.second||a.s||0,i=a.milliseconds||a.millisecond||a.ms||0;this._input=a,this._milliseconds=+i+1e3*h+6e4*g+36e5*f,this._days=+e+7*d,this._months=+c+12*b,this._data={},this._bubble()}function g(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function h(a){return 0>a?Math.ceil(a):Math.floor(a)}function i(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function j(a,b,c,d){var e,f,g=b._milliseconds,h=b._days,i=b._months;g&&a._d.setTime(+a._d+g*c),(h||i)&&(e=a.minute(),f=a.hour()),h&&a.date(a.date()+h*c),i&&a.month(a.month()+i*c),g&&!d&&L.updateOffset(a),(h||i)&&(a.minute(e),a.hour(f))}function k(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a,b){var c,d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0;for(c=0;d>c;c++)~~a[c]!==~~b[c]&&f++;return f+e}function m(a){return a?ib[a]||a.toLowerCase().replace(/(.)s$/,"$1"):a}function n(a,b){return b.abbr=a,P[a]||(P[a]=new d),P[a].set(b),P[a]}function o(a){delete P[a]}function p(a){if(!a)return L.fn._lang;if(!P[a]&&Q)try{require("./lang/"+a)}catch(b){return L.fn._lang}return P[a]||L.fn._lang}function q(a){return a.match(/\[.*\]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function r(a){var b,c,d=a.match(T);for(b=0,c=d.length;c>b;b++)d[b]=mb[d[b]]?mb[d[b]]:q(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function s(a,b){return b=t(b,a.lang()),jb[b]||(jb[b]=r(b)),jb[b](a)}function t(a,b){function c(a){return b.longDateFormat(a)||a}for(var d=5;d--&&(U.lastIndex=0,U.test(a));)a=a.replace(U,c);return a}function u(a,b){switch(a){case"DDDD":return X;case"YYYY":return Y;case"YYYYY":return Z;case"S":case"SS":case"SSS":case"DDD":return W;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return $;case"a":case"A":return p(b._l)._meridiemParse;case"X":return bb;case"Z":case"ZZ":return _;case"T":return ab;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return V;default:return new RegExp(a.replace("\\",""))}}function v(a){var b=(_.exec(a)||[])[0],c=(b+"").match(fb)||["-",0,0],d=+(60*c[1])+~~c[2];return"+"===c[0]?-d:d}function w(a,b,c){var d,e=c._a;switch(a){case"M":case"MM":null!=b&&(e[1]=~~b-1);break;case"MMM":case"MMMM":d=p(c._l).monthsParse(b),null!=d?e[1]=d:c._isValid=!1;break;case"D":case"DD":null!=b&&(e[2]=~~b);break;case"DDD":case"DDDD":null!=b&&(e[1]=0,e[2]=~~b);break;case"YY":e[0]=~~b+(~~b>68?1900:2e3);break;case"YYYY":case"YYYYY":e[0]=~~b;break;case"a":case"A":c._isPm=p(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[3]=~~b;break;case"m":case"mm":e[4]=~~b;break;case"s":case"ss":e[5]=~~b;break;case"S":case"SS":case"SSS":e[6]=~~(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=v(b)}null==b&&(c._isValid=!1)}function x(a){var b,c,d,e=[];if(!a._d){for(d=z(a),b=0;3>b&&null==a._a[b];++b)a._a[b]=e[b]=d[b];for(;7>b;b++)a._a[b]=e[b]=null==a._a[b]?2===b?1:0:a._a[b];e[3]+=~~((a._tzm||0)/60),e[4]+=~~((a._tzm||0)%60),c=new Date(0),a._useUTC?(c.setUTCFullYear(e[0],e[1],e[2]),c.setUTCHours(e[3],e[4],e[5],e[6])):(c.setFullYear(e[0],e[1],e[2]),c.setHours(e[3],e[4],e[5],e[6])),a._d=c}}function y(a){var b=a._i;a._d||(a._a=[b.years||b.year||b.y,b.months||b.month||b.M,b.days||b.day||b.d,b.hours||b.hour||b.h,b.minutes||b.minute||b.m,b.seconds||b.second||b.s,b.milliseconds||b.millisecond||b.ms],x(a))}function z(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function A(a){var b,c,d,e=p(a._l),f=""+a._i;for(d=t(a._f,e).match(T),a._a=[],b=0;b<d.length;b++)c=(u(d[b],a).exec(f)||[])[0],c&&(f=f.slice(f.indexOf(c)+c.length)),mb[d[b]]&&w(d[b],c,a);f&&(a._il=f),a._isPm&&a._a[3]<12&&(a._a[3]+=12),a._isPm===!1&&12===a._a[3]&&(a._a[3]=0),x(a)}function B(a){var b,c,d,f,h,i=99;for(f=0;f<a._f.length;f++)b=g({},a),b._f=a._f[f],A(b),c=new e(b),h=l(b._a,c.toArray()),c._il&&(h+=c._il.length),i>h&&(i=h,d=c);g(a,d)}function C(a){var b,c=a._i,d=cb.exec(c);if(d){for(a._f="YYYY-MM-DD"+(d[2]||" "),b=0;4>b;b++)if(eb[b][1].exec(c)){a._f+=eb[b][0];break}_.exec(c)&&(a._f+=" Z"),A(a)}else a._d=new Date(c)}function D(b){var c=b._i,d=R.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):"string"==typeof c?C(b):k(c)?(b._a=c.slice(0),x(b)):c instanceof Date?b._d=new Date(+c):"object"==typeof c?y(b):b._d=new Date(c)}function E(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function F(a,b,c){var d=O(Math.abs(a)/1e3),e=O(d/60),f=O(e/60),g=O(f/24),h=O(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",O(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,E.apply({},i)}function G(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=L(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function H(a){var b=a._i,c=a._f;return null===b||""===b?null:("string"==typeof b&&(a._i=b=p().preparse(b)),L.isMoment(b)?(a=g({},b),a._d=new Date(+b._d)):c?k(c)?B(a):A(a):D(a),new e(a))}function I(a,b){L.fn[a]=L.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),L.updateOffset(this),this):this._d["get"+c+b]()}}function J(a){L.duration.fn[a]=function(){return this._data[a]}}function K(a,b){L.duration.fn["as"+a]=function(){return+this/b}}for(var L,M,N="2.2.1",O=Math.round,P={},Q="undefined"!=typeof module&&module.exports,R=/^\/?Date\((\-?\d+)/i,S=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,T=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,V=/\d\d?/,W=/\d{1,3}/,X=/\d{3}/,Y=/\d{1,4}/,Z=/[+\-]?\d{1,6}/,$=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_=/Z|[\+\-]\d\d:?\d\d/i,ab=/T/i,bb=/[\+\-]?\d+(\.\d{1,3})?/,cb=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,db="YYYY-MM-DDTHH:mm:ssZ",eb=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],fb=/([\+\-]|\d\d)/gi,gb="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),hb={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ib={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",W:"isoweek",M:"month",y:"year"},jb={},kb="DDD w W M D d".split(" "),lb="M D H h m s w W".split(" "),mb={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return i(this.year()%100,2)},YYYY:function(){return i(this.year(),4)},YYYYY:function(){return i(this.year(),5)},gg:function(){return i(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return i(this.weekYear(),5)},GG:function(){return i(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return i(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return i(~~(this.milliseconds()/10),2)},SSS:function(){return i(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(~~(a/60),2)+":"+i(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(~~(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};kb.length;)M=kb.pop(),mb[M+"o"]=c(mb[M],M);for(;lb.length;)M=lb.pop(),mb[M+M]=b(mb[M],2);for(mb.DDDD=b(mb.DDD,3),g(d.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=L.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=L([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return G(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}}),L=function(a,b,c){return H({_i:a,_f:b,_l:c,_isUTC:!1})},L.utc=function(a,b,c){return H({_useUTC:!0,_isUTC:!0,_l:c,_i:a,_f:b}).utc()},L.unix=function(a){return L(1e3*a)},L.duration=function(a,b){var c,d,e=L.isDuration(a),g="number"==typeof a,h=e?a._input:g?{}:a,i=S.exec(a);return g?b?h[b]=a:h.milliseconds=a:i&&(c="-"===i[1]?-1:1,h={y:0,d:~~i[2]*c,h:~~i[3]*c,m:~~i[4]*c,s:~~i[5]*c,ms:~~i[6]*c}),d=new f(h),e&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},L.version=N,L.defaultFormat=db,L.updateOffset=function(){},L.lang=function(a,b){return a?(a=a.toLowerCase(),a=a.replace("_","-"),b?n(a,b):null===b?(o(a),a="en"):P[a]||p(a),L.duration.fn._lang=L.fn._lang=p(a),void 0):L.fn._lang._abbr},L.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),p(a)},L.isMoment=function(a){return a instanceof e},L.isDuration=function(a){return a instanceof f},g(L.fn=e.prototype,{clone:function(){return L(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return s(L(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!l(this._a,(this._isUTC?L.utc(this._a):L(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},invalidAt:function(){var a,b=this._a,c=(this._isUTC?L.utc(this._a):L(this._a)).toArray();for(a=6;a>=0&&b[a]===c[a];--a);return a},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=s(this,a||L.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?L.duration(+b,a):L.duration(a,b),j(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?L.duration(+b,a):L.duration(a,b),j(this,c,-1),this},diff:function(a,b,c){var d,e,f=this._isUTC?L(a).zone(this._offset||0):L(a).local(),g=6e4*(this.zone()-f.zone());return b=m(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-L(this).startOf("month")-(f-L(f).startOf("month")))/d,e-=6e4*(this.zone()-L(this).startOf("month").zone()-(f.zone()-L(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:h(e)},from:function(a,b){return L.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(L(),a)},calendar:function(){var a=this.diff(L().zone(this.zone()).startOf("day"),"days",!0),b=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(b,this))},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?"string"==typeof a&&(a=this.lang().weekdaysParse(a),"number"!=typeof a)?this:this.add({d:a-b}):b},month:function(a){var b,c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),L.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=m(a)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoweek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoweek"===a&&this.isoWeekday(1),this},endOf:function(a){return a=m(a),this.startOf(a).add("isoweek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+L(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+L(a).startOf(b)},isSame:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)===+L(a).startOf(b)},min:function(a){return a=L.apply(null,arguments),this>a?this:a},max:function(a){return a=L.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=v(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,b!==a&&j(this,L.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},hasAlignedHourOffset:function(a){return a=a?L(a).zone():0,0===(this.zone()-a)%60},daysInMonth:function(){return L.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=O((L(this).startOf("day")-L(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=G(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=G(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=G(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){return a=m(a),this[a.toLowerCase()]()},set:function(a,b){a=m(a),this[a.toLowerCase()](b)},lang:function(b){return b===a?this._lang:(this._lang=p(b),this)}}),M=0;M<gb.length;M++)I(gb[M].toLowerCase().replace(/s$/,""),gb[M]);I("year","FullYear"),L.fn.days=L.fn.day,L.fn.months=L.fn.month,L.fn.weeks=L.fn.week,L.fn.isoWeeks=L.fn.isoWeek,L.fn.toJSON=L.fn.toISOString,g(L.duration.fn=f.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,i=this._data;i.milliseconds=e%1e3,a=h(e/1e3),i.seconds=a%60,b=h(a/60),i.minutes=b%60,c=h(b/60),i.hours=c%24,f+=h(c/24),i.days=f%30,g+=h(f/30),i.months=g%12,d=h(g/12),i.years=d},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(a){var b=+this,c=F(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=L.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=L.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=m(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=m(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:L.fn.lang});for(M in hb)hb.hasOwnProperty(M)&&(K(M,hb[M]),J(M.toLowerCase()));K("Weeks",6048e5),L.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},L.lang("en",{ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),Q&&(module.exports=L),"undefined"==typeof ender&&(this.moment=L),"function"==typeof define&&define.amd&&define("moment",[],function(){return L})}.call(this),function(){var a,b;b="undefined"==typeof require||null===require||require.amd?this.moment:require("moment"),a=function(){function a(a,c){this.start=b(a),this.end=b(c)}return a.prototype.contains=function(a){return this.start<=a&&a<=this.end},a.prototype._by_string=function(a,c){var d,e;for(d=b(this.start),e=[];this.contains(d);)c.call(this,d.clone()),e.push(d.add(a,1));return e},a.prototype._by_range=function(a,c){var d,e,f,g;if(e=Math.round(this/a),1/0===e)return this;for(g=[],d=f=0;e>=0?e>=f:f>=e;d=e>=0?++f:--f)g.push(c.call(this,b(this.start.valueOf()+a.valueOf()*d)));return g},a.prototype.overlaps=function(a){return this.start<a.end&&this.end>a.start},a.prototype.by=function(a,b){return"string"==typeof a?this._by_string(a,b):this._by_range(a,b),this},a.prototype.valueOf=function(){return this.end-this.start},a}(),b.fn.range=function(b,c){return new a(b,c)},b.fn.within=function(a){return a.contains(this._d)},null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=b)}.call(this);var j=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,statement:3,query:4,EOF:5,LPAREN:6,RPAREN:7,AND:8,OR:9,NOT:10,literal:11,EQ:12,NEQ:13,LIKE:14,ILIKE:15,NLIKE:16,NILIKE:17,GT:18,GTE:19,LT:20,LTE:21,STRING_LITERAL_S:22,STRING_LITERAL_D:23,IDENT:24,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"LPAREN",7:"RPAREN",8:"AND",9:"OR",10:"NOT",12:"EQ",13:"NEQ",14:"LIKE",15:"ILIKE",16:"NLIKE",17:"NILIKE",18:"GT",19:"GTE",20:"LT",21:"LTE",22:"STRING_LITERAL_S",23:"STRING_LITERAL_D",24:"IDENT"},productions_:[0,[3,2],[4,3],[4,3],[4,3],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,1],[11,1],[11,1],[11,1]],performAction:function(a,b,c,d,e,f){var g=f.length-1;switch(e){case 1:return f[g-1];case 2:this.$=f[g-1];break;case 3:this.$=["AND",f[g-2],f[g]];break;case 4:this.$=["OR",f[g-2],f[g]];break;case 5:this.$=["NOT",f[g]];break;case 6:this.$=["EQ",f[g-2].toLowerCase(),f[g]];break;case 7:this.$=["NEQ",f[g-2].toLowerCase(),f[g]];break;case 8:this.$=["LIKE",f[g-2].toLowerCase(),f[g]];break;
case 9:this.$=["ILIKE",f[g-2].toLowerCase(),f[g]];break;case 10:this.$=["NLIKE",f[g-2].toLowerCase(),f[g]];break;case 11:this.$=["NILIKE",f[g-2].toLowerCase(),f[g]];break;case 12:this.$=["GT",f[g-2].toLowerCase(),f[g]];break;case 13:this.$=["GTE",f[g-2].toLowerCase(),f[g]];break;case 14:this.$=["LT",f[g-2].toLowerCase(),f[g]];break;case 15:this.$=["LTE",f[g-2].toLowerCase(),f[g]];break;case 16:this.$=["ILIKE_ANY",f[g]];break;case 17:this.$=f[g].substring(1,f[g].length-1);break;case 18:this.$=f[g].substring(1,f[g].length-1);break;case 19:this.$=f[g]}},table:[{3:1,4:2,6:[1,3],10:[1,4],11:5,22:[1,6],23:[1,7],24:[1,8]},{1:[3]},{5:[1,9],8:[1,10],9:[1,11]},{4:12,6:[1,3],10:[1,4],11:5,22:[1,6],23:[1,7],24:[1,8]},{4:13,6:[1,3],10:[1,4],11:5,22:[1,6],23:[1,7],24:[1,8]},{5:[2,16],7:[2,16],8:[2,16],9:[2,16],12:[1,14],13:[1,15],14:[1,16],15:[1,17],16:[1,18],17:[1,19],18:[1,20],19:[1,21],20:[1,22],21:[1,23]},{5:[2,17],7:[2,17],8:[2,17],9:[2,17],12:[2,17],13:[2,17],14:[2,17],15:[2,17],16:[2,17],17:[2,17],18:[2,17],19:[2,17],20:[2,17],21:[2,17]},{5:[2,18],7:[2,18],8:[2,18],9:[2,18],12:[2,18],13:[2,18],14:[2,18],15:[2,18],16:[2,18],17:[2,18],18:[2,18],19:[2,18],20:[2,18],21:[2,18]},{5:[2,19],7:[2,19],8:[2,19],9:[2,19],12:[2,19],13:[2,19],14:[2,19],15:[2,19],16:[2,19],17:[2,19],18:[2,19],19:[2,19],20:[2,19],21:[2,19]},{1:[2,1]},{4:24,6:[1,3],10:[1,4],11:5,22:[1,6],23:[1,7],24:[1,8]},{4:25,6:[1,3],10:[1,4],11:5,22:[1,6],23:[1,7],24:[1,8]},{7:[1,26],8:[1,10],9:[1,11]},{5:[2,5],7:[2,5],8:[2,5],9:[2,5]},{11:27,22:[1,6],23:[1,7],24:[1,8]},{11:28,22:[1,6],23:[1,7],24:[1,8]},{11:29,22:[1,6],23:[1,7],24:[1,8]},{11:30,22:[1,6],23:[1,7],24:[1,8]},{11:31,22:[1,6],23:[1,7],24:[1,8]},{11:32,22:[1,6],23:[1,7],24:[1,8]},{11:33,22:[1,6],23:[1,7],24:[1,8]},{11:34,22:[1,6],23:[1,7],24:[1,8]},{11:35,22:[1,6],23:[1,7],24:[1,8]},{11:36,22:[1,6],23:[1,7],24:[1,8]},{5:[2,3],7:[2,3],8:[1,10],9:[1,11]},{5:[2,4],7:[2,4],8:[1,10],9:[1,11]},{5:[2,2],7:[2,2],8:[2,2],9:[2,2]},{5:[2,6],7:[2,6],8:[2,6],9:[2,6]},{5:[2,7],7:[2,7],8:[2,7],9:[2,7]},{5:[2,8],7:[2,8],8:[2,8],9:[2,8]},{5:[2,9],7:[2,9],8:[2,9],9:[2,9]},{5:[2,10],7:[2,10],8:[2,10],9:[2,10]},{5:[2,11],7:[2,11],8:[2,11],9:[2,11]},{5:[2,12],7:[2,12],8:[2,12],9:[2,12]},{5:[2,13],7:[2,13],8:[2,13],9:[2,13]},{5:[2,14],7:[2,14],8:[2,14],9:[2,14]},{5:[2,15],7:[2,15],8:[2,15],9:[2,15]}],defaultActions:{9:[2,1]},parseError:function(a,b){if(!b.recoverable)throw new Error(a);this.trace(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||m,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0,l=2,m=1;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var n=this.lexer.yylloc;f.push(n);var o=this.lexer.options&&this.lexer.options.ranges;this.parseError="function"==typeof this.yy.parseError?this.yy.parseError:Object.getPrototypeOf(this).parseError;for(var p,q,r,s,t,u,v,w,x,y={};;){if(r=d[d.length-1],this.defaultActions[r]?s=this.defaultActions[r]:((null===p||"undefined"==typeof p)&&(p=b()),s=g[r]&&g[r][p]),"undefined"==typeof s||!s.length||!s[0]){var z="";x=[];for(u in g[r])this.terminals_[u]&&u>l&&x.push("'"+this.terminals_[u]+"'");z=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(i+1)+": Unexpected "+(p==m?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(z,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:n,expected:x})}if(s[0]instanceof Array&&s.length>1)throw new Error("Parse Error: multiple actions possible at state: "+r+", token: "+p);switch(s[0]){case 1:d.push(p),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(s[1]),p=null,q?(p=q,q=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,n=this.lexer.yylloc,k>0&&k--);break;case 2:if(v=this.productions_[s[1]][1],y.$=e[e.length-v],y._$={first_line:f[f.length-(v||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(v||1)].first_column,last_column:f[f.length-1].last_column},o&&(y._$.range=[f[f.length-(v||1)].range[0],f[f.length-1].range[1]]),t=this.performAction.call(y,h,j,i,this.yy,s[1],e,f),"undefined"!=typeof t)return t;v&&(d=d.slice(0,2*-1*v),e=e.slice(0,-1*v),f=f.slice(0,-1*v)),d.push(this.productions_[s[1]][0]),e.push(y.$),f.push(y._$),w=g[d[d.length-2]][d[d.length-1]],d.push(w);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d,e;if(this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0))),d=a[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length},this.yytext+=a[0],this.match+=a[0],this.matches=a,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(a[0].length),this.matched+=a[0],c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),c)return this.options.backtrack_lexer&&delete e,c;if(this._backtrack){for(var f in e)this[f]=e[f];return!1}return this.options.backtrack_lexer&&delete e,!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d;this._more||(this.yytext="",this.match="");for(var e=this._currentRules(),f=0;f<e.length;f++)if(c=this._input.match(this.rules[e[f]]),c&&(!b||c[0].length>b[0].length)){if(b=c,d=f,this.options.backtrack_lexer){if(a=this.test_match(c,e[f]),a!==!1)return a;if(this._backtrack){b=!1;continue}return!1}if(!this.options.flex)break}return b?(a=this.test_match(b,e[d]),a!==!1?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){var a=this.conditionStack.length-1;return a>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){return a=this.conditionStack.length-1-Math.abs(a||0),a>=0?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(a,b,c,d){switch(c){case 0:break;case 1:return 23;case 2:return 22;case 3:return 6;case 4:return 7;case 5:return 10;case 6:return 10;case 7:return"IN";case 8:return 19;case 9:return 21;case 10:return 18;case 11:return 20;case 12:return 12;case 13:return 12;case 14:return 13;case 15:return 14;case 16:return 14;case 17:return 16;case 18:return 15;case 19:return 15;case 20:return 17;case 21:return 8;case 22:return 8;case 23:return 9;case 24:return 9;case 25:return 24;case 26:break;case 27:return"INVALID";case 28:return 5;case 29:console.log(b.yytext)}},rules:[/^(?:\s*\n\s*)/i,/^(?:[\w]?"(\\.|[^\\"])*")/i,/^(?:[\w]?'(\\.|[^\\'])*')/i,/^(?:\()/i,/^(?:\))/i,/^(?:not)/i,/^(?:!)/i,/^(?:in)/i,/^(?:>=)/i,/^(?:<=)/i,/^(?:>)/i,/^(?:<)/i,/^(?:==)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:like)/i,/^(?:~)/i,/^(?:!~)/i,/^(?:ilike)/i,/^(?:~\*)/i,/^(?:!~\*)/i,/^(?:and)/i,/^(?:&&)/i,/^(?:or)/i,/^(?:\|\|)/i,/^(?:[A-Za-z0-9_\-\.:]+)/i,/^(?:\s+)/i,/^(?:.)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}};return a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();"undefined"!=typeof require&&"undefined"!=typeof a&&(a.parser=j,a.Parser=j.Parser,a.parse=function(){return j.parse.apply(j,arguments)},a.main=function(b){b[1]||(console.log("Usage: "+b[0]+" FILE"),process.exit(1));var c=require("fs").readFileSync(require("path").normalize(b[1]),"utf8");return a.parser.parse(c)},"undefined"!=typeof module&&require.main===module&&a.main(process.argv.slice(1))),_=tablequery._;var k,l,m,n,o,p={},q={};tablequery=tablequery||{},_.extend(tablequery,tablequery.Events),tablequery._get_rows_to_display=function(a){var b,c=a[0],d=a[1];if(3==a.length)var e=a[2];if($.isArray(d)){var f=tablequery._get_rows_to_display(d);if(3==a.length)var g=tablequery._get_rows_to_display(e);switch(c){case"AND":b=_.intersection(f,g);break;case"OR":b=_.union(f,g);break;case"NOT":var h={};_.each(f,function(a){h[$(a).index()]=!0}),b=_.filter(m,function(a){return!($(a).index()in h)})}}else{switch(c){case"EQ":case"NEQ":var i=new RegExp("^"+e+"$");break;case"ILIKE":case"NILIKE":var i=new RegExp(e,"i");break;case"LIKE":case"NLIKE":var i=new RegExp(e);break;case"ILIKE_ANY":var i=new RegExp(d,"i")}if(d in p)var j=[p[d]];else if("ILIKE_ANY"===c)var j=_.values(p);else var j=[];var k="N"!=c.substring(0,1);if(!_.isUndefined(e))var l=tablequery.get_date_range(c,e),n=tablequery.get_time_range(c,e);b=m.filter(function(a,b){return _.any(_.map($(b).children(),function(a,b){if(_.contains(j,b)){var c=$.trim(a.textContent);switch(q[b]){case"date":return{type:"date",value:tablequery._get_datetime(c)};case"time":return{type:"time",value:tablequery._get_time(c)};case"number":return{type:"number",value:parseInt(c,10)};case"text":return{type:"text",value:c}}}}),function(a){if(_.isUndefined(a))return!1;switch(a.type){case"time":if(_.isUndefined(n))return!1;result=n.contains(a.value);break;case"date":if(_.isUndefined(l))return!1;result=l.contains(a.value);break;case"number":case"text":result=i.test(a.value)}return k?result:!result})})}return b||(b=m),b},tablequery._get_rows_to_display=_.memoize(tablequery._get_rows_to_display),tablequery._parse_search_text=function(a){var b,c=!0;try{b=j.parse(a)}catch(d){o=d.message,c=!1}return{rc:c,parsed_query:b}},tablequery._update_table_search_text_warning=function(a,b){0==n.val().length||b?n.css("border",""):a?n.css("border","2px solid green"):n.css("border","2px solid red")},tablequery._update_table_lookups=function(){p={},k.find("th").each(function(a,b){p[$.trim(b.textContent.toLowerCase())]=a}),q={},k.find("tr").eq(1).children().each(function(a,b){var c=$.trim(b.textContent);q[a]=tablequery._get_datetime(c).isValid()?"date":tablequery._get_time(c).isValid()?"time":_.isNumber(c)?"number":"text"})},tablequery.set_table=function(a){k=$(a),l=k.parent(),m=k.find("tbody tr"),tablequery._update_table_lookups()},tablequery.hide_selector=function(a){a.css("display","none")},tablequery.show_selector=function(a){a.css("display","")};var r;tablequery.set_table_search_text=function(a){n=$(a),tablequery._table_search_text_on_keyup=function(a,b){var c=tablequery._parse_search_text(b);if(tablequery._update_table_search_text_warning(c.rc,!1),c.rc){tablequery._update_table_lookups(),r=!1;var d=tablequery._get_rows_to_display(c.parsed_query);k.detach(),tablequery.hide_selector(m),_.each(d,function(a){tablequery.show_selector($(a))}),l.append(k)}else r||tablequery.show_selector(m),r=!0;tablequery.trigger("search")},tablequery._table_search_text_on_keyup_debounced=_.debounce(tablequery._table_search_text_on_keyup,500),n.keyup(function(a){13===(a.keyCode||a.which||a.charCode||0)?tablequery._table_search_text_on_keyup(a,n.val()):tablequery._table_search_text_on_keyup_debounced(a,n.val())}),n.keypress(function(a){return 13!==(a.keyCode||a.which||a.charCode||0)}),n.click(function(){tablequery._table_search_text_on_keyup_debounced(void 0,n.val())}),n.blur(function(){tablequery._table_search_text_on_keyup_debounced(void 0,n.val())})},tablequery._now=function(){return moment()},tablequery._get_time=function(a){return moment(a,["ss","mm:ss","HH:mm:ss"])},tablequery._get_time=_.memoize(tablequery._get_time),tablequery._get_datetime=function(a){return moment(a,["YYYY-MM-DD","YYYY-MM-DD HH","YYYY-MM-DD HH:mm","YYYY-MM-DD HH:mm:ss","YYYY-MM-DD HH:mm:ssZ","YYYY-MM-DDTHH:mm:ss","YYYY-MM-DDTHH:mm:ssZ"])},tablequery._get_datetime=_.memoize(tablequery._get_datetime),tablequery.get_time_range=function(a,b){var c=tablequery._get_time(b);if(c.isValid()){switch(c._f){case"ss":var d="second";break;case"mm:ss":var d="minute";break;case"HH:mm:ss":var d="hour"}switch(a){case"EQ":case"NEQ":var e=moment().range(moment(c).startOf(d),moment(c).endOf(d));break;case"LTE":case"LT":var e=moment().range(moment(0),moment(c));break;case"GTE":case"GT":var e=moment().range(moment(c),moment("9999"))}return e}},tablequery.get_date_range=function(a,b){var c,d,e=tablequery._now();if("today"===b)c=moment.duration(0,"days");else if("yesterday"===b)c=moment.duration(1,"days");else if(d=tablequery._get_datetime(b),!d.isValid())return;switch(a){case"EQ":case"NEQ":if(_.isUndefined(c))var f=moment().range(moment(d).startOf("day"),moment(d).endOf("day"));else var f=moment().range(moment(e-c).startOf("day"),moment(e-c).endOf("day"));break;case"LTE":case"LT":if(_.isUndefined(c))var f=moment().range(moment(0),moment(d));else var f=moment().range(moment(0),moment(e-c).endOf("day"));break;case"GTE":case"GT":if(_.isUndefined(c))var f=moment().range(moment(d),moment("9999"));else var f=moment().range(moment(e-c).startOf("day"),moment("9999"))}return f}}({},function(){return this}());