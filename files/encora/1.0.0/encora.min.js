function Template(){}function Page(a){this.meta=a.meta[0],this.checkBrowser(),this.createStructure(),this.loadImages()}function JSON(){}var tmp={},cache={},nbsp=" ",dash="-",config={site_name:"Spleric",meta:[{theme_color:"#3F51B5",apple_mobile_web_app_capable:"yes",apple_mobile_web_app_status_bar_style:"black-translucent",msapplication_navbutton_color:this.theme_color,viewport:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"}]};tmp.views="/views/templates/",Template.prototype={constructor:Template,write:function(a){document.write(a)},writef:function(a,b){document.write("<"+b+">"+a+"</"+b+">")},createDiv:function(a){tmp.div=document.createElement("div"),tmp.div.id=a.id,tmp.div.class=a.class,this.append("body",tmp.div)},append:function(a,b){document.getElementsByTagName(a)[0].appendChild(b)},appendTo:function(a,b){document.getElementById(a).innerHTML=b},load:function(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.send(),c.onreadystatechange=function(a){c.readyState==XMLHttpRequest.DONE&&200==c.status&&b(c.responseText)}}},tpl=new Template,Page.prototype={constructor:Page,setTitle:function(a){document.title=config.site_name+nbsp+dash+nbsp+a},setMeta:function(a,b){tmp.d=document.createElement("meta"),tmp.d.name=a,tmp.d.content=b,tpl.append("head",tmp.d)},checkBrowser:function(){document.documentMode<11&&(window.location="/error/browser")},createStructure:function(){this.setTitle(this.meta.title),Object.keys(config.meta[0]).forEach(function(a){Page.prototype.setMeta(a.split("_").join("-"),config.meta[0][a])}),tpl.createDiv({id:"header"}),tpl.load(tmp.views+"header_generic_2",function(a){tpl.appendTo("header",a)}),tpl.createDiv({id:"footer"}),tpl.load(tmp.views+"footer_generic",function(a){tpl.appendTo("footer",a)})},loadImages:function(){tmp.i=document.getElementsByTagName("img");for(var a=0;a<tmp.i.length;a++)tmp.i[a].getAttribute("data-src")&&tmp.i[a].setAttribute("src",tmp.i[a].getAttribute("data-src"))}},JSON.prototype={constructor:JSON,parse:function(a){return!0}};
