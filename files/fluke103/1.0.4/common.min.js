var errmsg="";var errfld=null;function check_field(a,b){if((a.value=trim(a.value))==""){error_field(a,b)}else{clear_field(a)}return}function error_field(a,b){if(b!=""){errmsg+=b+"\n"}if(!errfld){errfld=a}a.style.background="#BDDEF7"}function clear_field(a){a.style.background="#FFFFFF"}function trim(c){var b="";var a=to_pos=0;for(i=0;i<c.length;i++){if(c.charAt(i)==" "){continue}else{a=i;break}}for(i=c.length;i>=0;i--){if(c.charAt(i-1)==" "){continue}else{to_pos=i;break}}b=c.substring(a,to_pos);return b}function popup_window(a,c,b){window.open(a,c,b)}function popup_formmail(a){opt="scrollbars=yes,width=417,height=385,top=10,left=20";popup_window(a,"wformmail",opt)}function del(a){if(confirm("한번 삭제한 자료는 복구할 방법이 없습니다.\n\n정말 삭제하시겠습니까?")){var c=-1;if(navigator.appName=="Microsoft Internet Explorer"){var b=navigator.userAgent;var d=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(d.exec(b)!=null){c=parseFloat(RegExp.$1)}}if(c!=-1&&c<7){document.location.href=encodeURI(a)}else{document.location.href=a}}}function set_cookie(c,e,b,d){var a=new Date();a.setTime(a.getTime()+(60*60*1000*b));document.cookie=c+"="+escape(e)+"; path=/; expires="+a.toGMTString()+";";if(d){document.cookie+="domain="+d+";"}}function get_cookie(c){var a=false;var e,b;var d=0;for(d=0;d<=document.cookie.length;d++){e=d;b=e+c.length;if(document.cookie.substring(e,b)==c){a=true;break}}if(a==true){e=b+1;b=document.cookie.indexOf(";",e);if(b<e){b=document.cookie.length}return unescape(document.cookie.substring(e,b))}return""}function delete_cookie(b){var a=new Date();a.setTime(a.getTime()-1);var c=get_cookie(b);if(c!=""){document.cookie=b+"="+c+"; path=/; expires="+a.toGMTString()}}var last_id=null;function menu(a){if(a!=last_id){if(last_id!=null){document.getElementById(last_id).style.display="none"}document.getElementById(a).style.display="block";last_id=a}else{document.getElementById(a).style.display="none";last_id=null}}function textarea_decrease(b,a){if(document.getElementById(b).rows-a>0){document.getElementById(b).rows-=a}}function textarea_original(b,a){document.getElementById(b).rows=a}function textarea_increase(b,a){document.getElementById(b).rows+=a}function check_byte(e,f){var c=0;var b=0;var d="";var a=document.getElementById(e).value;for(c=0;c<a.length;c++){d=a.charAt(c);if(escape(d).length>4){b+=2}else{b+=1}}document.getElementById(f).innerHTML=b;return b}function get_left_pos(c){var a=null;var d=c;var b=c.offsetLeft;while((a=d.offsetParent)!=null){b=b+a.offsetLeft;d=a}return b}function get_top_pos(c){var a=null;var d=c;var b=c.offsetTop;while((a=d.offsetParent)!=null){b=b+a.offsetTop;d=a}return b}function flash_movie(f,d,c,a,e){var b="";if(parseInt(c)&&parseInt(a)){b=" width='"+c+"' height='"+a+"' "}return"<object classid='clsid:d27cdb6e-ae6d-11cf-96b8-444553540000' codebase='http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0' "+b+" id="+d+"><param name=wmode value="+e+"><param name=movie value="+f+"><param name=quality value=high><embed src="+f+" quality=high wmode="+e+" type='application/x-shockwave-flash' pluginspage='http://www.macromedia.com/shockwave/download/index.cgi?p1_prod_version=shockwaveflash' "+b+"></embed></object>"}function obj_movie(f,d,c,a,e){var b="";if(parseInt(c)&&parseInt(a)){b=" width='"+c+"' height='"+a+"' "}if(!e){e=false}return"<embed src='"+f+"' "+b+" autostart='"+e+"'></embed>"}function doc_write(a){document.write(a)}var win_password_lost=function(a){window.open(a,"win_password_lost","left=50, top=50, width=617, height=330, scrollbars=1")};$(document).ready(function(){$("#login_password_lost, #ol_password_lost").click(function(){win_password_lost(this.href);return false})});var win_point=function(a){var b=window.open(a,"win_point","left=100,top=100,width=600, height=600, scrollbars=1");b.focus()};var win_email=function(a){var b=window.open(a,"win_email","left=100,top=100,width=600,height=580,scrollbars=0");b.focus()};var win_profile=function(a){var b=window.open(a,"win_profile","left=100,top=100,width=620,height=510,scrollbars=1");b.focus()};var win_scrap=function(a){var b=window.open(a,"win_scrap","left=100,top=100,width=600,height=600,scrollbars=1");b.focus()};win_password_lost=function(a){var b=window.open(a,"win_password_lost","width=617, height=330, scrollbars=1");b.focus()};$(function(){$("a img").mouseover(function(){$a_img_title=$(this).attr("alt");$(this).attr("title",$a_img_title)}).mouseout(function(){$(this).attr("title","")})});function font_resize(e,d,b,c){var a=$("#"+e);a.removeClass(d).addClass(b);set_cookie("ck_font_resize_rmv_class",d,1,g5_cookie_domain);set_cookie("ck_font_resize_add_class",b,1,g5_cookie_domain);if(typeof c!=="undefined"){$(c).addClass("select").siblings().removeClass("select")}}function set_comment_token(a){if(typeof a.token==="undefined"){$(a).prepend('<input type="hidden" name="token" value="">')}$.ajax({url:g5_bbs_url+"/ajax.comment_token.php",type:"GET",dataType:"json",async:false,cache:false,success:function(b,c){a.token.value=b.token}})}$(function(){$(".win_point").click(function(){win_point(this.href);return false});$(".win_memo").click(function(){win_memo(this.href);return false});$(".win_email").click(function(){win_email(this.href);return false});$(".win_scrap").click(function(){win_scrap(this.href);return false});$(".win_profile").click(function(){win_profile(this.href);return false});$(".win_homepage").click(function(){win_homepage(this.href);return false});$(".win_password_lost").click(function(){win_password_lost(this.href);return false});var a=false;$(".sv_member, .sv_guest").click(function(){$(".sv").removeClass("sv_on");$(this).closest(".sv_wrap").find(".sv").addClass("sv_on")});$(".sv, .sv_wrap").hover(function(){a=false},function(){a=true});$(".sv_member, .sv_guest").focusin(function(){a=false;$(".sv").removeClass("sv_on");$(this).closest(".sv_wrap").find(".sv").addClass("sv_on")});$(".sv a").focusin(function(){a=false});$(".sv a").focusout(function(){a=true});var b=false;$(".sel_btn").click(function(){$(".sel_ul").removeClass("sel_on");$(this).siblings(".sel_ul").addClass("sel_on")});$(".sel_wrap").hover(function(){b=false},function(){b=true});$(".sel_a").focusin(function(){b=false});$(".sel_a").focusout(function(){b=true});$(document).click(function(){if(a){$(".sv").removeClass("sv_on")}if(b){$(".sel_ul").removeClass("sel_on")}});$(document).focusin(function(){if(a){$(".sv").removeClass("sv_on")}if(b){$(".sel_ul").removeClass("sel_on")}});$(document).on("keyup change","textarea#wr_content[maxlength]",function(){var d=$(this).val();var c=parseInt($(this).attr("maxlength"));if(d.length>c){$(this).val(d.substr(0,c));return false}})});function get_write_token(a){var b="";$.ajax({type:"POST",url:g5_bbs_url+"/write_token.php",data:{bo_table:a},cache:false,async:false,dataType:"json",success:function(c){if(c.error){alert(c.error);if(c.url){document.location.href=c.url}return false}b=c.token}});return b}$(function(){$(document).on("click","form[name=fwrite] input:submit, form[name=fwrite] button:submit, form[name=fwrite] input:image",function(){var d=this.form;if(typeof(d.bo_table)=="undefined"){return}var b=d.bo_table.value;var c=get_write_token(b);if(!c){alert("토큰 정보가 올바르지 않습니다.");return false}var a=$(d);if(typeof d.token==="undefined"){a.prepend('<input type="hidden" name="token" value="">')}a.find("input[name=token]").val(c);return true})});