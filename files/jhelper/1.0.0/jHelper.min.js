/*!
 * jHelper UI library
 * http://www.sublight.me/Projects/jHelper/
 *
 * Copyright 2013 Sublight Labs and other contributors
   *
 * Date: 2013-03-09
 */
var Sublight;(function(n){var t=function(){function t(){this.helpElements=[],this.helpTargets=[],this.id=0,this.borderWidth=3,this.basketMargin=6,this.template='<div id="@ID" class="help-wrapper" style="position: absolute; display: inline-block; visibility: hidden;"><div style="border-bottom: 3px solid @BORDER-COLOR; border-left: 3px solid @BORDER-COLOR; border-right: 3px solid @BORDER-COLOR; height: 10px; width: 50px; margin: 0 auto;"><\/div><div style="text-align: center; background-color: @BG-COLOR; width: @MIN-WIDTHpx; padding: 13px; border: solid 1px @BORDER-COLOR; margin-top: 6px; position: absolute;">@HTML<\/div><\/div>',this.settings={}}return t.initialize=function(i){typeof i=="undefined"&&(i=null);var r=new n.jHelper;r.initializeSettings(i),r.positionElements(r,!0),r.getValue(t.settingKeyRepositionOnResize)&&jQuery(window).resize(function(){r.positionElements(r,!1)})},t.prototype.positionElements=function(n,t){var i=jQuery(".help-element");i.each(function(){var i=jQuery(this),r,u;if(t)r=n.createHelpWrapper(i,i.attr("help-text")),n.helpElements.push(r),n.helpTargets.push(i);else for(u=0;u<n.helpTargets.length;u++)if(n.helpTargets[u][0]===i[0]){r=n.helpElements[u];break}r.length!=0&&n.positionHelp(i,r)})},t.show=function(){jQuery(".help-wrapper").css("visibility","visible")},t.hide=function(){jQuery(".help-wrapper").css("visibility","hidden")},t.prototype.initializeSettings=function(n){this.settings=n==null?{}:n,this.setValue(t.settingKeyMinWidth,360),this.setValue(t.settingKeyBorderColor,"#F0C36D"),this.setValue(t.settingKeyBackgroundColor,"#F9EDBE"),this.setValue(t.settingKeyRepositionOnResize,!0)},t.settingKeyMinWidth="minWidth",t.settingKeyBorderColor="borderColor",t.settingKeyBackgroundColor="backgroundColor",t.settingKeyRepositionOnResize="repositionOnResize",t.prototype.setValue=function(n,t){var i=this.settings[n];this.settings[n]=this.isUndefined(i)?t:i},t.prototype.getValue=function(n){return this.settings[n]},t.prototype.createHelpWrapper=function(n,i){if(this.isUndefined(i))return null;var r=this.template,u="help-el-"+this.id++;return r=r.replace("@ID",u),r=r.replace("@HTML",i),r=r.replace("@MIN-WIDTH",this.getValue(t.settingKeyMinWidth)),r=r.replace(/@BORDER-COLOR/g,this.getValue(t.settingKeyBorderColor)),r=r.replace(/@BG-COLOR/g,this.getValue(t.settingKeyBackgroundColor)),jQuery("body").append(r),jQuery("#"+u)},t.prototype.isUndefined=function(n){return typeof n=="undefined"?!0:!1},t.prototype.positionHelp=function(n,t){var y=t.offset(),c=t.children("div"),u=c.eq(0),i=c.eq(1),p=n.width(),l,r,a,v,s,h;u.width(p+2*this.basketMargin),l=u.offset().left-y.left,t.css({top:n.offset().top+this.borderWidth+this.basketMargin,left:n.offset().left-l-this.borderWidth-this.basketMargin}),r=i.width()/2<u.width()?u.width()/2-i.width()/2-this.basketMargin-this.borderWidth:u.width()/2-i.width()/2-this.basketMargin-this.borderWidth,i.css({"margin-left":r});var e=this.basketMargin,f=i.offset(),o=jQuery("html").width()-jQuery("body").width();typeof o=="undefined"&&(o=0),f.left<e?(r=r-f.left+e,i.css({"margin-left":r})):f.left+i.width()>jQuery(window).width()-e-2*o&&(a=f.left+i.width()-(jQuery(window).width()-e)+u.width(),r=r-a,i.css({"margin-left":r}),v=u.offset(),f=i.offset(),s=v.left+u.width(),h=f.left+i.width(),h<s-o&&(r=r+(s-h),i.css({"margin-left":r})))},t}();n.jHelper=t})(Sublight||(Sublight={}))