(function(e){var t={ratio:function(e){var t=e.item,n=e.settings;return{w:t.width()/n.wrapperWidth,h:t.height()/n.wrapperHeight}},center:function(e,t){return parseInt((e-t)/2,10)},scaleToFill:function(e){var n=e.item,r=e.settings,i=r.ratio,s=n.width(),o=n.height(),u={top:0,left:0};if(i.h>i.w){s=r.wrapperWidth;o=o/i.w;if(r.center){u.top=t.center(s,o)}}else{o=r.wrapperHeight;s=s/i.h;if(r.center){u.left=t.center(o,s)}}if(r.center){e.wrapper.css("position","relative");n.css({position:"absolute",top:["-",u.top,"px"].join(""),left:u.left+"px"})}return n.height(o).attr("height",o+"px").width(s).attr("width",s+"px")},scaleToFit:function(e){var n=e.item,r=e.settings,i=r.ratio,s=n.width(),o=n.height(),u={top:0,left:0};if(i.h>i.w){o=r.wrapperHeight,s=parseInt(n.width()*r.wrapperHeight/n.height(),10);if(r.center){u.left=t.center(o,s)}}else{o=parseInt(n.height()*r.wrapperWidth/n.width(),10),s=r.wrapperWidth;if(r.center){u.top=t.center(s,o)}}e.wrapper.css({width:(r.squareWidth?r.wrapperWidth:s)+"px",height:r.wrapperHeight+"px"});if(r.center){e.wrapper.css("position","relative");n.css({position:"absolute",top:u.top+"px",left:u.left+"px"})}return n.height(o).attr("height",o+"px").width(s).attr("width",s+"px")},init:function(n){var r=e.extend({wrapperSelector:null,wrapperWidth:100,wrapperHeight:100,center:true,fill:true,initClass:"fc-init",doneEvent:"fakedropdone",squareWidth:true},n),i=function(){var n=e(this),i=r.wrapperSelector?n.closest(r.wrapperSelector):n.parent(),s={item:n,settings:r,wrapper:i};r.ratio=t.ratio(s);if(r.fill){i.css({overflow:"hidden",width:r.wrapperWidth+"px",height:r.wrapperHeight+"px"});t.scaleToFill(s)}else{t.scaleToFit(s)}n.data("fc.settings",r).addClass(r.initClass).trigger(r.doneEvent)},s=this.filter("img"),o=this.filter(":not(img)");if(s.length){s.bind("load",function(){i.call(this);this.style.display="inline"}).each(function(){if(this.complete||this.complete===undefined){var e=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=e;this.style.display="none"}})}if(o.length){o.each(i)}return this}};e.fn.fakecrop=function(n){if(t[n]){return t[n].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof n==="object"||!n){return t.init.apply(this,arguments)}else{e.error("Method "+n+" does not exist on jQuery.fakecrop")}}})(jQuery)