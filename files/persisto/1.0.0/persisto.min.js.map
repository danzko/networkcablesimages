{"version":3,"sources":["../src/persisto.js"],"names":["$","window","document","undefined","_getNow","Date","getTime","MAX_INT","PersistentObject","namespace","opts","prevValue","self","this","dfd","Deferred","stamp","error","extend","remote","init","commitDelay","maxCommitDelay","pushDelay","maxPushDelay","debug","createParents","storage","localStorage","change","noop","commit","conflict","pull","push","update","debugLevel","_checkTimer","_data","offline","phase","uncommittedSince","unpushedSince","lastUpdate","lastPull","commitCount","pushCount","lastModified","ready","promise","getItem","done","resolve","fail","console","warn","JSON","parse","prototype","version","_invalidate","hint","deferredCall","prevChange","now","nextCommit","nextPush","nextCheck","clearTimeout","Math","min","setTimeout","call","_update","objData","toString","Array","unshift","arguments","log","apply","isDirty","isReady","state","get","key","i","cur","parts","replace","split","length","slice","join","_setOrRemove","value","remove","parent","lastPart","pop","set","reset","obj","setDirty","flag","time","data","timeEnd","stringify","setItem","ajax","type","url","strData","isArray","isPlainObject","always","readFromForm","form","options","$form","addNew","coerce","trim","find","each","name","attr","k","v","val","$input","filter","writeToForm","prop","inArray","is","jQuery"],"mappings":"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","file":"persisto.min.js"}