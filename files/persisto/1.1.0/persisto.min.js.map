{"version":3,"sources":["../src/persisto.js"],"names":["$","window","document","undefined","_getNow","Date","getTime","MAX_INT","PersistentObject","namespace","opts","prevValue","self","this","dfd","Deferred","stamp","error","extend","remote","defaults","commitDelay","createParents","maxCommitDelay","pushDelay","maxPushDelay","storage","localStorage","debugLevel","change","noop","commit","conflict","pull","push","update","_checkTimer","_data","offline","phase","uncommittedSince","unpushedSince","lastUpdate","lastPull","commitCount","pushCount","lastModified","ready","promise","getItem","done","resolve","fail","console","warn","JSON","parse","prototype","version","_invalidate","hint","deferredCall","prevChange","now","nextCommit","nextPush","nextCheck","clearTimeout","debug","Math","min","setTimeout","call","_update","objData","toString","Array","unshift","arguments","log","apply","isDirty","isReady","state","get","key","i","cur","parts","replace","split","length","slice","join","_setOrRemove","value","remove","parent","lastPart","pop","set","reset","obj","setDirty","flag","time","data","timeEnd","stringify","setItem","ajax","type","url","strData","isArray","isPlainObject","always","readFromForm","form","options","$form","addNew","coerce","trim","find","each","name","attr","k","v","val","$input","filter","writeToForm","prop","inArray","is","jQuery"],"mappings":"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","file":"persisto.min.js"}