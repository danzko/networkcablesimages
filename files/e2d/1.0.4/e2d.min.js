/**
 * E2D Engine v1.0.4
 * @author Jack Dalton <jack@jackdalton.org>
 * Copyright Â© 2015 Jack Dalton under the MIT license (https://opensource.org/licenses/MIT)
 **/

"undefined"!=typeof module?module.exports=E2D:window.E2D=E2D;var E2D={VERSION:"1.0.4"};E2D.Scene=function(){function e(e){e=e||{},this._options={},this._options.logging=e.logging||!0,this._options.idLength=e.idLength||16,this._options.logging&&console.log("E2D v"+E2D.VERSION),this._ids={},this._objects={},this._disabledObjects={}}return e.prototype.render=function(){var e=this,t=[];for(var o in e._objects)t.push(e._objects[o]);for(t.sort(function(e,t){return e._layer-t._layer}),o=0;o<t.length;o++)t[o].render()},e}(),E2D.Scene.prototype.Vector2=function(){function e(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0}return e.prototype.getPos=function(){return this},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.setPos=function(e){this.x="number"==typeof e.x?e.x:this.x,this.y="number"==typeof e.y?e.y:this.y},e.prototype.setX=function(e){this.x="number"==typeof e?e:this.x},e.prototype.setY=function(e){this.y="number"==typeof e?e:this.y},e.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(e.x-this.x,2)+Math.pow(e.y-this.y,2))},e.prototype.midpoint=function(t){return new e((this.x+t.x)/2,(this.y+t.y)/2)},e.prototype.translate=function(t){return 2==arguments.length?(this.x+="number"==typeof arguments[0]?arguments[0]:0,this.y+="number"==typeof arguments[1]?arguments[1]:0):t instanceof e&&(this.x+=t.x||0,this.y+=t.y||0),{x:this.x,y:this.y}},e}(),E2D.Scene.prototype.generateId=function(e){var t=this;e=e||t._options.idLength;for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZ$_",n="",s=0;e>s;s++)n+=o[Math.floor(Math.random()*o.length)];return n},E2D.Scene.prototype.addObject=function(e){var t=this;e.pos=e.pos||{},"undefined"==typeof e?e={pos:new t.Vector2(0,0)}:("number"!=typeof e.pos.x||"number"!=typeof e.pos.y)&&t._options.logging&&console.warn("Invalid position supplied. Using (0, 0) (@addObject)");var o={};return o.id=e.id||t.generateId(),o.body={pos:e.pos},"undefined"!=typeof e.custom&&(o.custom=e.custom),"function"==typeof e.renderer&&(o._renderer=e.renderer,o.render=function(){o._renderer(o,arguments)},o._layer=e.layer||0),t._objects[o.id]=o,o},E2D.Scene.prototype.destroyObject=function(e){var t=this;return"undefined"==typeof t._objects[e]?(t._options.logging&&console.warn(e+" either doesn't exist, or hasn't been added to the scene. Object was not destroyed (@destroyObject)"),!1):(delete t._objects[e],!0)},E2D.Scene.prototype.enableObject=function(e){var t=this;return"undefined"==typeof t._disabledObjects[e]?(t._options.logging&&console.warn(e+" either doesn't exist, hasn't been disabled, or hasn't been added to the scene. Object was not enabled (@enableObject"),!1):(t._objects[e]=t._disabledObjects[e],delete t._disabledObjects[e],!0)},E2D.Scene.prototype.disableObject=function(e){var t=this;return"undefined"==typeof t._objects[e]?(t._options.logging&&console.warn(e+" either doesn't exist, or hasn't been added to the scene. Object was not disabled (@disableObject"),!1):(t._disabledObjects[e]=t._objects[e],t.destroyObject(e),!0)},"undefined"!=typeof module?module.exports=E2D:window.E2D=E2D;