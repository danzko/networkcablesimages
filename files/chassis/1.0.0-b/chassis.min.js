window.DOM={},Object.defineProperties(window.DOM,{ready:{enumerable:!0,writable:!1,configurable:!1,value:function(e){document.addEventListener("DOMContentLoaded",e)}},destroy:{enumerable:!0,writable:!1,configurable:!1,value:function(e){var t=this;if("string"==typeof e){var r=e;if(e=document.querySelectorAll(e),0===e.length)return void console.warn('The "'+r+'" selector did not return any elements.');Array.prototype.slice.call(e).forEach(function(e){t.destroy(e)})}else switch(Object.prototype.toString.call(e).split(" ")[1].replace(/\]|\[/gi,"").toLowerCase()){case"array":return void e.forEach(function(e){t.destroy(e)});case"nodelist":return void Array.prototype.slice.call(e).forEach(function(e){t.destroy(e)});case"htmlelement":return void e.parentNode.removeChild(e);default:console.warn("An unknown error occurred while trying to remove DOM elements."),console.log("Unknown Element",e)}}},findParent:{enumerable:!0,writable:!1,configurable:!1,value:function(e,t,r){if("string"==typeof e){if(e=document.querySelectorAll(e),0===e.length)return console.warn('"'+e+'" is an invalid CSS selector (Does not identify any DOM elements).'),null;e=e[0]}var n=e.parentNode,i=0;for(r="number"==typeof r?r:-1;null===n.parentNode.querySelector(t)&&"BODY"!==n.nodeName;){if(i++,r>0&&i>r)return null;n=n.parentNode}return n}}});var BUS=function(){var e=[],t=[],r=[],n={},i=function(e,t){var r=e.filter(function(e){return t.toLowerCase()===e[0].toLowerCase()});return 0===r.length?null:(r.length>1&&console.warn("NGN Event Bus: "+r[0][0]+" exists more than once."),r[0].filter(function(e,t){return 0!==t}))},o=function(t){return i.apply(this,[e,t])},a=function(e){return i.apply(this,[t,e])},u=function(e){return i.apply(this,[r,e])};return Object.defineProperties(n,{subscribe:{enumerable:!0,configurable:!1,writable:!1,value:function(t,r){if(null===t||void 0===t||null===r||void 0===r)throw new Error("subscribe() requires a topic and listener function as arguments.");var n=o(t);null!==n&&n.unshift(t),null===n&&(n=[t])&&e.push(n);var i=n.push(r);return e[e.map(function(e){return e[0]}).indexOf(t)]=n,{unsubscribe:function(){n=n.splice(i,1),0===n.length?e.splice(e.map(function(e){return e[0]}).indexOf(t),1):e[e.map(function(e){return e[0]}).indexOf(t)]=n}}}},subscribeOnce:{enumerable:!0,configurable:!1,writable:!1,value:function(e,r){if(null===e||void 0===e||null===r||void 0===r)throw new Error("subscribeOnce() requires a topic and listener function as arguments.");var n=a(e);null!==n&&n.unshift(e),null===n&&(n=[e])&&t.push(n),n.push(r),t[t.map(function(e){return e[0]}).indexOf(e)]=n}},on:{enumerable:!0,configurable:!1,writable:!1,value:function(){return this.subscribe.apply(this,arguments)}},once:{enumerable:!0,configurable:!1,writable:!1,value:function(){return this.subscribeOnce.apply(this,arguments)}},bind:{enumerable:!0,configurable:!1,writable:!0,value:function(e,t,n){t="string"==typeof t?[t]:t;var i=u(e);null!==i&&i.unshift(e),null===i&&(i=[e])&&r.push(i);var o=this,a=function(e){t.forEach(function(t){o.publish(t,void 0!==e?e:{})})},l=i.push(a);return r[r.map(function(e){return e[0]}).indexOf(e)]=i,{remove:function(){i=i.splice(l,1),0===i.length?r.splice(r.map(function(e){return e[0]}).indexOf(e),1):r[r.map(function(e){return e[0]}).indexOf(e)]=i}}}},publish:{enumerable:!0,configurable:!1,writable:!1,value:function(n,i){var l=o(n),s=a(n),c=u(n);null!==l&&l.forEach(function(e){e(void 0!==i?i:{})}),null!==s&&(s.forEach(function(e){e(void 0!==i?i:{})}),t=t.filter(function(e){return e[0].toLowerCase()!==n.toLowerCase()})),null!==c&&c.forEach(function(e){e(void 0!==i?i:{})}),e.filter(function(e){if(e[0].indexOf("*")>=0){var t=new RegExp(e[0].replace("*",".*","gi"));return t.test(n)}return!1}).map(function(e){return e.slice(1,e.length)}).forEach(function(e){e.forEach(function(e){e(void 0!==i?i:{})})}),t.filter(function(e){if(e[0].indexOf("*")>=0){var t=new RegExp(e[0].replace("*",".*","gi"));return t.test(n)}return!1}).map(function(e){return e.slice(1,e.length)}).forEach(function(e){e.forEach(function(e){e(void 0!==i?i:{})})}),t=t.filter(function(e){if(e[0].indexOf("*")>=0){var t=new RegExp(e[0].replace("*",".*","gi"));return!t.test(n)}return!0}),r.filter(function(e){if(e[0].indexOf("*")>=0){var t=new RegExp(e[0].replace("*",".*","gi"));return t.test(n)}return!1}).forEach(function(e){e.forEach(function(e){e(void 0!==i?i:{})})})}},clear:{enumerable:!1,configurable:!1,writable:!1,value:function(n){e=e.filter(function(e){return e[0].toLowerCase()!==n.toLowerCase()}),t=t.filter(function(e){return e[0].toLowerCase()!==n.toLowerCase()}),r=r.filter(function(e){return e[0].toLowerCase()!==n.toLowerCase()})}},emit:{enumerable:!0,configurable:!1,writable:!1,value:function(){return this.publish.apply(this,arguments)}},subscribers:{enumerable:!0,get:function(){var r={};return e.forEach(function(e){r[e[0]]={persist:e.length-1,adhoc:0}}),t.forEach(function(e){r[e[0]]=r[e[0]]||{persist:0},r[e[0]].adhoc=e.length-1}),r}},persistentSubscribers:{enumerable:!0,get:function(){return e.map(function(e){return e[0]}).sort()}},adhocSubscribers:{enumerable:!0,get:function(){return t.map(function(e){return e[0]}).sort()}},autoSubscribers:{enumerable:!0,get:function(){return r.map(function(e){return e[0]}).sort()}},pool:{enumerable:!0,writable:!1,configurable:!1,value:function(e,t,r){"string"!=typeof e&&(t=e,e="");var n=this,i={};Object.keys(t).forEach(function(r){"function"==typeof t[r]?i[r]=n.subscribe((e.trim()||"")+r,t[r]):console.warn((e.trim()||"")+r+" could not be pooled in the event bus because it's value is not a function.")}),r&&r(i)}},attach:{enumerable:!0,writable:!1,configurable:!1,value:function(e){var t=this;return function(){var r=Array.prototype.slice.call(arguments);r.unshift(e),t.publish.apply(t,r)}}}}),n}();window.ref={},Object.defineProperties(window.ref,{keys:{enumerable:!1,writable:!0,configurable:!1,value:{}},find:{enumerable:!1,writable:!1,configurable:!1,value:function(e){var t="string"!=typeof e,r=t===!1?document.querySelectorAll(e):e,n=null;if(1===r.length)r[0].hasOwnProperty("isArray")||Object.defineProperties(r[0],{isArray:{enumerable:!1,get:function(){return!1}}}),r[0].hasOwnProperty("find")||Object.defineProperties(r[0],{find:{enumerable:!0,value:function(t){return"string"!=typeof e?window.ref.find(e.querySelectorAll(t)):window.ref.find((e+" > "+t).trim())}}}),r[0].hasOwnProperty("forward")||Object.defineProperty(r[0],"forward",{enumerable:!0,writable:!1,configurable:!1,value:function(e,t){if(void 0===BUS)return console.error("The event BUS is required for forward().");var r=function(e){BUS.emit(t,e)};this.addEventListener(e,r)}}),n=r[0];else{var i=Array.prototype.slice.call(r);Object.defineProperties(i,{querySelector:{enumerable:!1,writable:!1,configurable:!1,value:function(t){return"string"==typeof e?document.querySelector((e+" > "+t).trim()):e.querySelector(t.trim())}},querySelectorAll:{enumerable:!1,writable:!1,configurable:!1,value:function(t){return"string"==typeof e?document.querySelectorAll((e+" > "+t).trim()):e.querySelectorAll(t.trim())}},addEventListener:{enumerable:!1,writable:!1,configurable:!1,value:function(e,t){this.forEach(function(r){r.addEventListener(e,t)})}},removeEventListener:{enumerable:!1,writable:!1,configurable:!1,value:function(e,t){this.forEach(function(r){r.removeEventListener(e,t)})}},find:{enumerable:!0,value:function(t){return"string"==typeof e?window.ref.find((e+" > "+t).trim()):window.ref.find(e.querySelectorAll(t))}},isArray:{enumerable:!1,get:function(){return!0}},forward:{enumerable:!0,writable:!1,configurable:!1,value:function(e,t){if(void 0===BUS)return console.error("The event BUS is required for react().");var r=function(e){BUS.emit(t,e)};this.forEach(function(t){t.addEventListener(e,r)})}}}),n=i}return n}},create:{enumerble:!0,writable:!1,configurable:!1,value:function(e,t){if(!t&&"string"!=typeof e)return this.find(e);if("string"!=typeof e&&"number"!=typeof e)throw new Error("Cannot add a non-alphanumeric selector reference.");if(0===e.trim().length)throw new Error("Cannot add a blank selector reference.");if(void 0===t||null===t||0===t.trim().length)throw new Error("Cannot create a null/undefined selector reference.");var r=this.cleanKey(e),n=this;Object.defineProperty(window.ref,r,{enumerable:!1,writable:!0,configurable:!0,value:t}),Object.defineProperty(window.ref,e,{enumerable:!0,get:function(){return n.find(t)},set:function(e){if(void 0===e||null===e||0===e.trim().length)throw new Error("Cannot create a null/undefined selector reference.");window.ref[r]=e}}),this.keys[e]=t,this.keys[this.cleanKey(e)]=t}},remove:{enumerable:!0,writable:!1,configurable:!1,value:function(e){this.key&&(delete this.key,delete this.keys[e]);var t=this.cleanKey(e);this[t]&&(delete this[t],delete this.keys[t])}},cleanKey:{enumerable:!1,writable:!1,configurable:!1,value:function(e){return e.replace(/[^A-Za-z0-9\_\#\$\@\-\+]/gi,"")+e.length}},json:{enumerable:!0,get:function(){var e=this,t={};return Object.keys(this).forEach(function(r){e.hasOwnProperty(r)&&["json","find","remove"].indexOf(r.trim().toLowerCase())<0&&"function"!=typeof e[r]&&(t[r]=e.keys[r])}),t}}});var parser=new DOMParser;window.HTTP={xhr:function(e){var t;return window.XMLHttpRequest&&(t=new XMLHttpRequest),t.onreadystatechange=function(){4==t.readyState&&e&&e(t)},t},run:function(e,t,r){var n=HTTP.xhr(r);n.open(e,t,!0),n.send()},applyRequestSettings:function(e,t){if(!e||!t)throw new Error("No XHR or configuration object defined.");if(t.params){var r=Object.keys(t.params).map(function(e){return e+"="+encodeURIComponent(t.params[e])});t.url+="?"+r.join("&"),console.log(t.url)}e.open(t.method||"POST",t.url,!0),t.header=t.header||t.headers||{},Object.keys(t.header).forEach(function(r){e.setRequestHeader(r,t.header[r])});var n=null;if(t.json)(!t.header||t.header&&!t.header["Content-Type"])&&e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n=JSON.stringify(t.json).trim();else if(t.body)(!t.header||t.header&&!t.header["Content-Type"])&&e.setRequestHeader("Content-Type","application/text"),n=t.body;else if(t.form){var n=new FormData;Object.keys(t.form).forEach(function(e){n.append(e,t.form[e])})}return t.withCredentials&&(e.withCredentials=t.withCredentials),t.username&&t.password?e.setRequestHeader("Authorization","Basic "+btoa(t.username+":"+t.password)):t.accessToken&&e.setRequestHeader("Authorization","Bearer "+t.accessToken),n},send:function(e,t){e=e||{};var r=this.xhr(t),n=this.applyRequestSettings(r,e);r.send(n)},prepend:function(e,t){var e=Array.prototype.slice.call(e);return e.unshift(t),e},get:function(){if("object"==typeof arguments[0]){var e=arguments[0];return e.method="GET",e.url="string"==typeof arguments[1]?arguments[1]:e.url,this.send(e,arguments[arguments.length-1])}this.run.apply(this.run,this.prepend(arguments,"GET"))},put:function(e,t){e=e||{},e.method="PUT",e.url=e.url||window.location,this.send(e,t)},post:function(e,t){e=e||{},e.method="POST",e.url=e.url||window.location,this.send(e,t)},"delete":function(){this.run.apply(this.run,this.prepent(arguments,"DELETE"))},json:function(e,t,r){"string"==typeof e&&(r=t,t=e,e=null),null===e?this.run("GET",t,function(e){if(200!==e.status)throw Error("Could not retrieve JSON data from "+t+" (Status Code: "+e.status+").");try{e.json=JSON.parse(e.responseText)}catch(n){e.json=null}r&&r(e.json)}):(e.url=t,this.get(e,function(e){if(200!==e.status)throw Error("Could not retrieve JSON data from "+t+" (Status Code: "+e.status+").");try{e.json=JSON.parse(e.responseText)}catch(n){e.json=null}r&&r(e.json)}))},normalizeUrl:function(e){var t=[];return e.split("/").forEach(function(e){".."===e?t.pop():"."!==e&&t.push(e)}),t.join("/")},"import":function(e,t,r){var n=null;try{if(n=e.split("/").pop().split("?")[0].split(".").pop().toLowerCase(),"js"===n){var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",e)}else if("css"===n){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e)}document.getElementsByTagName("head")[0].appendChild(i),t&&t()}catch(o){}if(!(["js","css"].indexOf((n||"").trim().toLowerCase())>=0)){if(r="boolean"==typeof r?r:!1,"http"!==e.substr(0,4)){var a=window.location.href.split("/");a.pop(),e=a.join("/")+"/"+e}if(!r&&this.importCache.hasOwnProperty(e)){var u=this.createElement(this.importCache[e]);return t&&t(1===u.length?u[0]:u),window.BUS&&window.BUS.emit("html.import",1===u.length?u[0]:u),void delete u}var l=this;this.get(e,function(r){if(200!==r.status)return console.warn("Check the file path of the snippet that needs to be imported. "+e+" could not be found ("+r.status+")");var n=l.createElement(r.responseText);if(l.importCache[e]=r.responseText,0===n.length)console.warn(l.normalizeUrl(e)+" import has no HTML tags."),t&&t(r.responseText),window.BUS&&window.BUS.emit("html.import",r.responseText);else{var i=1===n.length?n[0]:n;t&&t(i),window.BUS&&window.BUS.emit("html.import",i)}delete div})}},importTo:function(e,t,r){this["import"](e,function(e){if("string"==typeof e)e=document.createTextNode(e);else if(e.length){var n=[];return Array.prototype.slice.call(e).forEach(function(e){n.push(t.appendChild(e))}),void(r&&r(n))}t.appendChild(e),r&&r(e)})},importBefore:function(e,t,r){this["import"](e,function(e){if("string"==typeof e)e=document.createTextNode(e);else if(e.length){var n=[];return Array.prototype.slice.call(e).forEach(function(e){n.push(t.parentNode.insertBefore(e,t)),t=e}),void(r&&r(n))}t.parentNode.insertBefore(e,t),r&&r(e)})},template:function(e,t,r){e=this.normalizeUrl(e),"function"==typeof t&&(r=t,t={}),t=t||{};var n,i=this;return this.importCache.hasOwnProperty(e)?(n=this.importCache[e],this.applyData(n,t,r)):void this.get(e,function(n){var o=null;try{o=e.split("/").pop().split("?")[0].split(".").pop().toLowerCase()}catch(a){}return["js","css"].indexOf((o||"").trim().toLowerCase())>=0?void console.warn("Cannot use a ."+o+" file as a template. Only HTML templates are supported."):(i.importCache[e]=n.responseText,void i.applyData(n.responseText,t,r))})}},Object.defineProperties(window.HTTP,{importCache:{enumerable:!1,writable:!0,configurable:!1,value:{}},createElement:{enumerable:!1,writable:!1,configurable:!1,value:function(e){return parser.parseFromString(e,"text/html").querySelector("body").children}},applyData:{enumerable:!1,writable:!1,configurable:!1,value:function(e,t,r){if(void 0===e)return console.warn("Empty template."),void(r&&r());Object.keys(t).forEach(function(r){var n=new RegExp("{{"+r+"}}","gm");e=e.replace(n,t[r])}),e=e.replace(/(\{\{.*\}\})/gm,"");var n=this.createElement(e);r&&r(n[0]),delete n}}}),function(){var e=document.createElement("style"),t=document.createTextNode('img[src$=".svg"]{display:none;}svg.loading{height:0px !important;width:0px !important;}');e.appendChild(t),document.head.appendChild(e)}();var SVG={};Object.defineProperties(SVG,{cache:{enumerable:!1,configurable:!1,writable:!0,value:{}},swapImagesForSvg:{enumerable:!1,configurable:!1,writable:!1,value:function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(null!==SVG.cache[n.src]&&null!==n&&null!==n.parentNode){for(var i=SVG.cache[n.src].cloneNode(!0),o=n.attributes,a=0;a<o.length;a++)n.hasAttribute(o[a].name)&&"src"!==o[a].name.toLowerCase()&&i.setAttribute(o[a].name,o[a].value);if(i.classList)for(var u=0;u<n.classList.length;u++)i.classList.add(n.classList[u]);else i.setAttribute("class",n.getAttribute("class"));n.parentNode.replaceChild(i,n)}}t&&t()}},update:{enumerable:!0,configurable:!1,writable:!1,value:function(e,t){"function"==typeof e?(t=e,e=document.body):e=e||document.body,"#text"!==e.nodeName&&(e=e.hasOwnProperty("length")===!0?Array.prototype.splice.call(e):[e],e.forEach(function(e){for(var r=e.querySelectorAll('img[src$=".svg"]'),n=0;n<r.length;n++)SVG.cache[r[n].src]=SVG.cache[r[n].src]||null;var i=0;Object.keys(SVG.cache).forEach(function(e){var t=!1;try{t=void 0!==require}catch(r){}if(t)try{var n=document.createElement("div");n.innerHTML=require("fs").readFileSync(e.replace("file://","")).toString(),SVG.cache[e]=n.querySelector("svg"),SVG.cache[e].removeAttribute("id"),SVG.cache[e].removeAttribute("xmlns:a"),i++}catch(r){i++,console.log(r.stack)}else HTTP.get(e,function(t){if(200!==t.status)i++;else{var r=document.createElement("div");r.innerHTML=t.responseText,SVG.cache[e]=r.querySelector("svg"),SVG.cache[e].removeAttribute("id"),SVG.cache[e].removeAttribute("xmlns:a"),i++}})});var o=setInterval(function(){i===Object.keys(SVG.cache).length&&(clearInterval(o),SVG.swapImagesForSvg(r,t))},5)}))}}});