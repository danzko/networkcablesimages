/**
  * v1.0.54 generated on: Sat Jun 18 2016 17:24:28 GMT-0500 (CDT)
  * Copyright (c) 2014-2016, Ecor Ventures LLC. All Rights Reserved. See LICENSE (BSD).
  */
window.NGN.BUS=function(){var e=[],n=[],t=[],i={},r=function(e,n){var t=e.filter(function(e){return n.toLowerCase()===e[0].toLowerCase()});return 0===t.length?null:(t.length>1&&console.warn("NGN Event Bus: "+t[0][0]+" exists more than once."),t[0].filter(function(e,n){return 0!==n}))},u=function(n){return r.apply(this,[e,n])},s=function(e){return r.apply(this,[n,e])},o=function(e){return r.apply(this,[t,e])},c=function(e,n){return null===e||void 0===e||null===n||void 0===n};return Object.defineProperties(i,{subscribe:NGN.define(!0,!1,!1,function(n,t){if(c(n,t))throw new Error("subscribe() requires a topic and listener function as arguments.");var i=u(n);null!==i&&i.unshift(n),null===i&&(i=[n])&&e.push(i);var r=i.push(t);return e[e.map(function(e){return e[0]}).indexOf(n)]=i,{unsubscribe:function(){i=i.splice(r,1),0===i.length?e.splice(e.map(function(e){return e[0]}).indexOf(n),1):e[e.map(function(e){return e[0]}).indexOf(n)]=i}}}),subscribeOnce:NGN.define(!0,!1,!1,function(e,t){if(c(e,t))throw new Error("subscribeOnce() requires a topic and listener function as arguments.");var i=s(e);null!==i&&i.unshift(e),null===i&&(i=[e])&&n.push(i),i.push(t),n[n.map(function(e){return e[0]}).indexOf(e)]=i}),on:NGN.define(!0,!1,!1,function(){return this.subscribe.apply(this,arguments)}),once:NGN.define(!0,!1,!1,function(){return this.subscribeOnce.apply(this,arguments)}),bind:NGN.define(!0,!1,!0,function(e,n,i){n="string"==typeof n?[n]:n;var r=o(e);null!==r&&r.unshift(e),null===r&&(r=[e])&&t.push(r);var u=this,s=function(e){n.forEach(function(n){u.publish(n,void 0!==e?e:{})})},c=r.push(s);return t[t.map(function(e){return e[0]}).indexOf(e)]=r,{remove:function(){r=r.splice(c,1),0===r.length?t.splice(t.map(function(e){return e[0]}).indexOf(e),1):t[t.map(function(e){return e[0]}).indexOf(e)]=r}}}),execWildcardListeners:NGN.define(!1,!1,!1,function(e,n,t,i,r){var u={eventName:e};i=void 0===i?!0:i,t=t.filter(function(n){if(n[0].indexOf("*")>=0){var t=new RegExp(n[0].replace("*",".*","gi"));return t.test(e)}return!1}),i&&(t=t.map(function(e){return e.slice(1,e.length)})),t.forEach(function(e){e.forEach(function(e){r?e.apply(u,n):e.call(u,void 0!==n?n:{})})})}),execListeners:NGN.define(!1,!1,!1,function(e,n,t,i){var r={eventName:e};null!==t&&t.forEach(function(e){i?e.apply(r,n):e.call(r,void 0!==n?n:{})})}),publish:NGN.define(!0,!1,!1,function(t,i){var r=u(t),c=s(t),f=o(t),a=arguments.length>2;a&&(i=NGN._slice(arguments),i[0]===t&&i.shift()),this.execListeners(t,i,r,a),null!==c&&(n=n.filter(function(e){return e[0].toLowerCase()!==t.toLowerCase()}),this.execListeners(t,i,c,a)),this.execListeners(t,i,f,a),this.execWildcardListeners(t,i,e,!0,a),this.execWildcardListeners(t,i,n,!0,a),n=n.filter(function(e){if(e[0].indexOf("*")>=0){var n=new RegExp(e[0].replace("*",".*","gi"));return!n.test(t)}return!0}),this.execWildcardListeners(t,i,n,!1,a)}),clear:NGN.define(!1,!1,!1,function(i){var r=function(e){return e.filter(function(e){return e[0].toLowerCase()!==i.toLowerCase()})};e=r(e),n=r(n),t=r(t)}),emit:NGN.define(!0,!1,!1,function(){return this.publish.apply(this,arguments)}),subscribers:NGN._get(function(){var t={};return e.forEach(function(e){t[e[0]]={persist:e.length-1,adhoc:0}}),n.forEach(function(e){t[e[0]]=t[e[0]]||{persist:0},t[e[0]].adhoc=e.length-1}),t}),persistentSubscribers:NGN._get(function(){return e.map(function(e){return e[0]}).sort()}),adhocSubscribers:NGN._get(function(){return n.map(function(e){return e[0]}).sort()}),autoSubscribers:NGN._get(function(){return t.map(function(e){return e[0]}).sort()}),pool:NGN.define(!0,!1,!1,function(e,n,t){"string"!=typeof e&&(n=e,e="");var i=this,r={};Object.keys(n).forEach(function(t){"function"==typeof n[t]?r[t]=i.subscribe((e.trim()||"")+t,n[t]):console.warn((e.trim()||"")+t+" could not be pooled in the event bus because it's value is not a function.")}),t&&t(r)}),attach:NGN.define(!0,!1,!1,function(e,n){var t=this;return n=NGN.coalesce(n,!1),function(i){n&&i.hasOwnProperty("preventDefault")&&i.preventDefault();var r=NGN._slice(arguments);r.unshift(e),t.publish.apply(t,r)}}),queue:NGN.define(!0,!1,!1,function(e,n,t){if("number"==typeof n||t?n=n||300:(t=n,n=300),!this._queue.hasOwnProperty(e)){var i=this;this._queue=setTimeout(function(){delete i._queue[e],i.publish(e,t)},n)}}),_queue:NGN.define(!1,!0,!1,{})}),i}();