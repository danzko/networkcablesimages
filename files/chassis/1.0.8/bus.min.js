/**
  * v1.0.7 generated on: Wed Nov 18 2015 15:22:31 GMT-0600 (CST)
  * Copyright (c) 2014-2015, Corey Butler. All Rights Reserved.
  */
window.NGN.BUS=function(){var n=[],t=[],e=[],r={},i=function(n,t){var e=n.filter(function(n){return t.toLowerCase()===n[0].toLowerCase()});return 0===e.length?null:(e.length>1&&console.warn("NGN Event Bus: "+e[0][0]+" exists more than once."),e[0].filter(function(n,t){return 0!==t}))},u=function(t){return i.apply(this,[n,t])},o=function(n){return i.apply(this,[t,n])},c=function(n){return i.apply(this,[e,n])},f=function(n,t){return null===n||void 0===n||null===t||void 0===t};return Object.defineProperties(r,{subscribe:NGN.define(!0,!1,!1,function(t,e){if(f(t,e))throw new Error("subscribe() requires a topic and listener function as arguments.");var r=u(t);null!==r&&r.unshift(t),null===r&&(r=[t])&&n.push(r);var i=r.push(e);return n[n.map(function(n){return n[0]}).indexOf(t)]=r,{unsubscribe:function(){r=r.splice(i,1),0===r.length?n.splice(n.map(function(n){return n[0]}).indexOf(t),1):n[n.map(function(n){return n[0]}).indexOf(t)]=r}}}),subscribeOnce:NGN.define(!0,!1,!1,function(n,e){if(f(n,e))throw new Error("subscribeOnce() requires a topic and listener function as arguments.");var r=o(n);null!==r&&r.unshift(n),null===r&&(r=[n])&&t.push(r),r.push(e),t[t.map(function(n){return n[0]}).indexOf(n)]=r}),on:NGN.define(!0,!1,!1,function(){return this.subscribe.apply(this,arguments)}),once:NGN.define(!0,!1,!1,function(){return this.subscribeOnce.apply(this,arguments)}),bind:NGN.define(!0,!1,!0,function(n,t,r){t="string"==typeof t?[t]:t;var i=c(n);null!==i&&i.unshift(n),null===i&&(i=[n])&&e.push(i);var u=this,o=function(n){t.forEach(function(t){u.publish(t,void 0!==n?n:{})})},f=i.push(o);return e[e.map(function(n){return n[0]}).indexOf(n)]=i,{remove:function(){i=i.splice(f,1),0===i.length?e.splice(e.map(function(n){return n[0]}).indexOf(n),1):e[e.map(function(n){return n[0]}).indexOf(n)]=i}}}),publish:NGN.define(!0,!1,!1,function(e,r){var i=u(e),f=o(e),s=c(e),a=function(n){null!==n&&n.forEach(function(n){n(void 0!==r?r:{})})},l=function(n,t){t=void 0===t?!0:t,n=n.filter(function(n){if(n[0].indexOf("*")>=0){var t=new RegExp(n[0].replace("*",".*","gi"));return t.test(e)}return!1}),t&&(n=n.map(function(n){return n.slice(1,n.length)})),n.forEach(function(n){n.forEach(function(n){n(void 0!==r?r:{})})})};a(i),null!==f&&(f.forEach(function(n){n(void 0!==r?r:{})}),t=t.filter(function(n){return n[0].toLowerCase()!==e.toLowerCase()})),a(s),l(n),l(t),t=t.filter(function(n){if(n[0].indexOf("*")>=0){var t=new RegExp(n[0].replace("*",".*","gi"));return!t.test(e)}return!0}),l(t,!1)}),clear:NGN.define(!1,!1,!1,function(r){var i=function(n){return n.filter(function(n){return n[0].toLowerCase()!==r.toLowerCase()})};n=i(n),t=i(t),e=i(e)}),emit:NGN.define(!0,!1,!1,function(){return this.publish.apply(this,arguments)}),subscribers:NGN._get(function(){var e={};return n.forEach(function(n){e[n[0]]={persist:n.length-1,adhoc:0}}),t.forEach(function(n){e[n[0]]=e[n[0]]||{persist:0},e[n[0]].adhoc=n.length-1}),e}),persistentSubscribers:NGN._get(function(){return n.map(function(n){return n[0]}).sort()}),adhocSubscribers:NGN._get(function(){return t.map(function(n){return n[0]}).sort()}),autoSubscribers:NGN._get(function(){return e.map(function(n){return n[0]}).sort()}),pool:NGN.define(!0,!1,!1,function(n,t,e){"string"!=typeof n&&(t=n,n="");var r=this,i={};Object.keys(t).forEach(function(e){"function"==typeof t[e]?i[e]=r.subscribe((n.trim()||"")+e,t[e]):console.warn((n.trim()||"")+e+" could not be pooled in the event bus because it's value is not a function.")}),e&&e(i)}),attach:NGN.define(!0,!1,!1,function(n){var t=this;return function(){var e=NGN._slice(arguments);e.unshift(n),t.publish.apply(t,e)}})}),r}();