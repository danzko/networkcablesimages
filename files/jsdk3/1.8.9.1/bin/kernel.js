(function(n){var u=this,r=n.runtimeEnvironment,s,e=r.logger,i,t,f,o;e.log("JSDK Initializing definiens of root class..."),i=this.Class=Function,i.create=function(n,r,u){var f=r||new i;return f.$extends(u||t),f.$name=n,f},i.forName=function(n){return r.loadClass(n)},i.prototype.$super=null,i.prototype.$class=i,i.prototype.$name="Class",i.prototype.addProperty=function(n,t,i,r){i=i.charAt(0).toUpperCase()+i.slice(1);var u=(t?"":"_")+(typeof r.get=="function"?"get":"")+i,f=(t?"":"_")+(typeof r.set=="function"?"set":"")+i;return n?(r.get&&(this[u]=r.get),r.set&&(this[f]=r.set)):(r.get&&(this.prototype[u]=r.get),r.set&&(this.prototype[f]=r.set)),this},i.prototype.addMethod=function(n,t,i,r){return i=t?i:"_"+i,n?this[i]=r:this.prototype[i]=r,this},i.prototype.addEventListener=function(n,t,i,r){return i=(t?"":"_")+"on"+i.replace("on",""),n?this[i]=r:this.prototype[i]=r,this},i.prototype.newInstance=function(){for(var t=[],n=0,i=arguments.length;n<i;n++)t.push("arguments["+n+"]");return eval("new this("+t.join(",")+")")},i.prototype.applyInstance=function(n,t,i){for(var o=[].concat(r.getNativeClasses("Object"),n.$class||[],n.$super||[],n.$implements||[]),w,s,u,b,h,c,e,f=0;f<o.length;f++)if(o[f]===this)return n;t=t==undefined?"implement":t;var l=!!n.constructor,y=["valueOf","toString"],p=y.concat([]),a=[],v=[];for(u in this.prototype){for(w=0,f=0;f<p.length;f++)if(u==p[f]){v=v.concat(p.splice(f,1)),w=1;break}w||(a[a.length]=u)}if(!l&&i){for(f=0,s=v.length;f<s;f++)u=v[f],n[u]=this.prototype[u];for(f=0,s=y.length;f<s;f++)this.prototype.hasOwnProperty(u=y[f])?n[u]=this.prototype[u]:this.getSuperclass()&&this.getSuperclass().prototype.hasOwnProperty(u)&&(n[u]=this.prototype[u])}for(f=0,s=a.length;f<s;f++)try{for(u=a[f],b=!1,e=0;e<o.length;e++)if(o[e].prototype.hasOwnProperty(u)&&o[e].prototype[u]===this.prototype[u]&&o[e].prototype[u]===n[u]){b=!0;break}if(b)continue;if(typeof n[u]=="undefined")n[u]=this.prototype[u];else if(i){for(h=[],c=u,e=0;typeof n[c]!="undefined"&&e<1e3;e++)h[e]=c,c="__"+c+"__";for(e=h.length-1;e>=0;e--)n["__"+h[e]+"__"]=n[h[e]];n[u]=this.prototype[u]}}catch(k){}switch(t){case 0:case"0":case"instance":try{n.$class=n.constructor=this}catch(k){}n.$implements=(n.$implements||[]).concat(this.$implements||[]);break;case 1:case"1":case"extends":if(l)n.__constructor__&&(n.constructor=n.__constructor__);else try{n.constructor=this}catch(k){}n.$class=n.constructor,n.$super=this,n.$implements=(n.$implements||[]).concat(this.$implements||[]);try{delete n.__constructor__}catch(k){}try{delete n.__$class__}catch(k){}break;case 2:case"2":case"implement":if(l)n.__constructor__&&(n.constructor=n.__constructor__);else try{delete n.constructor}catch(k){}n.$class=n.constructor,n.$implements=(n.$implements||[]).concat(this.$implements||[],this);try{delete n.__constructor__}catch(k){}try{delete n.__$class__}catch(k){}break;case 3:case"3":case"copy":if(l)n.__constructor__&&(n.constructor=n.__constructor__);else try{delete n.constructor}catch(k){}n.$class=n.constructor;try{delete n.__constructor__}catch(k){}try{delete n.__$class__}catch(k){}}return n},i.prototype.getName=function(){return this.$name},i.prototype.getSuperclass=function(){return this.$super},i.prototype.$extends=function(n){try{if(typeof(typeof n!="string"?n:n=i.forName(n))!="function")throw new f("Class.$extends() Error: the super class '"+n+"' is invalid.");var t=this.prototype=new n;return t.$class=t.constructor=this,this.$super=n,t}catch(r){throw new f("class.$extends() Error.",r);}},i.prototype.$implement=function(n){var r=["valueOf","toString"],i,t,u;if(typeof n=="object"){for(t in n)n.hasOwnProperty(t)&&(this.prototype[t]=n[t]);for(i=0,u=r.length;i<u;i++)n.hasOwnProperty(t=r[i])&&(this.prototype[t]=n[t])}return this},i.prototype.$encapsulate=function(n,t,i){var u,r;if(i=i||"__original",!this.$base){if(this.$base=n,!t){for(r in n)n.hasOwnProperty(r)&&typeof n[r]=="function"&&(this[r]=new Function("return this.$base."+r+".apply(this.$base,arguments);"));for(r in n.prototype)n.prototype.hasOwnProperty(r)&&typeof n.prototype[r]=="function"&&(this.prototype[r]=new Function("return this."+i+"."+r+".apply(this."+i+",arguments);"))}for(t=t||["valueOf","toString"],u=0;u<t.length;u++)r=t[u],n.hasOwnProperty(r)&&typeof n[r]=="function"&&(this[r]=new Function("return this.$base."+r+".apply(this.$base,arguments);")),n.prototype.hasOwnProperty(r)&&typeof n.prototype[r]=="function"&&(this.prototype[r]=new Function("return this."+i+"."+r+".apply(this."+i+",arguments);"));return this}},Function.prototype.$upcall=function(n){function u(n){return n.getClass().getSuperclass().prototype}var e=arguments.length,r,i,t,o,f;if(e<1)throw new Error("The first parameter must be swapped object.");r=n;do for(i in r)if(r[i]==arguments.callee.caller){for(t=r;t[i]==u(t)[i];)t=u(t);if("_"+t.getClass().getName()==i&&(i="_"+t.getClass().getSuperclass().getName()),e==1)return u(t)[i].call(n);for(o=[],f=1;f<e;f++)o.push(arguments[f]);return u(t)[i].apply(n,o)}while(r=u(r))},Function.prototype.$uppercall=function(n){function u(n){return n.getClass().getSuperclass().prototype}var e=arguments.length,r,i,t,o,f;if(e<1)throw new Error("The first parameter must be swapped object.");r=n;do for(i in r)if(r[i]==arguments.callee.caller){for(t=r;t[i]==u(t)[i];)t=u(t);if("_"+t.getClass().getName()==i&&(i="_"+t.getClass().getSuperclass().getSuperclass().getName()),t=u(u(t)),e==1)return t[i].call(n);for(o=[],f=1;f<e;f++)o.push(arguments[f]);return t[i].apply(n,o)}while(r=u(r))},e.log("JSDK Initializing definiens of base class..."),t=this.Object=function(n){this._value=n;switch(typeof n){case"undefined":return this._value={},this;case"string":return new u.String(n);case"number":return new u.Number(n);case"boolean":return new Boolean(n);case"object":return n instanceof r.getNativeClasses("String")?new u.String(n):n instanceof r.getNativeClasses("Number")?new u.Number(n):n instanceof r.getNativeClasses("Date")?u.Date.newInstanceFrom(n):n.constructor==r.getNativeClasses("Object")?this instanceof u.Object?this:new u.Object(n):n}},t.$name="Object",t.toString=function(){return"[Object "+this.getName()+"]"},t.prototype.$class=t,t.$implement({getClass:function(){return this.$class},toString:function(){return"[object "+this.getClass().getName()+"]"},valueOf:function(){return this._value},instanceOf:function(n){return this instanceof(typeof n=="string"?i.forName(n):n)},hasEvent:function(n){return typeof this[n]!="function"?!1:!0},addEventListener:function(n,t){typeof t=="function"&&(this[n]=t)},fireEvent:function(n,t){if(typeof this[n]=="function")try{return this[n](t)}catch(i){throw new Error(1e3,"Event '"+n+"' of object '"+this.getClass().getName()+"' has been runned error!\nSource: "+i.description);}}}),f=this.Exception=i.create("Exception",function(t,i){this.number=n._deviceNumber*65536+1,this.message=t||"no message",this.cause=i}).$implement({getName:function(){return this.getClass().getName()},getMessage:function(){return this.message},getCause:function(){return this.cause},toString:function(){return this.getName()+":"+this.getMessage()},printStackTrace:function(n){for(var i=this.toString(),t=this.cause;t!=null;)i+="\r\n\tat ",i+=t instanceof Error?"Error:"+t.number+","+t.message:t.toString(),t=t.cause;!n}}),this.String=i.create("String",function(n){this._value=(n||"").toString(),this.length=this._value.length}),r.copyNamespace(r.getNativeClasses("String"),["fromCharCode"],this.String),r.copyNamespace(r.getNativeClasses("String").prototype,["charAt","charCodeAt","concat","indexOf","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase"],this.String.prototype),this.String.$implement({toString:function(){return this._value},valueOf:function(){return this._value},trim:function(){return t(this.replace(/^\s+|\s+$/g,""))},ltrim:function(){return t(this.replace(/^\s+/g,""))},rtrim:function(){return t(this.replace(/\s+$/g,""))},clean:function(){return t(this.replace(/\s+/g," ").trim())},left:function(n){var i,r;switch(typeof n){case"string":return(i=this.indexOf(n),i<=0)?t(""):t(this.slice(0,i));case"number":return r=n,t(this.slice(0,r));default:return t("")}},leftBack:function(n){var i=this.lastIndexOf(n);return i<=0?t(""):t(this.slice(0,i))},middle:function(n,i,r){var u,f;r=r==undefined?0:r;switch(r){case 0:case"left":f=this.indexOf(n),u=this.indexOf(i,f+1);break;case 1:case"max":f=this.indexOf(n),u=this.lastIndexOf(i);break;case 2:case"right":u=this.lastIndexOf(i),f=this.lastIndexOf(n,u-1)}return f<0||u<0?t(""):f>=u?t(""):t(this.slice(f+n.length,u))},right:function(n){var i,r;switch(typeof n){case"string":return(i=this.indexOf(n),i<0)?t(""):t(this.slice(i+n.length));case"number":return r=n,t(this.slice(this.length-r));default:return t("")}},rightBack:function(n){var i=this.lastIndexOf(n);return i<0?t(""):t(this.slice(i+n.length))},reverse:function(){return t(this.split("").reverse().join(""))},repeat:function(n){var i=[],r=this.toString();if(n==undefined||isNaN(n))return t(r);while(n--)i[i.length]=r;return t(i.join(""))},truncate:function(n,i,r){var u=this.toString(),f=[],s,e,o;if(i=i==undefined?1:i,r=r||"",r.length>=n)return t(u);switch(i){case 0:if(s=this.getAsciiCount()+this.getNonAsciiCount()*2,s>n){for(e=0,o=n-r.length;o>0;e++,o--)u.charCodeAt(e)<=255?f[f.length]=u.charAt(e):o>1&&(f[f.length]=u.charAt(e),o--);u=f.join("")+r}break;case 1:u.length>n&&(u=u.split(0,n-r.length)+r)}return t(u)},xsplit:function(n,t){var v="",f,u,l,r,h,i;if(!(t instanceof Array))return this.split(t);f=[];switch(n){case"":case"first":for(u=0,l=t.length;u<l;u++)if(this.indexOf(t[u])>=0){v=t[u];break}f=this.split(v);break;case"any":for(i=this.toString();i.length;){r=i.length,h=-1;for(var u=0,e=0,l=t.length;u<l;u++)e=i.indexOf(t[u]),e>=0&&e<r&&(r=e,h=u);h>=0?(f[f.length]=i.slice(0,r),i=i.slice(r+t[h].length)):(f[f.length]=i,i="")}break;case"group":if(!t.length||t.length%2!=0)throw"Parameter 'vSepStr' of method 'xsplit' of class 'String' must contain an even number of elements.";for(var r,s,a="",o="",c=!0,i=this.toString();i.length;){if(r=i.length,c){s=-1;for(var u=0,e=0,l=t.length;u<l;u+=2)e=i.indexOf(t[u]),e>=0&&e<r&&(r=e,s=u);if(s>=0)a=t[s],o=t[s+1],f.push(["",i.slice(0,r)]),i=i.slice(r+a.length);else{f.push(["",i]);break}}else if(r=i.indexOf(o),r>=0)f.push([a+o,i.slice(0,r)]),i=i.slice(r+o.length);else throw'Missing closing delimiter "'+o+'"';c=!c}if(!c&&i=="")throw'Missing closing delimiter "'+o+'"';}return f},padLeft:function(n,i){return this.length>=n?this:t(t(i).repeat(n-this.length)+this.valueOf())},padRight:function(n,i){return this.length>=n?this:t(this.valueOf()+t(i).repeat(n-this.length))},hasAscii:function(){var n=/[\x00-\xff]+/gi;return n.test(this)},hasNonAscii:function(){var n=/[^\x00-\xff]+/gi;return n.test(this)},getAsciiCount:function(){return this.replace(/[^\x00-\xff]*/g,"").length},getNonAsciiCount:function(){return this.replace(/[\x00-\xff]*/g,"").length},encodeNonAscii:function(){return this.toString().replace(/([^\x00-\xff])/g,function(n){return"\\u"+n.charCodeAt(0).toString(16).slice(-4)})},isAllAscii:function(){var n=/^[\x00-\xff]*$/gi;return n.test(this)},isAllLetter:function(n){var t;n=n==undefined?0:n;switch(n){case 0:t=/^[a-z]*$/gi;break;case 1:t=/^[a-z]*$/g;break;case 2:t=/^[A-Z]*$/g}return t.test(this)},isAllNumber:function(){var n=/^[0-9]*$/gi;return n.test(this)},equal:function(n,t){if(!arguments.length)return!1;if(t=t==null?!1:t,n instanceof Array){for(var i=0;i<n.length;i++)if(t&&this.toLowerCase()==n[i].toLowerCase()||!t&&this.toString()==n[i])return!0}else return this.toLowerCase()==n.toLowerCase();return!1},serialize:function(){return'"'+this.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/([^\x00-\xff])/g,function(n){return"\\u"+n.charCodeAt(0).toString(16).slice(-4)})+'"'}}),this.Number=i.create("Number",function(n){this._value=(n||0).valueOf(),this.MAX_VALUE=this._value.MAX_VALUE,this.MIN_VALUE=this._value.MIN_VALUE,this.NaN=this._value.NaN,this.NEGATIVE_INFINITY=this._value.NEGATIVE_INFINITY}),r.copyNamespace(r.getNativeClasses("Number"),["POSITIVE_INFINITY"],this.Number),r.copyNamespace(r.getNativeClasses("Number").prototype,["toFixed","toPrecision","toExponential","toLocaleString"],this.Number.prototype),this.Number.$implement({toString:function(){return this._value.toString()},valueOf:function(){return this._value},isWithin:function(n,t){if(typeof n!="number"||typeof t!="number"||n>t)throw new Error(1e3,"Parameter of method 'atAround' of class 'Number' is invalid!");return this>=n&&this<=t?!0:!1},isWithout:function(n,t){if(typeof n!="number"||typeof t!="number"||n>t)throw new Error(1e3,"Parameter of method 'atAround' of class 'Number' is invalid!");return this>=n&&this<=t?!1:!0},atAround:function(n,t,i){if(typeof n!="number"||typeof t!="number"||n>t)throw new Error(1e3,"Parameter of method 'atAround' of class 'Number' is invalid!");i=i==undefined?0:i;switch(i){case 0:case"[]":if(this<n)return-1;if(this>=n&&this<=t)return 0;if(this>t)return 1;break;case 1:case"()":if(this<=n)return-1;if(this>n&&this<t)return 0;if(this>=t)return 1}throw new Error(1e3,"Method 'atAround' of class 'Number' run error!");}}),this.Date=i.create("Date",function(n){var t=r.getNativeClasses("Date");this._value=n==undefined?new t:n}).$encapsulate(r.getNativeClasses("Date"),["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getVarDate","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toGMTString","toLocaleString","toUTCString","parse","UTC","valueOf","toString"],"_value"),this.Date.newInstanceFrom=function(n){var t=new this;return t._value=n,t},this.Date.compareDate=function(){},this.Date.computeTime=function(n,t,i){var u,r;switch(t.toString().toLowerCase()){case"0":case"time":u=0;break;case"1":case"h":u=1;break;case"2":case"m":u=2;break;case"3":case"s":u=3;break;case"4":case"ms":u=4;break;default:u=0}switch(i.toString().toLowerCase()){case"0":case"hh:mm:ss:ms":r=0;break;case"1":case"h":r=1;break;case"2":case"m":r=2;break;case"3":case"s":r=3;break;case"4":case"ms":r=4;break;default:r=0}if(u==0){var f=n.getHours(),e=n.getMinutes(),o=n.getSeconds(),s=n.getMilliseconds();return r==0?[f,e,o,s]:r==1?f:r==2?f*60+e:r==3?f*3600+e*60+o:r==4?(f*3600+e*60+o)*1e3+s:0}return u<=3?r==0?[Math.floor(n*Math.pow(60,1-u)),Math.floor((n=n%Math.pow(60,u-1))*Math.pow(60,2-u)),Math.floor((n=n%Math.pow(60,u-2))*Math.pow(60,3-u)),0]:r<=3?Math.floor(n*Math.pow(60,r-u)):r==4?Math.floor(n*Math.pow(60,3-u)*1e3):0:u==4?r==0?[Math.floor(n*Math.pow(60,-2)*Math.pow(1e3,-1)),Math.floor((n=n%(Math.pow(60,2)*Math.pow(1e3,1)))*Math.pow(60,-1)*Math.pow(1e3,-1)),Math.floor((n=n%(Math.pow(60,1)*Math.pow(1e3,1)))*Math.pow(60,0)*Math.pow(1e3,-1)),n%Math.pow(1e3,1)]:r<=3?Math.floor(n*Math.pow(60,r-3)*Math.pow(1e3,-1)):r==4?n:0:0},this.Date.$implement({toSTDString:function(n,t){var u=this.getFullYear(),f=this.getMonth()+1,e=this.getDate(),o=this.getHours(),s=this.getMinutes(),h=this.getSeconds(),i=[("0000"+u).slice(-4),("00"+f).slice(-2),("00"+e).slice(-2)].join(t||"-"),r=[("00"+o).slice(-2),("00"+s).slice(-2),("00"+h).slice(-2)].join(":");switch(n&&n.toLowerCase()){case"date":return i;case"time":return r;case"datetime":default:return i+" "+r}}}),o=this.Package=i.create("Package",function(n){this._name=n}).$implement({getName:function(){return this._name},getChildClass:function(n){return i.forName(this._name+"."+n)}})})