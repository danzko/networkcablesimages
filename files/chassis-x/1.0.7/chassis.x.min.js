/**
<<<<<<< Updated upstream
  * v1.0.6 generated on: Sun May 08 2016 18:05:56 GMT-0500 (CDT)
=======
<<<<<<< Updated upstream
  * v1.0.6 generated on: Sun May 08 2016 18:05:33 GMT-0500 (CDT)
=======
  * v1.0.5 generated on: Sun May 08 2016 18:04:11 GMT-0500 (CDT)
>>>>>>> Stashed changes
>>>>>>> Stashed changes
  * Copyright (c) 2014-2016, Ecor Ventures LLC. All Rights Reserved. See LICENSE (BSD).
  */
"use strict";if(window.NGN.BUS){window.NGNX=window.NGNX||{},NGN._od(NGNX,"statechangerecorded",!1,!0,!1,!1),NGN.BUS.on("state.change",function(e){NGN.BUS.emit("state."+(e?"visible":"hidden"))});var statehandler=function(){NGNX.statechangerecorded||(NGNX.statechangerecorded=!0,setTimeout(function(){NGNX.statechangerecorded=!1},25),NGN.BUS.emit("state.change","visible"===document.visibilityState))};document.addEventListener("visibilitychange",statehandler),document.addEventListener("beforeunload",statehandler),document.addEventListener("pagehide",statehandler)}else console.warn("State management is inactive because NGN.BUS was not found.");if(window.NGNX=window.NGNX||{},window.NGNX.DATA=window.NGNX.DATA||{},!NGN.DATA.Proxy||!NGN.HTTP)throw new Error("NGN.DATA.Proxy & NGN.HTTP are required for NGN.DATA.HttpProxy.");window.NGNX.DATA.HttpProxy=function(e){e=e||{},this.constructor(e);var t=this;Object.defineProperties(this,{headers:NGN.define(!0,!0,!1,e.headers||{}),options:NGN._get(function(){var e={url:this.url,headers:this.headers};return this.token&&(e.accessToken=this.token),this.username&&(e.username=this.username),this.password&&(e.password=this.password),this.username&&this.password&&(e.withCredentials=!0),e}),save:NGN.define(!0,!1,!1,function(e,n){"function"==typeof url&&(n=e,e="");var s=0,i=function(e,i){return function(a){s++,200!==a.status&&201!==a.status&&NGN.emit("save.error",{message:a.responseText,status:a.status,action:e,model:i}),s===t.actions.create.length+t.actions.update.length+t.actions["delete"].length&&n&&n()}},a=this.options;a.url+=e||"",this.actions.create.forEach(function(e){a.json=e.data,NGN.HTTP.post(a,i("create",e))}),this.actions.update.forEach(function(e){a.url+="/"+e.id,a.json=e.data,NGN.HTTP.put(a,i("update",e))}),this.actions["delete"].forEach(function(e){a.url+="/"+e.id,NGN.HTTP["delete"](a,i("delete",e))})}),fetch:NGN.define(!0,!1,!1,function(e,n){var s=this.options;s.url+=e||"",NGN.HTTP.get(s,function(e){var s=e.responseText;"string"==typeof s&&(s=JSON.parse(s)),s instanceof Array&&t.store.reload(s),n&&n()})})})},NGN.DATA.util.inherit(NGN.DATA.Proxy,NGNX.DATA.HttpProxy);