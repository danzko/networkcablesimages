(function($){var shouldCheckInView=false;function getViewportHeight(){var height=window.innerHeight;if(height){return height}var mode=document.compatMode;if((mode||!$.support.boxModel)){height=(mode=="CSS1Compat")?document.documentElement.clientHeight:document.body.clientHeight}return height}function offsetTop(debug){var curtop=0;for(var obj=debug;obj!==null;obj=obj.offsetParent){curtop+=obj.offsetTop}return curtop}function check_inview(){var vpH=getViewportHeight(),scrolltop=(window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop),elems=[];$.each($.cache,function(){if(this.events&&this.events.inview){elems.push(this.handle.elem)}});if(elems.length){$(elems).each(function(){var $el=$(this),top=offsetTop(this),height=$el.height(),inview=$el.data("inview")||false;if(scrolltop>(top+height)||scrolltop+vpH<top){if(inview){$el.data("inview",false);$el.trigger("inview",[false])}}else{if(scrolltop<(top+height)){var visPart=(scrolltop>top?"bottom":(scrolltop+vpH)<(top+height)?"top":"both");if(!inview||inview!==visPart){$el.data("inview",visPart);$el.trigger("inview",[true,visPart])}}}})}}function triggerInViewChecker(){shouldCheckInView=true}$(window).scroll(triggerInViewChecker);$(window).resize(triggerInViewChecker);$(window).click(triggerInViewChecker);$(window).ready(triggerInViewChecker);setInterval(function(){if(shouldCheckInView){shouldCheckInView=false;check_inview()}},100)})(jQuery);