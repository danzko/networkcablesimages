// KUTE.js | dnp_theme | MIT-License
!function(a){"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?module.exports=a():window.KUTE=window.KUTE||a()}(function(){"use strict";var c,a=a||{},b=[],d=Math.min;a.getPrefix=function(){var a=document.createElement("div"),b=0,c=["Moz","moz","Webkit","webkit","O","o","Ms","ms"],d=c.length,e=["MozTransform","mozTransform","WebkitTransform","webkitTransform","OTransform","oTransform","MsTransform","msTransform"];for(b;b<d;b++)if(e[b]in a.style)return c[b];a=null},a.property=function(b){var c=!(b in document.body.style),d=a.getPrefix();return c?d+(b.charAt(0).toUpperCase()+b.slice(1)):b},a.selector=function(a,b){var c;if(c=b?a instanceof NodeList?a:document.querySelectorAll(a):"object"==typeof a?a:/^#/.test(a)?document.getElementById(a.replace("#","")):document.querySelector(a),null===c&&"window"!==a)throw new TypeError("Element not found or incorrect selector: "+a);return c};for(var e=("ontouchstart"in window||navigator.msMaxTouchPoints||!1),f=e?"touchstart":"mousewheel",g="mouseenter",h=a.property("transformOrigin"),i=a.property("perspective"),j=a.property("perspectiveOrigin"),k=a.property("transform"),l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return setTimeout(a,16)},m=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||function(a){return clearTimeout(a)},n=document.body,o=document.getElementsByTagName("HTML")[0],p=/webkit/i.test(navigator.userAgent)||"BackCompat"==document.compatMode?n:o,q=null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&parseFloat(RegExp.$1),r=8===q,s=["color","backgroundColor"],t=["scrollTop","scroll"],u=["opacity"],v=["top","left","width","height"],w=["rotateX","rotateY","translateZ"],x=["translate3d","translateX","translateY","translateZ","rotate","translate","rotateX","rotateY","rotateZ","skewX","skewY","scale"],y=s.concat(t,u,v,x),z=y.length,A=A||{},B=0;B<z;B++){var C=y[B];s.indexOf(C)!==-1?A[C]="rgba(0,0,0,0)":v.indexOf(C)!==-1?A[C]=0:"translate3d"===C?A[C]=[0,0,0]:"translate"===C?A[C]=[0,0]:"rotate"===C||/X|Y|Z/.test(C)?A[C]=0:"scale"!==C&&"opacity"!==C||(A[C]=1)}a.to=function(b,c,d){var e=a.selector(b),f=c,g=a.prP(c,{},e)[0];return d=d||{},d.rpr=!0,new a.Tween(e,f,g,d)},a.fromTo=function(b,c,d,e){var f=a.selector(b),g=a.prP(c,d,f),h=g[0],i=g[1];e=e||{};var j=new a.Tween(f,h,i,e);return a.svg&&a.svq(j),j},a.allTo=function(b,c,d){var e=a.selector(b,!0);return new a.TweensTO(e,c,d)},a.allFromTo=function(b,c,d,e){var f=a.selector(b,!0);return new a.TweensFT(f,c,d,e)},a.dom={},a._u=function(b,c){if(c=c||window.performance.now(),c<b._sT&&b.playing&&!b.paused)return!0;var e,f=d((c-b._sT)/b._dr,1);for(e in b._vE)a.dom[e](b,e,b._e(f));if(b._uC&&b._uC.call(),1===f){if(b._r>0)return b._r<9999&&b._r--,b._y&&(b.reversed=!b.reversed,b.rvs()),b._sT=b._y&&!b.reversed?c+b._rD:c,!0;b._cC&&b._cC.call(),b.scrollOut();var g=0,h=b._cT.length;for(g;g<h;g++)b._cT[g].start(b._sT+b._dr);return b.close(),!1}return!0},a._tk=function(d){var f,e=0;for(c=l(a._tk);e<(f=b.length);)a._u(b[e],d)?e++:b.splice(e,1)},a.perspective=function(a,b){void 0!==b._to&&(a.style[h]=b._to),void 0!==b._ppo&&(a.style[j]=b._ppo),void 0!==b._ppp&&(a.parentNode.style[i]=b._ppp+"px"),void 0!==b._pppo&&(a.parentNode.style[j]=b._pppo)},a.getAll=function(){return b},a.removeAll=function(){b=[]},a.add=function(a){b.push(a)},a.remove=function(a){var c=b.indexOf(a);c!==-1&&b.splice(c,1)},a.s=function(){m(c),c=null},a.prP=function(b,c,d){var e,f=arguments.length,g=[];for(f=f>2?2:f,e=0;e<f;e++){var i,h=arguments[e],j={},k={},l={},m={};g[e]={};for(i in h)if(x.indexOf(i)!==-1){if(/^translate(?:[XYZ]|3d)$/.test(i)){var n=["X","Y","Z"],o=0;for(o;o<3;o++){var p=n[o];/3d/.test(i)?l["translate"+p]=a.pp.tf("translate"+p,h[i][o]):l["translate"+p]="translate"+p in h?a.pp.tf("translate"+p,h["translate"+p]):{value:0,unit:"px"}}m.translate=l}else if(/^rotate(?:[XYZ])$/.test(i)||/^skew(?:[XY])$/.test(i)){var q=/rotate/.test(i)?"rotate":"skew",r=["X","Y","Z"],w=0,y="rotate"===q?k:j;for(w;w<3;w++){var z=r[w];void 0!==h[q+z]&&"skewZ"!==i&&(y[q+z]=a.pp.tf(q+z,h[q+z]))}m[q]=y}else/(rotate|translate|scale)$/.test(i)&&(m[i]=a.pp.tf(i,h[i]));g[e].transform=m}else"transform"!==i&&(v.indexOf(i)!==-1?g[e][i]=a.pp.box(i,h[i]):u.indexOf(i)!==-1||t.indexOf(i)!==-1?g[e][i]=a.pp.unl(i,h[i]):s.indexOf(i)!==-1?g[e][i]=a.pp.cls(i,h[i]):i in a.pp&&(g[e][i]=a.pp[i](i,h[i],d)))}return g},a.pp={},a.prS={},a.pp.tf=function(b,c){"transform"in a.dom||(a.dom.transform=function(a,b,c){var e,f,d="",g="perspective("+a._pp+"px) ";for(e in a._vE[b]){var h=a._vS[b][e],i=a._vE[b][e];if(f=f||w.indexOf(e)!==-1&&!q,"translate"===e){var m,j="",l={};for(m in i){var n=h[m].value||0,o=i[m].value||0,p=i[m].unit||"px";l[m]=n===o?o+p:n+(o-n)*c+p}j=i.x?"translate("+l.x+","+l.y+")":"translate3d("+l.translateX+","+l.translateY+","+l.translateZ+")",d=""===d?j:j+" "+d}else if("rotate"===e){var t,r="",s={};for(t in i)if(h[t]){var u=h[t].value,v=i[t].value,x=i[t].unit||"deg",y=u+(v-u)*c;s[t]="z"===t?"rotate("+y+x+")":t+"("+y+x+") "}r=i.z?s.z:(s.rotateX||"")+(s.rotateY||"")+(s.rotateZ||""),d=""===d?r:d+" "+r}else if("skew"===e){var z="",A={};for(var B in i)if(h[B]){var C=h[B].value,D=i[B].value,E=i[B].unit||"deg",F=C+(D-C)*c;A[B]=B+"("+F+E+") "}z=(A.skewX||"")+(A.skewY||""),d=""===d?z:d+" "+z}else if("scale"===e){var G=h.value,H=i.value,I=G+(H-G)*c,J=e+"("+I+")";d=""===d?J:d+" "+J}}a._el.style[k]=f||void 0!==a._pp&&0!==a._pp?g+d:d});var e,d=b.replace(/X|Y|Z/,"");if("translate3d"===b)return e=c.split(","),{translateX:{value:a.truD(e[0]).v,unit:a.truD(e[0]).u},translateY:{value:a.truD(e[1]).v,unit:a.truD(e[1]).u},translateZ:{value:a.truD(e[2]).v,unit:a.truD(e[2]).u}};if("translate"!==b&&"translate"===d)return{value:a.truD(c).v,unit:a.truD(c).u||"px"};if("rotate"!==b&&("skew"===d||"rotate"===d)&&"skewZ"!==b)return{value:a.truD(c).v,unit:a.truD(c,b).u||"deg"};if("translate"===b){e="string"==typeof c?c.split(","):c;var f={};return e instanceof Array?(f.x={value:a.truD(e[0]).v,unit:a.truD(e[0]).u},f.y={value:a.truD(e[1]).v,unit:a.truD(e[1]).u}):(f.x={value:a.truD(e).v,unit:a.truD(e).u},f.y={value:0,unit:"px"}),f}if("rotate"===b){var g={};return g.z={value:a.truD(c,b).v,unit:a.truD(c,b).u||"deg"},g}return"scale"===b?{value:parseFloat(c)}:void 0},a.pp.unl=function(b,c){return/scroll/.test(b)?a.dom[b]=function(a,b,c){a._el=void 0===a._el||null===a._el?p:a._el,a._el.scrollTop=a._vS[b].value+(a._vE[b].value-a._vS[b].value)*c}:"opacity"===b&&(b in a.dom||(r?a.dom[b]=function(a,b,c){a._el.style.filter="alpha(opacity="+100*(a._vS[b].value+(a._vE[b].value-a._vS[b].value)*c)+")"}:a.dom[b]=function(a,b,c){a._el.style.opacity=a._vS[b].value+(a._vE[b].value-a._vS[b].value)*c})),{value:parseFloat(c)}},a.pp.box=function(b,c){return b in a.dom||(a.dom[b]=function(a,b,c){a._el.style[b]=a._vS[b].value+(a._vE[b].value-a._vS[b].value)*c+a._vE[b].unit}),{value:a.truD(c).v,unit:a.truD(c).u}},a.pp.cls=function(b,c){return b in a.dom||(a.dom[b]=function(b,c,d){var e={};for(var f in b._vE[c].value)"a"!==f?e[f]=parseInt(b._vS[c].value[f]+(b._vE[c].value[f]-b._vS[c].value[f])*d)||0:e[f]=b._vS[c].value[f]&&b._vE[c].value[f]?parseFloat(b._vS[c].value[f]+(b._vE[c].value[f]-b._vS[c].value[f])*d):null;b._hex?b._el.style[c]=a.rth(e.r,e.g,e.b):b._el.style[c]=!e.a||r?"rgb("+e.r+","+e.g+","+e.b+")":"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"}),{value:a.truC(c)}},a.truD=function(a,b){function g(){var c,f=0;for(f;f<e;f++)"string"==typeof a&&a.indexOf(d[f])!==-1&&(c=d[f]);return c=void 0!==c?c:b?"deg":"px"}var c=parseInt(a)||0,d=["px","%","deg","rad","em","rem","vh","vw"],e=d.length,f=g();return{v:c,u:f}},a.preventScroll=function(a){var b=document.body.getAttribute("data-tweening");b&&"scroll"===b&&a.preventDefault()},a.truC=function(b){var c,d;if(/rgb|rgba/.test(b))return c=b.replace(/[^\d,]/g,"").split(","),d=c[3]?c[3]:null,d?{r:parseInt(c[0]),g:parseInt(c[1]),b:parseInt(c[2]),a:1*d}:{r:parseInt(c[0]),g:parseInt(c[1]),b:parseInt(c[2])};if(/#/.test(b))return c=a.htr(b),{r:c.r,g:c.g,b:c.b};if(/transparent|none|initial|inherit/.test(b))return{r:0,g:0,b:0,a:0};if(!/#|rgb/.test(b)){var e=document.getElementsByTagName("head")[0];return e.style.color=b,c=window.getComputedStyle(e,null).color,e.style.color="",b!==c?a.truC(c):{r:0,g:0,b:0}}},a.rth=function(a,b,c){return"#"+((1<<24)+(a<<16)+(b<<8)+c).toString(16).slice(1)},a.htr=function(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null},a.gIS=function(a,b){if(a){var c=a.style.cssText,d={},e=c.replace(/\s/g,"").split(";"),f=0,g=e.length;for(f;f<g;f++)if(/transform/.test(e[f])){var h=e[f].split(":")[1].split(")"),i=0,j=h.length;for(i;i<j;i++){var k=h[i].split("(");""!==k[0]&&x.indexOf(k)&&(d[k[0]]=/translate3d/.test(k[0])?k[1].split(","):k[1])}}return d}},a.gCS=function(b,c){var d=b.style,e=window.getComputedStyle(b,null)||b.currentStyle,f=a.property(c),g=d[c]&&!/auto|initial|none|unset/.test(d[c])?d[c]:e[f];if("transform"!==c&&(f in e||f in d)){if(g){if("filter"===f){var h=parseInt(g.split("=")[1].replace(")","")),i=parseFloat(h/100);return i}return g}return A[c]}},a.pe=function(b){if("function"==typeof b)return b;if("string"==typeof b){if(/easing|linear/.test(b))return a.Easing[b];if(/bezier/.test(b)){var c=b.replace(/bezier|\s|\(|\)/g,"").split(",");return a.Ease.Bezier(1*c[0],1*c[1],1*c[2],1*c[3])}return/physics/.test(b)?a.Physics[b]():a.Ease[b]()}},a.Easing={},a.Easing.linear=function(a){return a};var D=Math.PI,E=2*Math.PI,F=Math.PI/2,G=.1,H=.4;a.Easing.easingSinusoidalIn=function(a){return-Math.cos(a*F)+1},a.Easing.easingSinusoidalOut=function(a){return Math.sin(a*F)},a.Easing.easingSinusoidalInOut=function(a){return-.5*(Math.cos(D*a)-1)},a.Easing.easingQuadraticIn=function(a){return a*a},a.Easing.easingQuadraticOut=function(a){return a*(2-a)},a.Easing.easingQuadraticInOut=function(a){return a<.5?2*a*a:-1+(4-2*a)*a},a.Easing.easingCubicIn=function(a){return a*a*a},a.Easing.easingCubicOut=function(a){return--a*a*a+1},a.Easing.easingCubicInOut=function(a){return a<.5?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},a.Easing.easingQuarticIn=function(a){return a*a*a*a},a.Easing.easingQuarticOut=function(a){return 1- --a*a*a*a},a.Easing.easingQuarticInOut=function(a){return a<.5?8*a*a*a*a:1-8*--a*a*a*a},a.Easing.easingQuinticIn=function(a){return a*a*a*a*a},a.Easing.easingQuinticOut=function(a){return 1+--a*a*a*a*a},a.Easing.easingQuinticInOut=function(a){return a<.5?16*a*a*a*a*a:1+16*--a*a*a*a*a},a.Easing.easingCircularIn=function(a){return-(Math.sqrt(1-a*a)-1)},a.Easing.easingCircularOut=function(a){return Math.sqrt(1-(a-=1)*a)},a.Easing.easingCircularInOut=function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},a.Easing.easingExponentialIn=function(a){return Math.pow(2,10*(a-1))-.001},a.Easing.easingExponentialOut=function(a){return 1-Math.pow(2,-10*a)},a.Easing.easingExponentialInOut=function(a){return(a*=2)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))},a.Easing.easingBackIn=function(a){var b=1.70158;return a*a*((b+1)*a-b)},a.Easing.easingBackOut=function(a){var b=1.70158;return--a*a*((b+1)*a+b)+1},a.Easing.easingBackInOut=function(a){var b=2.5949095;return(a*=2)<1?.5*(a*a*((b+1)*a-b)):.5*((a-=2)*a*((b+1)*a+b)+2)},a.Easing.easingElasticIn=function(a){var b;return 0===a?0:1===a?1:(!G||G<1?(G=1,b=H/4):b=H*Math.asin(1/G)/E,-(G*Math.pow(2,10*(a-=1))*Math.sin((a-b)*E/H)))},a.Easing.easingElasticOut=function(a){var b;return 0===a?0:1===a?1:(!G||G<1?(G=1,b=H/4):b=H*Math.asin(1/G)/E,G*Math.pow(2,-10*a)*Math.sin((a-b)*E/H)+1)},a.Easing.easingElasticInOut=function(a){var b;return 0===a?0:1===a?1:(!G||G<1?(G=1,b=H/4):b=H*Math.asin(1/G)/E,(a*=2)<1?-.5*(G*Math.pow(2,10*(a-=1))*Math.sin((a-b)*E/H)):G*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*E/H)*.5+1)},a.Easing.easingBounceIn=function(b){return 1-a.Easing.easingBounceOut(1-b)},a.Easing.easingBounceOut=function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},a.Easing.easingBounceInOut=function(b){return b<.5?.5*a.Easing.easingBounceIn(2*b):.5*a.Easing.easingBounceOut(2*b-1)+.5},a.Tween=function(b,c,d,e){this._el=b,this._vSR={},this._vS=c,this._vE=d,this._y=e.yoyo||!1,this.playing=!1,this.reversed=!1,this.paused=!1,this._sT=null,this._pST=null,this._hex=e.keepHex||!1,this._rpr=e.rpr||!1,this._dr=e.duration||700,this._r=e.repeat||0,this._rD=e.repeatDelay||0,this._dl=e.delay||0,this._to=e.transformOrigin,this._pp=e.perspective,this._ppo=e.perspectiveOrigin,this._ppp=e.parentPerspective,this._pppo=e.parentPerspectiveOrigin,this._e=e&&e.easing&&"function"==typeof a.pe(e.easing)?a.pe(e.easing):a.Easing.linear,this._cT=[],this._sCF=!1,this._sC=e.start||null,this._uC=e.update||null,this._cC=e.complete||null,this._pC=e.pause||null,this._rC=e.play||null,this._stC=e.stop||null,this.repeat=this._r;for(var f in e)f in this||/perspective|delay|duration|repeat|origin|start|stop|update|complete|pause|play|yoyo|easing/i.test(f)||(this[f]=e[f])};var I=a.Tween.prototype;I.start=function(d){this.scrollIn(),a.perspective(this._el,this),this._rpr&&this.stack();for(var e in this._vE)this._vSR[e]=this._vS[e];return b.push(this),this.playing=!0,this.paused=!1,this._sCF=!1,this._sT=d||window.performance.now(),this._sT+=this._dl,this._sCF||(this._sC&&this._sC.call(),this._sCF=!0),c||a._tk(),this},I.stop=function(){return!this.paused&&this.playing&&(a.remove(this),this.playing=!1,this.paused=!1,this.scrollOut(),null!==this._stC&&this._stC.call(),this.stopChainedTweens(),this.close()),this},I.pause=function(){return!this.paused&&this.playing&&(a.remove(this),this.paused=!0,this._pST=window.performance.now(),null!==this._pC&&this._pC.call()),this},I.play=I.resume=function(){return this.paused&&this.playing&&(this.paused=!1,null!==this._rC&&this._rC.call(),this._sT+=window.performance.now()-this._pST,a.add(this),c||a._tk()),this},I.rvs=function(){if(this._y)for(var a in this._vE){var b=this._vSR[a];this._vSR[a]=this._vE[a],this._vE[a]=b,this._vS[a]=this._vSR[a]}},I.chain=function(){return this._cT=arguments,this},I.stopChainedTweens=function(){var a=0,b=this._cT.length;for(a;a<b;a++)this._cT[a].stop()},I.scrollOut=function(){("scroll"in this._vE||"scrollTop"in this._vE)&&(this.removeListeners(),document.body.removeAttribute("data-tweening"))},I.scrollIn=function(){("scroll"in this._vE||"scrollTop"in this._vE)&&(document.body.getAttribute("data-tweening")||(document.body.setAttribute("data-tweening","scroll"),this.addListeners()))},I.addListeners=function(){document.addEventListener(f,a.preventScroll,!1),document.addEventListener(g,a.preventScroll,!1)},I.removeListeners=function(){document.removeEventListener(f,a.preventScroll,!1),document.removeEventListener(g,a.preventScroll,!1)},I.stack=function(){var b=this.prS();this._vS={},this._vS=a.prP(b,{},this._el)[0];for(var c in this._vS)if("transform"===c&&c in this._vE)for(var d in this._vS[c]){d in this._vE[c]||(this._vE[c][d]={});for(var e in this._vS[c][d])if(void 0!==this._vS[c][d][e].value){e in this._vE[c][d]||(this._vE[c][d][e]={});for(var f in this._vS[c][d][e])f in this._vE[c][d][e]||(this._vE[c][d][e][f]=this._vS[c][d][e][f])}if("value"in this._vS[c][d]&&!("value"in this._vE[c][d]))for(var g in this._vS[c][d])g in this._vE[c][d]||(this._vE[c][d][g]=this._vS[c][d][g])}a.svg&&a.svq(this)},I.prS=function(){var b={},c=this._el,d=this._vS,e=a.gIS(c,"transform"),f=["rotate","skew"],g=["X","Y","Z"];for(var h in d)if(x.indexOf(h)!==-1){var i=/(rotate|translate|scale)$/.test(h);if(/translate/.test(h)&&"translate"!==h)b.translate3d=e.translate3d||A[h];else if(i)b[h]=e[h]||A[h];else if(!i&&/rotate|skew/.test(h))for(var j=0;j<2;j++)for(var k=0;k<3;k++){var l=f[j]+g[k];x.indexOf(l)!==-1&&l in d&&(b[l]=e[l]||A[l])}}else if(t.indexOf(h)===-1)if("opacity"===h&&r){var m=a.gCS(c,"filter");b.opacity="number"==typeof m?m:A.opacity}else y.indexOf(h)!==-1?b[h]=a.gCS(c,h)||j[h]:b[h]=h in a.prS?a.prS[h](c,h,d[h]):0;else b[h]=null===c||void 0===c?window.pageYOffset||p.scrollTop:c.scrollTop;for(var h in e)x.indexOf(h)===-1||h in d||(b[h]=e[h]||A[h]);return b},I.close=function(){var c=this;setTimeout(function(){var d=b.indexOf(c);d===b.length-1&&a.s(),c.repeat>0&&(c._r=c.repeat),c._y&&c.reversed===!0&&(c.rvs(),c.reversed=!1),c.playing=!1},64)},a.TweensTO=function(b,c,d){this.tweens=[];var e,f=b.length,g=[];for(e=0;e<f;e++)g[e]=d||{},d.delay=d.delay||0,g[e].delay=e>0?d.delay+(d.offset||0):d.delay,this.tweens.push(a.to(b[e],c,g[e]))},a.TweensFT=function(b,c,d,e){this.tweens=[];var f,g=b.length,h=[];for(f=0;f<g;f++)h[f]=e||{},e.delay=e.delay||0,h[f].delay=f>0?e.delay+(e.offset||0):e.delay,this.tweens.push(a.fromTo(b[f],c,d,h[f]))};var J=a.TweensTO.prototype=a.TweensFT.prototype;return J.start=function(a){a=a||window.performance.now();var b,c=this.tweens.length;for(b=0;b<c;b++)this.tweens[b].start(a);return this},J.stop=function(){for(var a=0;a<this.tweens.length;a++)this.tweens[a].stop();return this},J.pause=function(){for(var a=0;a<this.tweens.length;a++)this.tweens[a].pause();return this},J.chain=function(){return this.tweens[this.tweens.length-1]._cT=arguments,this},J.play=J.resume=function(){for(var a=0;a<this.tweens.length;a++)this.tweens[a].play();return this},a});