/*!
 * The MIT License (MIT)
 * 
 * Copyright (c) 2017 Kelvin Wu
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Wargamer",[],e):"object"==typeof exports?exports.Wargamer=e():t.Wargamer=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=30)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(25),c=r(u),l=n(14),f=r(l),h=n(18),p=r(h),d=n(17),y=r(d),b=n(11),v=r(b),_=n(9),m=r(_),w=n(19),g=r(w),O=n(20),k=r(O),j=n(21),T=r(j),P={ru:"ru",eu:"eu",na:"com",kr:"kr",asia:"asia",xbox:"xbox",ps4:"ps4"},x={wot:function(t){return"https://api.worldoftanks."+P[t]+"/wot"},wotb:function(t){return"https://api.wotblitz."+P[t]+"/wotb"},wotx:function(t){return"https://api-"+P[t]+"-console.worldoftanks.com/wotx"},wows:function(t){return"https://api.worldofwarships."+P[t]+"/wows"},wowp:function(t){return"https://api.worldofwarplanes."+P[t]+"/wowp"},wgn:function(t){return"https://api.worldoftanks."+P[t]+"/wgn"}},E=function(t,e){if(!P[t]||!x[e])throw new Error("Unknown realm or type given.");return x[e](t)},S=function(){function t(e){i(this,t);var n=e.type,r=e.realm,o=e.applicationId,s=e.accessToken,a=void 0===s?null:s,u=e.language,c=void 0===u?null:u,l=e.cacheTimeToLive,f=void 0===l?6e5:l;if("string"!=typeof r||!P[r.toLowerCase()])throw new TypeError("Must specify a valid realm for the client.");if("string"!=typeof o)throw new TypeError("Must specify an application ID for the client.");var h=r.toLowerCase();this.type=n,this.realm=h,this.applicationId=o,this.accessToken=a,this.language=c,this.authentication=new y.default(this),this.baseUri=E(h,n),this.cache=new v.default({timeToLive:f})}return a(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(t,e,s({},n,{method:"GET"}))}},{key:"post",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(t,e,s({},n,{method:"POST"}))}},{key:"request",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(i){var a=r.type,u=void 0===a?e.type:a,l=r.realm,h=void 0===l?e.realm:l,d=r.method,y=void 0===d?"GET":d;if("string"!=typeof t)throw new TypeError("Expected API method to be a string.");var b=t.toLowerCase(),v=h.toLowerCase(),_=v===e.realm?e.baseUri:E(v,u),w=_+"/"+b.replace(/^\/*(.+?)\/*$/,"$1")+"/",O=s({application_id:e.applicationId,access_token:e.accessToken,language:e.language},n),j=(0,k.default)(O,e.constructor.normalizeParameterValue),P=(j.application_id,o(j,["application_id"])),x=(0,g.default)(""+w+JSON.stringify((0,T.default)(P))),S=function(t){var n=t.body.error,r=void 0===n?null:n;if(r)throw new f.default({client:e,statusCode:t.status,method:b,error:r});return new p.default({client:e,requestRealm:v,method:b,body:t.body})},M=function(t){if(t instanceof f.default)throw t;var n=t.response,r=n.error,o=n.req;throw new m.default({message:t.body.error.message,client:e,statusCode:r.status,url:o.url})};if("GET"===y){var A=e.cache.get(x);if(A){var C=new p.default({client:e,requestRealm:v,method:b,body:A});i(C)}var L=c.default.get(w).query(j).then(S).then(function(t){return e.cache.set(x,t.body),t}).catch(M);i(L)}else if("POST"===y){var R=c.default.post(w).type("form").send(j).then(S).catch(M);i(R)}throw new Error("Received invalid request method.")})}}],[{key:"normalizeParameterValue",value:function(t){return Array.isArray(t)?t.join(","):t instanceof Date?t.toISOString():t}}]),t}();e.default=S},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e,n){r(this,t),this.client=e,this.name=n};e.default=o},function(t,e){function n(t){return null!==t&&"object"==typeof t}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(0),c=r(u),l=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a({},t,{type:"wgn"})))}return s(e,t),e}(c.default);e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(15),c=r(u),l=n(0),f=r(l),h=n(16),p=r(h),d=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a({},t,{type:"wot"})));return n.accounts=new c.default(n),n.tankopedia=new p.default(n),n}return s(e,t),e}(f.default);e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(0),c=r(u),l=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a({},t,{type:"wotb"})))}return s(e,t),e}(c.default);e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(0),c=r(u),l=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a({},t,{type:"wotx"})))}return s(e,t),e}(c.default);e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(0),c=r(u),l=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a({},t,{type:"wowp"})))}return s(e,t),e}(c.default);e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(0),c=r(u),l=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a({},t,{type:"wows"})))}return s(e,t),e}(c.default);e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(23),u=r(a),c=function(t){function e(t){var n=t.message,r=t.client,s=t.statusCode,a=t.url;o(this,e);var u=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return u.client=r,u.statusCode=s,u.url=a,u}return s(e,t),e}(u.default);e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(4),a=r(s),u=n(5),c=r(u),l=n(6),f=r(l),h=n(8),p=r(h),d=n(7),y=r(d),b=n(3),v=r(b),_=function(){function t(){o(this,t)}return i(t,null,[{key:"WoT",value:function(t){return new a.default(t)}},{key:"WoTB",value:function(t){return new c.default(t)}},{key:"WoTX",value:function(t){return new f.default(t)}},{key:"WoWS",value:function(t){return new p.default(t)}},{key:"WoWP",value:function(t){return new y.default(t)}},{key:"WGN",value:function(t){return new v.default(t)}}]),t}();e.default=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(12),c=r(u),l=n(13),f=r(l),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=e.timeToLive,r=void 0===n?null:n;this.entryTimeToLive=r,this.meta=new f.default,this.store=new Map}return a(t,[{key:"get",value:function(t){var e=this.store.get(t);return e?e.expired?void this.meta.expire():(this.meta.hit(),e.touch(),e.value):void this.meta.miss()}},{key:"set",value:function(t,e){var n=new c.default({value:e,timeToLive:this.entryTimeToLive});return this.store.set(t,n),this}},{key:"delete",value:function(t){return this.store.delete(t),this}},{key:"clear",value:function(){return this.store.clear(),this.meta.clear(),this}},{key:"size",get:function(){return this.store.size}},{key:"keys",get:function(){return[].concat(o(this.store.keys()))}},{key:"empty",get:function(){return 0===this.size}},{key:"statistics",get:function(){return s({},this.meta.serialize(),{size:this.size})}}]),t}();e.default=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){r(this,t);var n=e.value,o=e.timeToLive,i=void 0===o?null:o;this.value=n,this.entryTimeToLive=i,this.createdAt=new Date,this.accessedAt=null}return o(t,[{key:"touch",value:function(){this.accessedAt=new Date}},{key:"expired",get:function(){if(!this.entryTimeToLive)return!1;var t=new Date,e=this.createdAt;return t.getTime()-e.getTime()>=this.entryTimeToLive}}]),t}();e.default=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){r(this,t),this.createdAt=new Date,this.accessedAt=null,this.updatedAt=null,this.clearedAt=null,this.hits=0,this.misses=0,this.expired=0}return o(t,[{key:"hit",value:function(){return this.accessedAt=new Date,this.hits+=1,this}},{key:"miss",value:function(){return this.accessedAt=new Date,this.misses+=1,this}},{key:"expire",value:function(){return this.expired+=1,this}},{key:"clear",value:function(){var t=new Date;return this.updatedAt=t,this.clearedAt=t,this.hits=0,this.misses=0,this.expired=0,this}},{key:"serialize",value:function(){return{createdAt:this.createdAt,accessedAt:this.accessedAt,updatedAt:this.updatedAt,clearedAt:this.clearedAt,hits:this.hits,misses:this.misses,expired:this.expired}}}]),t}();e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=n(9),l=r(c),f=function(t){function e(t){var n=t.requestRealm,r=t.method,a=t.error,c=o(t,["requestRealm","method","error"]);i(this,e);var l=a.code,f=a.message,h=a.field,p=a.value,d=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,u({},c,{message:l+": "+f+". Error field: "+h+" => "+p+"."})));return d.requestRealm=n,d.method=r,d.code=l,d.apiMessage=f,d.field=h,d.value=p,d}return a(e,t),e}(l.default);e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),c=r(u),l=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"accounts"))}return s(e,t),a(e,[{key:"findPlayerId",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"exact",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(o){switch(n.toLowerCase()){case"startswith":return o(e.client.get("account/list",{search:t},r).then(function(t){return t.data}));case"exact":return o(e.client.get("account/list",{search:t},r).then(function(t){return t.data[0]?t.data[0].account_id:null}));default:throw new Error("Invalid search type specified for player search.")}})}}]),e}(c.default);e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(24),h=r(f),p=n(1),d=r(p),y=function(t){function e(t){i(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"tankopedia"));return n.fuse=new h.default([],{keys:["name","short_name"]}),n}return a(e,t),l(e,[{key:"findVehicle",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(r){throw"number"==typeof t?r(e.client.get("encyclopedia/vehicles",{tank_id:t},n).then(function(e){return e.data[t]})):"string"==typeof t&&r(e.client.get("encyclopedia/vehicles",{fields:["name","short_name","tank_id"]},n).then(function(r){var i=r.data;e.fuse.set(Object.keys(i).reduce(function(t,e){return[].concat(o(t),[i[e]])},[]));var s=e.fuse.search(t);if(!s.length)return null;var a=c(s,1),u=a[0].tank_id;return e.client.get("encyclopedia/vehicles",{tank_id:u},n).then(function(t){return t.data[u]})})),new TypeError("Expected a string or number as the vehicle identifier.")})}},{key:"translateSlug",value:function(t,e){return this.client.get("encyclopedia/info").then(function(n){var r=n.data[t];if(!r||"object"!==("undefined"==typeof r?"undefined":u(r)))throw new Error("Invalid translation type: "+t+".");return r[e]})}},{key:"translateCrewRole",value:function(t){return this.translateSlug("vehicle_crew_roles",t)}},{key:"translateLanguage",value:function(t){return this.translateSlug("languages",t)}},{key:"translateAchievementSection",value:function(t){return this.translateSlug("achievement_sections",t).then(function(t){return t&&t.name})}},{key:"translateVehicleType",value:function(t){return this.translateSlug("vehicle_types",t)}},{key:"translateVehicleNation",value:function(t){return this.translateSlug("vehicle_nations",t)}}]),e}(d.default);e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"authentication"))}return s(e,t),u(e,[{key:"renewAccessToken",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n){if(!t.client.accessToken)throw new Error("Failed to renew access token: client's access token is not set.");n(t.client.post("auth/prolongate",{},a({},e,{type:"wotx"===t.client.type?"wotx":"wot"})).then(function(e){return t.client.accessToken=e.data.access_token,e}))})}},{key:"destroyAccessToken",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n){if(!t.client.accessToken)throw new Error("Failed to invalidate access token: client's access token is not set.");n(t.client.post("auth/logout",{},a({},e,{type:"wotx"===t.client.type?"wotx":"wot"})).then(function(e){return t.client.accessToken=null,e}))})}}]),e}(l.default);e.default=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){var n=e.client,o=e.requestRealm,i=e.method,s=e.body;r(this,t),this.client=n,this.requestRealm=o,this.method=i,this.body=s}return o(t,[{key:"meta",get:function(){return this.body.meta}},{key:"data",get:function(){return this.body.data}}]),t}();e.default=i},function(t,e,n){"use strict";function r(t){var e=0;if(!t.length)return e.toString();for(var n=0;n<t.length;++n){var r=t.charCodeAt(n);e=(e<<5)-e+r,e&=e}return e.toString()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=Object.keys(t);return n.reduce(function(n,r){return n[r]=e(t[r],r,t),n},{})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";function r(t){return Object.keys(t).sort().reduce(function(e,n){return e[n]=t[n],e},{})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Object.defineProperty(n,"message",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:n.constructor.name,writable:!0}),Error.hasOwnProperty("captureStackTrace")?(Error.captureStackTrace(n,n.constructor),o(n)):(Object.defineProperty(n,"stack",{configurable:!0,enumerable:!1,value:new Error(t).stack,writable:!0}),n)}return i(e,t),e}(s(Error));e.default=a,t.exports=e.default},function(t,e,n){!function(e){"use strict";function n(){console.log.apply(console,arguments)}function r(t,e){var n;this.list=t,this.options=e=e||{};for(n in a)a.hasOwnProperty(n)&&("boolean"==typeof a[n]?this.options[n]=n in e?e[n]:a[n]:this.options[n]=e[n]||a[n])}function o(t,e,n){var r,s,a,u,c,l;if(e){if(a=e.indexOf("."),a!==-1?(r=e.slice(0,a),s=e.slice(a+1)):r=e,u=t[r],null!==u&&void 0!==u)if(s||"string"!=typeof u&&"number"!=typeof u)if(i(u))for(c=0,l=u.length;c<l;c++)o(u[c],s,n);else s&&o(u,s,n);else n.push(u)}else n.push(t);return n}function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t,e){e=e||{},this.options=e,this.options.location=e.location||s.defaultOptions.location,this.options.distance="distance"in e?e.distance:s.defaultOptions.distance,this.options.threshold="threshold"in e?e.threshold:s.defaultOptions.threshold,this.options.maxPatternLength=e.maxPatternLength||s.defaultOptions.maxPatternLength,this.pattern=e.caseSensitive?t:t.toLowerCase(),this.patternLen=t.length,this.patternLen<=this.options.maxPatternLength&&(this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet())}var a={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:s,sortFn:function(t,e){return t.score-e.score},getFn:o,keys:[],verbose:!1,tokenize:!1,matchAllTokens:!1,tokenSeparator:/ +/g,minMatchCharLength:1,findAllMatches:!1};r.VERSION="2.6.0",r.prototype.set=function(t){return this.list=t,t},r.prototype.search=function(t){this.options.verbose&&n("\nSearch term:",t,"\n"),this.pattern=t,this.results=[],this.resultMap={},this._keyMap=null,this._prepareSearchers(),this._startSearch(),this._computeScore(),this._sort();var e=this._format();return e},r.prototype._prepareSearchers=function(){var t=this.options,e=this.pattern,n=t.searchFn,r=e.split(t.tokenSeparator),o=0,i=r.length;if(this.options.tokenize)for(this.tokenSearchers=[];o<i;o++)this.tokenSearchers.push(new n(r[o],t));this.fullSeacher=new n(e,t)},r.prototype._startSearch=function(){var t,e,n,r,o=this.options,i=o.getFn,s=this.list,a=s.length,u=this.options.keys,c=u.length,l=null;if("string"==typeof s[0])for(n=0;n<a;n++)this._analyze("",s[n],n,n);else for(this._keyMap={},
n=0;n<a;n++)for(l=s[n],r=0;r<c;r++){if(t=u[r],"string"!=typeof t){if(e=1-t.weight||1,this._keyMap[t.name]={weight:e},t.weight<=0||t.weight>1)throw new Error("Key weight has to be > 0 and <= 1");t=t.name}else this._keyMap[t]={weight:1};this._analyze(t,i(l,t,[]),l,n)}},r.prototype._analyze=function(t,e,r,o){var s,a,u,c,l,f,h,p,d,y,b,v,_,m,w,g=this.options,O=!1;if(void 0!==e&&null!==e){a=[];var k=0;if("string"==typeof e){if(s=e.split(g.tokenSeparator),g.verbose&&n("---------\nKey:",t),this.options.tokenize){for(m=0;m<this.tokenSearchers.length;m++){for(p=this.tokenSearchers[m],g.verbose&&n("Pattern:",p.pattern),d=[],v=!1,w=0;w<s.length;w++){y=s[w],b=p.search(y);var j={};b.isMatch?(j[y]=b.score,O=!0,v=!0,a.push(b.score)):(j[y]=1,this.options.matchAllTokens||a.push(1)),d.push(j)}v&&k++,g.verbose&&n("Token scores:",d)}for(c=a[0],f=a.length,m=1;m<f;m++)c+=a[m];c/=f,g.verbose&&n("Token score average:",c)}h=this.fullSeacher.search(e),g.verbose&&n("Full text score:",h.score),l=h.score,void 0!==c&&(l=(l+c)/2),g.verbose&&n("Score average:",l),_=!this.options.tokenize||!this.options.matchAllTokens||k>=this.tokenSearchers.length,g.verbose&&n("Check Matches",_),(O||h.isMatch)&&_&&(u=this.resultMap[o],u?u.output.push({key:t,score:l,matchedIndices:h.matchedIndices}):(this.resultMap[o]={item:r,output:[{key:t,score:l,matchedIndices:h.matchedIndices}]},this.results.push(this.resultMap[o])))}else if(i(e))for(m=0;m<e.length;m++)this._analyze(t,e[m],r,o)}},r.prototype._computeScore=function(){var t,e,r,o,i,s,a,u,c,l=this._keyMap,f=this.results;for(this.options.verbose&&n("\n\nComputing score:\n"),t=0;t<f.length;t++){for(r=0,o=f[t].output,i=o.length,u=1,e=0;e<i;e++)s=o[e].score,a=l?l[o[e].key].weight:1,c=s*a,1!==a?u=Math.min(u,c):(r+=c,o[e].nScore=c);1===u?f[t].score=r/i:f[t].score=u,this.options.verbose&&n(f[t])}},r.prototype._sort=function(){var t=this.options;t.shouldSort&&(t.verbose&&n("\n\nSorting...."),this.results.sort(t.sortFn))},r.prototype._format=function(){var t,e,r,o,i,s=this.options,a=s.getFn,u=[],c=this.results,l=s.include;for(s.verbose&&n("\n\nOutput:\n\n",c),o=s.id?function(t){c[t].item=a(c[t].item,s.id,[])[0]}:function(){},i=function(t){var e,n,r,o,i,s=c[t];if(l.length>0){if(e={item:s.item},l.indexOf("matches")!==-1)for(r=s.output,e.matches=[],n=0;n<r.length;n++)o=r[n],i={indices:o.matchedIndices},o.key&&(i.key=o.key),e.matches.push(i);l.indexOf("score")!==-1&&(e.score=c[t].score)}else e=s.item;return e},e=0,r=c.length;e<r;e++)o(e),t=i(e),u.push(t);return u},s.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},s.prototype._calculatePatternAlphabet=function(){var t={},e=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]|=1<<this.pattern.length-e-1;return t},s.prototype._bitapScore=function(t,e){var n=t/this.patternLen,r=Math.abs(this.options.location-e);return this.options.distance?n+r/this.options.distance:r?1:n},s.prototype.search=function(t){var e,n,r,o,i,s,a,u,c,l,f,h,p,d,y,b,v,_,m,w,g,O,k,j=this.options;if(t=j.caseSensitive?t:t.toLowerCase(),this.pattern===t)return{isMatch:!0,score:0,matchedIndices:[[0,t.length-1]]};if(this.patternLen>j.maxPatternLength){if(_=t.match(new RegExp(this.pattern.replace(j.tokenSeparator,"|"))),m=!!_)for(g=[],e=0,O=_.length;e<O;e++)k=_[e],g.push([t.indexOf(k),k.length-1]);return{isMatch:m,score:m?.5:1,matchedIndices:g}}for(o=j.findAllMatches,i=j.location,r=t.length,s=j.threshold,a=t.indexOf(this.pattern,i),w=[],e=0;e<r;e++)w[e]=0;for(a!=-1&&(s=Math.min(this._bitapScore(0,a),s),a=t.lastIndexOf(this.pattern,i+this.patternLen),a!=-1&&(s=Math.min(this._bitapScore(0,a),s))),a=-1,b=1,v=[],l=this.patternLen+r,e=0;e<this.patternLen;e++){for(u=0,c=l;u<c;)this._bitapScore(e,i+c)<=s?u=c:l=c,c=Math.floor((l-u)/2+u);for(l=c,f=Math.max(1,i-c+1),h=o?r:Math.min(i+c,r)+this.patternLen,p=Array(h+2),p[h+1]=(1<<e)-1,n=h;n>=f;n--)if(y=this.patternAlphabet[t.charAt(n-1)],y&&(w[n-1]=1),0===e?p[n]=(p[n+1]<<1|1)&y:p[n]=(p[n+1]<<1|1)&y|((d[n+1]|d[n])<<1|1)|d[n+1],p[n]&this.matchmask&&(b=this._bitapScore(e,n-1),b<=s)){if(s=b,a=n-1,v.push(a),!(a>i))break;f=Math.max(1,2*i-a)}if(this._bitapScore(e+1,i)>s)break;d=p}return g=this._getMatchedIndices(w),{isMatch:a>=0,score:0===b?.001:b,matchedIndices:g}},s.prototype._getMatchedIndices=function(t){for(var e,n=[],r=-1,o=-1,i=0,s=t.length;i<s;i++)e=t[i],e&&r===-1?r=i:e||r===-1||(o=i-1,o-r+1>=this.options.minMatchCharLength&&n.push([r,o]),r=-1);return t[i-1]&&i-1-r+1>=this.options.minMatchCharLength&&n.push([r,i-1]),n},t.exports=r}(this)},function(t,e,n){function r(){}function o(t){if(!y(t))return t;var e=[];for(var n in t)i(e,n,t[n]);return e.join("&")}function i(t,e,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){i(t,e,n)});else if(y(n))for(var r in n)i(t,e+"["+r+"]",n[r]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));else null===n&&t.push(encodeURIComponent(e))}function s(t){for(var e,n,r={},o=t.split("&"),i=0,s=o.length;i<s;++i)e=o[i],n=e.indexOf("="),n==-1?r[decodeURIComponent(e)]="":r[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return r}function a(t){var e,n,r,o,i=t.split(/\r?\n/),s={};i.pop();for(var a=0,u=i.length;a<u;++a)n=i[a],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),o=m(n.slice(e+1)),s[r]=o;return s}function u(t){return/[\/+]json\b/.test(t)}function c(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var n=this.xhr.status;1223===n&&(n=204),this._setStatusProperties(n),this.header=this.headers=a(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function l(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new c(n)}catch(e){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=e,n.xhr?(t.rawResponse="undefined"==typeof n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",e);var r;try{n._isResponseOK(e)||(r=new Error(e.statusText||"Unsuccessful HTTP response"),r.original=t,r.response=e,r.status=e.status)}catch(t){r=t}r?n.callback(r,e):n.callback(null,e)})}function f(t,e){var n=_("DELETE",t);return e&&n.end(e),n}var h;"undefined"!=typeof window?h=window:"undefined"!=typeof self?h=self:(console.warn("Using browser-only version of superagent in non-browser environment"),h=this);var p=n(22),d=n(27),y=n(2),b=n(26),v=n(28),_=e=t.exports=function(t,n){return"function"==typeof n?new e.Request("GET",t).end(n):1==arguments.length?new e.Request("GET",t):new e.Request(t,n)};e.Request=l,_.getXHR=function(){if(!(!h.XMLHttpRequest||h.location&&"file:"==h.location.protocol&&h.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only verison of superagent could not find XHR")};var m="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};_.serializeObject=o,_.parseString=s,_.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},_.serialize={"application/x-www-form-urlencoded":o,"application/json":JSON.stringify},_.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},v(c.prototype),c.prototype._parseBody=function(t){var e=_.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&u(this.type)&&(e=_.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},c.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=e,o.url=n,o},_.Response=c,p(l.prototype),d(l.prototype),l.prototype.type=function(t){return this.set("Content-Type",_.types[t]||t),this},l.prototype.accept=function(t){return this.set("Accept",_.types[t]||t),this},l.prototype.auth=function(t,e,n){switch(n||(n={type:"function"==typeof btoa?"basic":"auto"}),n.type){case"basic":this.set("Authorization","Basic "+btoa(t+":"+e));break;case"auto":this.username=t,this.password=e}return this},l.prototype.query=function(t){return"string"!=typeof t&&(t=o(t)),t&&this._query.push(t),this},l.prototype.attach=function(t,e,n){if(this._data)throw Error("superagent can't mix .send() and .attach()");return this._getFormData().append(t,e,n||e.name),this},l.prototype._getFormData=function(){return this._formData||(this._formData=new h.FormData),this._formData},l.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),t&&this.emit("error",t),n(t,e)},l.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},l.prototype.buffer=l.prototype.ca=l.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},l.prototype.pipe=l.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},l.prototype._appendQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._sort){var e=this.url.indexOf("?");if(e>=0){var n=this.url.substring(e+1).split("&");b(this._sort)?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,e)+"?"+n.join("&")}}},l.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},l.prototype.end=function(t){var e=this,n=this.xhr=_.getXHR(),o=this._formData||this._data;this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||r,n.onreadystatechange=function(){var t=n.readyState;if(t>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==t){var r;try{r=n.status}catch(t){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var i=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{n.onprogress=i.bind(null,"download"),n.upload&&(n.upload.onprogress=i.bind(null,"upload"))}catch(t){}this._appendQueryString(),this._setTimeouts();try{this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(n.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof o&&!this._isHost(o)){var s=this._header["content-type"],a=this._serializer||_.serialize[s?s.split(";")[0]:""];!a&&u(s)&&(a=_.serialize["application/json"]),a&&(o=a(o))}for(var c in this.header)null!=this.header[c]&&n.setRequestHeader(c,this.header[c]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send("undefined"!=typeof o?o:null),this},_.get=function(t,e,n){var r=_("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},_.head=function(t,e,n){var r=_("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},_.options=function(t,e,n){var r=_("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},_.del=f,_.delete=f,_.patch=function(t,e,n){var r=_("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},_.post=function(t,e,n){var r=_("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},_.put=function(t,e,n){var r=_("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}},function(t,e,n){function r(t){var e=o(t)?Object.prototype.toString.call(t):"";return"[object Function]"===e}var o=n(2);t.exports=r},function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}var i=n(2);t.exports=r,r.prototype.clearTimeout=function(){return this._timeout=0,this._responseTimeout=0,clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),this},r.prototype.parse=function(t){return this._parser=t,this},r.prototype.responseType=function(t){return this._responseType=t,this},r.prototype.serialize=function(t){return this._serializer=t,this},r.prototype.timeout=function(t){return t&&"object"==typeof t?("undefined"!=typeof t.deadline&&(this._timeout=t.deadline),"undefined"!=typeof t.response&&(this._responseTimeout=t.response),this):(this._timeout=t,this._responseTimeout=0,this)},r.prototype.then=function(t,e){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){n.end(function(n,r){n?e(n):t(r)})})}return this._fullfilledPromise.then(t,e)},r.prototype.catch=function(t){return this.then(void 0,t)},r.prototype.use=function(t){return t(this),this},r.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},r.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},r.prototype.get=function(t){return this._header[t.toLowerCase()]},r.prototype.getHeader=r.prototype.get,r.prototype.set=function(t,e){if(i(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},r.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},r.prototype.field=function(t,e){if(null===t||void 0===t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),i(t)){for(var n in t)this.field(n,t[n]);return this}if(Array.isArray(e)){for(var r in e)this.field(t,e[r]);return this}if(null===e||void 0===e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},r.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},r.prototype.withCredentials=function(){return this._withCredentials=!0,this},r.prototype.redirects=function(t){return this._maxRedirects=t,this},r.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},r.prototype.send=function(t){var e=i(t),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&i(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(n||this.type("json"),this)},r.prototype.sortQuery=function(t){return this._sort="undefined"==typeof t||t,this},r.prototype._timeoutError=function(t,e){if(!this._aborted){var n=new Error(t+e+"ms exceeded");n.timeout=e,n.code="ECONNABORTED",this.timedout=!0,this.abort(),this.callback(n)}},r.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout)},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout)},this._responseTimeout))}},function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}var i=n(29);t.exports=r,r.prototype.get=function(t){return this.header[t.toLowerCase()]},r.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=i.type(e);var n=i.params(e);for(var r in n)this[r]=n[r];this.links={};try{t.link&&(this.links=i.parseLinks(t.link))}catch(t){}},r.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t}},function(t,e){e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){return t.split(/ *; */).reduce(function(t,e){var n=e.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(t[r]=o),t},{})},e.parseLinks=function(t){return t.split(/ *, */).reduce(function(t,e){var n=e.split(/ *; */),r=n[0].slice(1,-1),o=n[1].split(/ *= */)[1].slice(1,-1);return t[o]=r,t},{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&delete t.cookie,t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Wargaming=e.WorldOfWarplanes=e.WorldOfWarships=e.WorldOfTanksConsole=e.WorldOfTanksBlitz=e.WorldOfTanks=void 0;var o=n(10),i=r(o),s=n(4),a=r(s),u=n(5),c=r(u),l=n(6),f=r(l),h=n(8),p=r(h),d=n(7),y=r(d),b=n(3),v=r(b);e.WorldOfTanks=a.default,e.WorldOfTanksBlitz=c.default,e.WorldOfTanksConsole=f.default,e.WorldOfWarships=p.default,e.WorldOfWarplanes=y.default,e.Wargaming=v.default,e.default=i.default}])});
//# sourceMappingURL=wargamer.min.js.map