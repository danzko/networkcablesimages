jQuery(document).ready(function(a){function f(b,c){var d="";return a.each(b,function(b,e){var f=b+1,g=e.brand.name+" "+e.name;d+='<div class="priceplow-product-container priceplow-product-'+f+'">';var h='<i class="priceplow-product-image" style="background-image: url('+e.large_image_url+');"></i>';c.link_to_priceplow&&(h+='<span class="priceplow-compare-prices-button">Compare Prices</span>');var i="Click here to Compare Prices on "+g;d+=k(e.url,h,i,c,!0),d+='<div class="priceplow-hoverbox">',d+='<div class="priceplow-hover-image-container">',h='<img src="'+e.thumbnail_image_url+'" alt="'+g+'"/>',c.link_to_priceplow?(i="Click here to Compare Prices on "+g,d+=k(e.url,h,i,c,!0)):e.lowest_prices[0].url&&(i="Click here to go to the best deal on "+g,d+=k(e.lowest_prices[0].url,h,i,c,!1)),d+="</div>",d+='<div class="priceplow-hover-data-container">',i="Read about "+g+" and compare prices on PricePlow",h=g,d+='<div class="priceplow-hover-product-name">'+k(e.url,h,i,c,!0)+"</div>";var l=e.category.name.replace(/s\b/,"");d+='<div class="priceplow-hover-product-category">('+l+")</div>",a.each(e.lowest_prices,function(a,b){d+='<div class="priceplow-hover-product-size-set">',d+='<div class="priceplow-hover-product-sizeunit">',d+=b.size,d+="</div>",d+='<div class="priceplow-hover-product-price">',i="Go to the lowest-priced store for "+g+" "+b.size,h="$"+b.price,d+=k(b.url,h,i,c,!1),d+="</div>",d+="</div>"}),c.link_to_priceplow&&(d+='<div class="priceplow-hover-compare-container">'+k(e.url,"See all stores","Click here to see all stores and compare prices",c,!0,"priceplow-hover-compare-prices-button")+"</div>"),d+=j(c),d+="</div>",d+="</div>",h=g,i="Click here to Compare Prices on "+g,d+='<div class="priceplow-product-name">'+k(e.url,h,i,c,!0)+"</div>",h="$"+e.lowest_prices[0].price,i="Click here to See "+g+" at the best priced store",d+='<span class="priceplow-product-price">From '+k(e.lowest_prices[0].price,h,i,c,!1)+"</span>",d+="</div>"}),d}function g(b,c){var d="";d+='<div class="priceplow-product-price-comparison-container">',d+='<div class="priceplow-product-price-comparison-top-container">',d+=h(b,"left",c,null,!0),d+='<div class="priceplow-featured-product-summary">',d+='<h4 class="priceplow-product-name-title">'+b.brand.name+" "+b.name+"</h4>",d+='<div class="priceplow-product-summary-sizes">',d+='<div class="priceplow-product-summary-row priceplow-even">',d+='<div class="priceplow-product-summary-size priceplow-heading">Sizes:</div>',d+='<div class="priceplow-product-summary-size-price priceplow-heading">Best Price:</div>',d+="</div>";var e=1;a.each(b.prices,function(a,b){if(b[0]){var f="even";f=0==e%2?"even":"odd",d+='<div class="priceplow-product-summary-row priceplow-'+f+'">',d+='<div class="priceplow-product-summary-size">'+a+"</div>";var g="Click here for the best price on any "+a+" product",h="$"+b[0][0].price;d+='<div class="priceplow-product-summary-size-price">'+k(b[0][0].url,h,g,c,!1)+"</div>",d+="</div>",e++}}),d+="</div>",d+='<div class="priceplow-product-summary-meta">',d+='<div class="priceplow-product-summary-row">',d+='<div class="priceplow-product-summary-category">Category:</div>';var f="Click here to read more about "+b.category.name+" at PricePlow",g=b.category.name;return d+='<div class="priceplow-product-summary-category-name">'+k(b.category.url,g,f,c,!0)+"</div>",d+="</div>",d+='<div class="priceplow-product-summary-row priceplow-product-summary-brand-row">',d+='<div class="priceplow-product-summary-brand">Brand:</div>',f="Click here to see all "+b.brand.name+" products at PricePlow",g=b.brand.name,d+='<div class="priceplow-product-summary-brand-name">'+k(b.brand.url,g,f,c,!0)+"</div>",d+="</div>",d+="</div>",d+="</div>",d+="</div>",d+='<div class="priceplow-product-price-comparison-data">',d+=i(b,c),d+="</div>",d+="</div>",d+="</div>"}function h(a,b,c,d,e){var f="",g=a.brand.name+" "+a.name,h="See the best-priced deal on "+g,i='<img title="'+h+'" src="'+a.large_image_url+'" alt="'+g+'"/>',j="",m="",n=!1,o=l(a);if(c.link_to_priceplow?(m=a.url,n=!0,j=k(m,i,h,c,n)):(n=!1,j=o?k(o,i,h,c,n):i),f+='<div class="priceplow-featured-product-image priceplow-align-'+b+'">',f+=j,e){var p="";d||(p=o?"Click here for the best deal on "+g:g),f+='<p class="wp-caption-text">',f+=k(m,p,h,c,n),f+="</p>"}return f+="</div>"}function i(b,c){var d='<div class="priceplow-tabs">',e=1,f="checked";return a.each(b.prices,function(b,g){d+='<div class="priceplow-tab">',f=1==e?" checked":"",d+='<input class="priceplow-tab-radio" type="radio" id="priceplow-tab-'+e+'" name="priceplow-tab-group-1"'+f+">",d+='<label class="priceplow-tab-label" for="priceplow-tab-'+e+'">'+b+"</label>",d+='<div class="priceplow-tab-panel">',d+='<div class="priceplow-tab-content">',a.each(g,function(e,f){var g="even";g=0==e%2?"even":"odd",d+='<div class="priceplow-store-container priceplow-'+g+'">';var h=Array(),i=Array();a.each(f,function(a,d){var e="";e=d.flavor?d.flavor:b;var f="Go to the "+d.flavor+" product page";h.push(k(d.url,e,f,c,!1)),i.push(d.price)});var j=Math.min.apply(null,i),l=Math.max.apply(null,i),m='<div class="priceplow-store">'+f[0].store+'<br><span class="priceplow-price">',n="Go to the best price at Store "+f[0].store;m+=l==j?"$"+l:"$"+j+" - $"+l,m+="</span>",d+=k(f[0].url,m,n,c,!1),d+="</div>",d+='<div class="priceplow-detail-links">',d+=h.join(", "),d+="</div>",d+="</div>"}),d+="</div>",d+="</div>",d+="</div>",e++}),d+="</div>"}function j(a){var b='<div class="priceplow-powered-by">';return b+=k("http://www.PricePlow.com","Powered by PricePlow","The PricePlow Price Comparison Shopping Site",a,!0),b+="</div>"}function k(a,b,c,d,e,f){var g=d.link_to_priceplow,h=d.new_tab_links,i=d.campaign_id,j="",k=!1;return(1==e&&g===!0||!e)&&(k=!0,i&&(a=a+"?ic="+i),j+='<a href="'+a+'"',h!==!1&&(j+=' target="_blank"'),e!==!0&&(j+=' rel="nofollow"'),c&&(j+=' title="'+c+'"'),f&&(j+=' class="'+f+'"'),j+=">"),j+=b,k===!0&&(j+="</a>"),j}function l(b){var c;return a.each(b.prices,function(a,b){return c=b[0][0].url,b[0][0].url}),c}if(priceplow_settings.load_css){var b="priceplow-css";if(!document.getElementById(b)){var c=document.getElementsByTagName("head")[0],d=document.createElement("link");d.id=b,d.rel="stylesheet",d.type="text/css",d.href="https://www.priceplow.com/wp-plugin/css/priceplow.min.css",d.media="all",c.appendChild(d)}}var e=priceplow_settings.api_url_prefix;a.each(priceplow_settings,function(b,c){var d="Featured Products";switch(c.feature_type){case"brand":c.brand_id?(e+="brands/"+c.brand_id+"/products/popular",d="Related Products"):(console.log("PricePlow Error: Featured Brand requested, no brand_id given. Defaulting to top products."),e+="products/popular");break;case"category":c.category_id?(e+="categories/"+c.category_id+"/products/popular",d="Related Products"):(console.log("PricePlow Error: Featured Category requested, no category_id given. Defaulting to top products."),e+="products/popular");break;case"new_products":e+="products/newest",d="New Products";break;case"product":c.product_id?(e+="products/"+c.product_id,d="Featured Product:"):(console.log("PricePlow Error: Featured Product requested, no product_id given. Defaulting to top products."),e+="products/popular");break;case"top_products":default:priceplow_settings[b].feature_type="top_products",c.feature_type="top_products",e+="products/popular"}var h=!1;!c.items_to_show||"product"==c.feature_type&&c.product_id||(h?e+="&":(e+="?",h=!0),e+="count="+c.items_to_show),priceplow_settings.api_key&&(h?e+="&":(e+="?",h=!0),e+="api_key="+priceplow_settings.api_key),a.getJSON(e,function(){}).done(function(b){var e="";e+=c.widget_title?'<h3 id="priceplow-widget">'+c.widget_title+"</h3>":'<h3 id="priceplow-widget">'+d+"</h3>",e+="product"==c.feature_type&&c.product_id?g(b,priceplow_settings):f(b,priceplow_settings),e+=j(priceplow_settings);var h="";h=c.div_identifier?c.div_identifier:"priceplow-widget",a("#"+h).append(a(e))}).fail(function(){console.log("ERROR in getJSON")})})});