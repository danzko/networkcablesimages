!function(t,n){"use strict";n.module("pouchdb",[]).constant("POUCHDB_DEFAULT_METHODS",["destroy","put","post","get","remove","bulkDocs","allDocs","sync","putAttachment","getAttachment","removeAttachment","query","viewCleanup","info","compact","revsDiff"]).provider("pouchDB",["POUCHDB_DEFAULT_METHODS",function(t){this.methods=t,this.$get=["$q","$window","$rootScope",function(t,e,r){function o(n){return function(){function e(t,n){return r.$apply(function(){return t?o.reject(t):o.resolve(n)})}var o=t.defer(),c=[];return null!==arguments&&(c=Array.prototype.slice.call(arguments)),c.push(e),n.apply(this,c),o.promise}}var c=this.methods;return function(t,u){var i=new e.PouchDB(t,u),a={};return c.forEach(function(t){a[t]=o(i[t].bind(i))}),a.changes=function(t){var e=n.copy(t);return e.onChange=function(n){return r.$apply(function(){return t.onChange(n)})},i.changes(e)},a.replicate={to:i.replicate.to.bind(i),from:i.replicate.from.bind(i)},a}}]}])}(window,window.angular);